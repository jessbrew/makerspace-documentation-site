!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="43f2debd-803f-3ee7-89d7-863abbffc654")}catch(e){}}();
define(["exports","./e_file_viewer_static_scl_page_folder","react","./c_core_i18n","./c_action_bar_action_bar_strings","./c_pap-events_docsend_view_docsend_hub_entry_button","./c_portable_delete_strings","./c_files_view_file_actions_api_v2","./e_edison","./c_api_v2_routes_password_confirmation_provider","./e_core_exception","./c_lodash","./c_api_v2_routes_folders_info_provider","./e_data_modules_stormcrow","./c_core_notify","react-dom","./c_src_sink_index","metaserver/static/js/modules/constants/viewer","./c_api_v2_routes_team_provider","metaserver/static/js/langpack"],(function(e,t,a,l,o,s,n,r,i,_,u,d,c,f,m,p,E,M,g,v){"use strict";function C(e){return e&&e.__esModule?e:{default:e}}var T=C(a);const h=({user:e,fq_path:a,totalFilesCount:r,onConfirm:i,onRequestClose:_,setDeleteFileModalOpen:u})=>{const[d,c]=T.default.useState(!0),f=()=>{c(!1),null==_||_()},m=e.is_cdm_member||e.is_tmr_member,p=l.intl.formatMessage({id:"FMtrmh",defaultMessage:"{fileCount, plural, one {# file} few {# files} many {# files} other {# files}}"},{fileCount:r}),E=1===r?t.filename(a):p,M=t.isBackupBrowse()&&!t.isInsideEDB(a),g={filename:E,b:e=>T.default.createElement(t.Text,{isBold:!0},e),u:e=>T.default.createElement("span",{style:{textDecoration:"underline"}},e)},v=l.intl.formatMessage({id:"yDuoGW",defaultMessage:"Cancel"}),C=l.intl.formatMessage(o.DELETE_ACTION_STRING);return T.default.createElement(t.Modal,{open:d,isCentered:!0,onRequestClose:f,onAfterOpen:()=>null==u?void 0:u(!0),onAfterClose:()=>null==u?void 0:u(!1)},T.default.createElement(t.Modal.Header,{hasBottomSpacing:"title-standard",className:"naming-conventions__header"},T.default.createElement(t.Title,null,M?l.intl.formatMessage(n.BACKUP_DELETE_TITLE,g):l.intl.formatMessage(o.DELETE_ACTION_STRING))),T.default.createElement(t.Modal.Body,{hasVerticalSpacing:!1,className:"uxa-modal",id:"delete-file-modal"},T.default.createElement(t.Text,null,M?s.mac?l.intl.formatMessage(n.BACKUP_DELETE_CONTENT_MAC,g):l.intl.formatMessage(n.BACKUP_DELETE_CONTENT_WIN,g):m?l.intl.formatMessage({id:"emsobI",defaultMessage:"Are you sure you want to delete <b>{filename}</b> from your team member folder?"},g):l.intl.formatMessage({id:"8TOnv7",defaultMessage:"Are you sure you want to delete <b>{filename}</b> from your Dropbox?"},g))),T.default.createElement(t.Modal.Footer,null,T.default.createElement(t.Button,{variant:"opacity",onClick:f},v),T.default.createElement(t.Button,{variant:"primary",autoFocus:!0,onClick:()=>{i(),c(!1)}},C)))};e.portableDelete=({user:e,filesPath:a,fq_path:l},{onSuccess:o,onError:s,onNetworkRequest:n,onRequestClose:i,setDeleteFileModalOpen:_,onSuccessResult:u})=>{var d;d={onConfirm:async()=>{null==n||n();const t=await r.deleteFiles(a,e,!0),l=t.isError?[]:t.result.entries.filter((e=>"success"===e[".tag"]));if(t.isError||0===l.length)return void(null==s||s(t.isError?t:r.createUndefinedRpcResult()));const i=new Set;l.forEach((e=>{e.metadata.path_lower&&i.add(e.metadata.path_lower)})),null==o||o(i),null==u||u(t)},fq_path:l,totalFilesCount:a.length,user:e,onRequestClose:i,setDeleteFileModalOpen:_},t.Modal$1.showInstance(T.default.createElement(h,{...d}))}}));
//# sourceMappingURL=c_portable_delete.js-vfl4Pjlp0.map

//# debugId=43f2debd-803f-3ee7-89d7-863abbffc654