!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="a7e41c43-6cff-39ef-97ea-13efcd63bc20")}catch(e){}}();
define(["exports","./e_file_viewer_static_scl_page_folder","./c_api_v2_routes_password_confirmation_provider","./e_core_exception","./e_edison","./c_api_v2_routes_folders_info_provider","./c_pap-events_docsend_view_docsend_hub_entry_button","./c_src_sink_index"],(function(e,i,s,t,_,r,o,n){"use strict";class a{constructor(e){this.category="web-user-action",this.session_id=null,this.user_id=null,this.team_id=null,this.on_maestro=!0,this.extra={},this.ua_browser_name=null,this.ua_browser_version=null,this.ua_dist_name=null,this.ua_dist_version=null,this.ua_os_name=null,this.ua_os_version=null,this.authed_user_ids=null,this.identity_gid=null,this.anon_ip=null,this.active_user_id=null,this.team_type=null,this.locale_browser_header=null,this.locale_user_selected=null,this.referrer=null,this.user_agent=null,this.country=null,e.hasOwnProperty("event_name")&&void 0!==e.event_name&&(this.event_name=e.event_name),e.hasOwnProperty("session_id")&&void 0!==e.session_id&&(this.session_id=e.session_id),e.hasOwnProperty("source")&&void 0!==e.source&&(this.source=e.source),e.hasOwnProperty("user_id")&&void 0!==e.user_id&&(this.user_id=e.user_id),e.hasOwnProperty("team_id")&&void 0!==e.team_id&&(this.team_id=e.team_id),e.hasOwnProperty("on_maestro")&&void 0!==e.on_maestro&&(this.on_maestro=e.on_maestro),e.hasOwnProperty("extra")&&void 0!==e.extra&&(this.extra=e.extra),e.hasOwnProperty("ua_browser_name")&&void 0!==e.ua_browser_name&&(this.ua_browser_name=e.ua_browser_name),e.hasOwnProperty("ua_browser_version")&&void 0!==e.ua_browser_version&&(this.ua_browser_version=e.ua_browser_version),e.hasOwnProperty("ua_dist_name")&&void 0!==e.ua_dist_name&&(this.ua_dist_name=e.ua_dist_name),e.hasOwnProperty("ua_dist_version")&&void 0!==e.ua_dist_version&&(this.ua_dist_version=e.ua_dist_version),e.hasOwnProperty("ua_os_name")&&void 0!==e.ua_os_name&&(this.ua_os_name=e.ua_os_name),e.hasOwnProperty("ua_os_version")&&void 0!==e.ua_os_version&&(this.ua_os_version=e.ua_os_version),e.hasOwnProperty("authed_user_ids")&&void 0!==e.authed_user_ids&&(this.authed_user_ids=e.authed_user_ids),e.hasOwnProperty("identity_gid")&&void 0!==e.identity_gid&&(this.identity_gid=e.identity_gid),e.hasOwnProperty("timestamp")&&void 0!==e.timestamp&&(this.timestamp=e.timestamp),e.hasOwnProperty("anon_ip")&&void 0!==e.anon_ip&&(this.anon_ip=e.anon_ip),e.hasOwnProperty("active_user_id")&&void 0!==e.active_user_id&&(this.active_user_id=e.active_user_id),e.hasOwnProperty("team_type")&&void 0!==e.team_type&&(this.team_type=e.team_type),e.hasOwnProperty("locale_browser_header")&&void 0!==e.locale_browser_header&&(this.locale_browser_header=e.locale_browser_header),e.hasOwnProperty("locale_user_selected")&&void 0!==e.locale_user_selected&&(this.locale_user_selected=e.locale_user_selected),e.hasOwnProperty("referrer")&&void 0!==e.referrer&&(this.referrer=e.referrer),e.hasOwnProperty("user_agent")&&void 0!==e.user_agent&&(this.user_agent=e.user_agent),e.hasOwnProperty("country")&&void 0!==e.country&&(this.country=e.country),e.hasOwnProperty("view_type")&&void 0!==e.view_type&&(this.view_type=e.view_type),e.hasOwnProperty("file_nsid")&&void 0!==e.file_nsid&&(this.file_nsid=e.file_nsid),e.hasOwnProperty("file_sjid")&&void 0!==e.file_sjid&&(this.file_sjid=e.file_sjid),e.hasOwnProperty("file_id")&&void 0!==e.file_id&&(this.file_id=e.file_id),e.hasOwnProperty("file_name")&&void 0!==e.file_name&&(this.file_name=e.file_name),e.hasOwnProperty("file_path")&&void 0!==e.file_path&&(this.file_path=e.file_path),e.hasOwnProperty("file_size")&&void 0!==e.file_size&&(this.file_size=e.file_size),e.hasOwnProperty("file_extension")&&void 0!==e.file_extension&&(this.file_extension=e.file_extension),e.hasOwnProperty("request_id")&&void 0!==e.request_id&&(this.request_id=e.request_id),e.hasOwnProperty("upload_id")&&void 0!==e.upload_id&&(this.upload_id=e.upload_id),e.hasOwnProperty("all_fsw_ids")&&void 0!==e.all_fsw_ids&&(this.all_fsw_ids=e.all_fsw_ids),e.hasOwnProperty("filtered_fsw_ids")&&void 0!==e.filtered_fsw_ids&&(this.filtered_fsw_ids=e.filtered_fsw_ids),e.hasOwnProperty("browser_width")&&void 0!==e.browser_width&&(this.browser_width=e.browser_width),e.hasOwnProperty("browser_height")&&void 0!==e.browser_height&&(this.browser_height=e.browser_height),e.hasOwnProperty("device_width")&&void 0!==e.device_width&&(this.device_width=e.device_width),e.hasOwnProperty("device_height")&&void 0!==e.device_height&&(this.device_height=e.device_height),e.hasOwnProperty("action_source")&&void 0!==e.action_source&&(this.action_source=e.action_source),Object.seal(this)}}const d=new class{constructor(e){this.registerRowInjector=e=>{this.rowInjectors.push(e)},this.log=e=>{let i={};this.rowInjectors.forEach((e=>{const s=e();i={...i,...s,extra:{...i.extra,...s.extra}}})),this.hiveLogger.log(new a({...i,...e,extra:{...i.extra,...e.extra}}))},this.hiveLogger=e||new i.HiveLogger,this.rowInjectors=[]}};function l(e){return!!e&&!!e.fq_path}var u;function c(e){d.log(e)}!function(e){e.MAESTRO_RIGHT_SIDEBAR="MAESTRO_RIGHT_SIDEBAR",e.MAESTRO_PHOTOS_RIGHT_SIDEBAR="MAESTRO_PHOTOS_RIGHT_SIDEBAR",e.LEGACY_HEADER_ACTIONS="LEGACY_HEADER_ACTIONS",e.DRAG="DRAG",e.GLOBAL_CREATE="GLOBAL_CREATE",e.ACTION_BAR_UPLOAD_BUTTON="ACTION_BAR_UPLOAD_BUTTON"}(u||(u={})),d.registerRowInjector((()=>({browser_width:window.innerWidth,browser_height:window.innerHeight,device_width:window.screen&&window.screen.width,device_height:window.screen&&window.screen.height}))),e.countFilesAndFolders=function(e){const i=e.filter((e=>l(e)&&e.is_dir)).count();return{num_files_selected:e.filter((e=>l(e)&&!e.is_dir)).count(),num_folders_selected:i}},e.logAutoFolderAdoptionSnackbar=function({action_source:e,event_name:i,file_nsid:s,source:t,trigger_rule:_,user_id:r,snackbar_click_option:o}){c({user_id:r,event_name:i,action_source:e,file_nsid:s,extra:{source:t||null,trigger_rule:_,snackbar_click_option:o||null}})},e.logBrowseAction=function({uid:e,source:s,action:t,num_files_selected:_,num_folders_selected:r,view_type:o,result:n,error_summary:a,action_surface:d,action_source:u,batch_success_count:h,batch_fail_count:f,lookup_error_type:w,extra:v}){let m={num_files_selected:_,num_folders_selected:r,source:s,view_type:o,error_summary:a};if(l(n)){const e=n,{request_id:s,ns_id:t,sjid:_,file_id:r,fq_path:o,bytes:a,ext:d}=e;m={...m,request_id:s,file_nsid:t,file_sjid:_,file_id:r,file_name:i.filename(o),file_path:o,file_size:a,file_extension:d}}else if(function(e){return!!e&&!!e.pad_id}(n)){const e=n,{request_id:i}=e;m={...m,request_id:i}}c({user_id:e,event_name:t,source:s,view_type:o,request_id:m.request_id,file_nsid:m.file_nsid,file_sjid:m.file_sjid,file_id:m.file_id,file_name:m.file_name,file_path:m.file_path,file_size:m.file_size,file_extension:m.file_extension,action_source:u,extra:{...v,num_files_selected:String(m.num_files_selected),num_folders_selected:String(m.num_folders_selected),error_summary:m.error_summary||null,action_surface:d||null,batch_success_count:h?String(h):null,batch_fail_count:f?String(f):null,lookup_error_type:w||null}})},e.logFileAction=function({uid:e,action:i,num_files_selected:s,num_folders_selected:t,source:_,view_type:r,jobId:o,error_summary:n,error:a,batch_success_count:d,batch_fail_count:l,lookup_error_type:u,item_id:h,item_size:f,item_mime:w,extra:v={}}){c({user_id:e,event_name:i,source:_,view_type:r,extra:{num_files_selected:s?s.toString():null,num_folders_selected:t?t.toString():null,error_summary:n||null,error:a||null,job_id:o||null,batch_success_count:d?String(d):null,batch_fail_count:l?String(l):null,lookup_error_type:u||null,item_id:h||null,item_size:String(f)||null,item_mime:w||null,...v}})},e.logFileOperationModalClick=function({uid:e,event_name:i,selectedPath:s}){c({user_id:e,event_name:i,extra:s?{selectedPath:s}:{}})},e.logFolderRuleFeedbackModal=function({uid:e,feedback_source:i,modal_session_id:s,event_name:t,file_path:_,error:r}){c({user_id:e,file_path:_,event_name:t,extra:{feedback_source:i,modal_session_id:s,error:r||null}})},e.logViewShareModal=function({uid:e,modal_session_id:s,file_nsid:t,file_sjid:_,file_id:r,file_name:o,file_path:n}){c({user_id:e,event_name:i.WebUserActionLogEvent.VIEW_SHARE_MODEL,file_nsid:t,file_sjid:_,file_id:r,file_name:o,file_path:n,extra:{modal_session_id:s}})},e.logWebUserAction=c,e.makeSelectionEvent=function(e,s){const t=s.selected.subtract(e.selected);if(!t.size){const t=e.selected.subtract(s.selected);return{event:i.WebUserActionLogEvent.UNSELECT_ROW,itemId:t.first()}}return{event:i.WebUserActionLogEvent.SELECT_ROW,itemId:t.first()}}}));
//# sourceMappingURL=c_browse_action_logger.js-vflPEKM2P.map

//# debugId=a7e41c43-6cff-39ef-97ea-13efcd63bc20