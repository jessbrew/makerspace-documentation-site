!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="59809081-5e6d-3a41-b0f6-c7cdbacb1b89")}catch(e){}}();
define(["exports","./e_file_viewer_static_scl_page_folder","react","./c_core_data_ui","./c_file_viewer_toolbar_toolbar_holder","./c_core_i18n","./c_file_viewer_hooks_usePrevious","./c_file_viewer_toolbar_toolbar_holder2","./c_file_viewer_toolbar_utils","./c_dig-icons_assets_ui-icon_line_upload","./c_file_viewer_toolbar_fullscreen_button","./c_core_data_actions","./c_file_viewer_components_preview_button","./c_file_viewer_hooks_use_mouse_active","./c_dig-icons_assets_ui-icon_line_zoom-out","./c_react-redux_hooks_useDispatch","./e_edison","./c_pap-events_docsend_view_docsend_hub_entry_button","./c_api_v2_routes_password_confirmation_provider","./e_core_exception","./c_lodash","./c_api_v2_routes_folders_info_provider","./e_data_modules_stormcrow","./c_core_notify","react-dom","./c_src_sink_index","metaserver/static/js/modules/constants/viewer","./c_api_v2_routes_team_provider","./c_file_viewer_keyboard_bindings","./c_file_viewer_api_navigation","./c_core_utils_browser_detection","./c_preview_audio_video_helper_dimensions","./c_react_query_helpers_queries_file_content_metadata","./c_juggle_resize-observer_ResizeObserver","metaserver/static/js/langpack","./c_dig-icons_assets_ui-icon_line_person-circle","./c_dig-icons_assets_ui-icon_line_passwords"],(function(e,a,t,i,l,o,s,n,r,d,c,u,_,g,f,m,v,b,p,w,M,y,T,C,I,P,S,h,E,k,x,F,O,z,A,Z,W){"use strict";function U(e){if(e&&e.__esModule)return e;var a=Object.create(null);return e&&Object.keys(e).forEach((function(t){if("default"!==t){var i=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(a,t,i.get?i:{enumerable:!0,get:function(){return e[t]}})}})),a.default=e,Object.freeze(a)}var V=U(t);const j=()=>{const e=o.useIntl(),{onFindInDoc:a}=s.usePreviewControls(),t=e.formatMessage({id:"hYpvWY",defaultMessage:"Find in document"});return a?V.createElement(V.Fragment,null,V.createElement(r.ToolbarIcon,{label:t,onClick:a,icon:d.SearchLine,disabled:!1,variant:"borderless"}),V.createElement(n.ToolbarSeparator,null)):null};a.injectInternalStyle("/static/js/file_viewer/toolbar/zoom_controls.module.out-vflZO0n7q.css",(e=>"._zoom-controls_19i79_1{align-items:center;display:flex;padding-right:0}._zoom-button-wrapper_19i79_7{padding-left:var(--dig-spacing__micro__xsmall)}._zoom-button-spacing_19i79_11{padding:0 var(--dig-spacing__micro__small)}"));const B=({previewType:e,callbacks:t,breakpoint:l=g.FileViewerBreakpoint.LG})=>{const{onZoomOut:s,onZoomIn:n,onZoomToPercent:d,onFitToWidthOrPage:c}=t,u=o.useIntl(),_=i.useZoomScaleFactor(),m=i.useZoomFitScaleFactor(),v=u.formatMessage({id:"0ZiqhW",defaultMessage:"Zoom out"}),b=u.formatMessage({id:"yuwJIR",defaultMessage:"Zoom in"});return void 0!==_&&void 0!==m&&[a.PreviewType.Image,a.PreviewType.SsrDoc].includes(e)?V.createElement("div",{className:"_zoom-controls_19i79_1"},V.createElement(r.ToolbarIcon,{label:v,onClick:s,icon:f.ZoomOutLine,disabled:_<=.01,variant:"borderless"}),V.createElement(r.ToolbarIcon,{label:b,onClick:n,icon:f.ZoomInLine,disabled:_>=64,variant:"borderless"}),l!==g.FileViewerBreakpoint.SM&&V.createElement("div",{className:"_zoom-button-spacing_19i79_11"},V.createElement(D,{scaleFactor:_,previewType:e,callbacks:{onZoomToPercent:d,onFitToWidthOrPage:c}}))):null};B.displayName="ZoomControls";const N=[.1,.25,.5,.75,1,1.25,1.5,2,4,8,16,64],D=({scaleFactor:e,callbacks:t})=>{const{onZoomToPercent:i,onFitToWidthOrPage:l}=t,s=o.useIntl(),{logUserAction:n}=a.useFileViewerContext(),r=s.formatNumber(e,{style:"percent",maximumFractionDigits:0}),d=s.formatMessage({id:"XHCS37",defaultMessage:"Zoom percentage dropdown button; {percentage}"},{percentage:r}),c=a.useStabilizedCallback((e=>{"fit_to_width"===e?(n(a.UserAction.ZoomFitToWidth,a.UserActionContext.PreviewToolbar),l(!0)):"fit_to_page"===e?(n(a.UserAction.ZoomFitToPage,a.UserActionContext.PreviewToolbar),l(!1)):(n(a.UserAction.ZoomChangePercentage,a.UserActionContext.PreviewToolbar),i(e))}));return V.createElement(a.Menu.Wrapper,{onSelection:c},(({getTriggerProps:t,getContentProps:i})=>V.createElement(V.Fragment,null,V.createElement(_.PreviewButton,{...t(),variant:"outline","aria-label":d,hasNoUnderline:!0,withDropdownIcon:!0},s.formatNumber(e,{style:"percent",maximumFractionDigits:0})),V.createElement(a.Menu.Content,{...i()},V.createElement(a.Menu.Segment,null,V.createElement(a.Menu.ActionItem,{value:"fit_to_width"},s.formatMessage({id:"WCG5C5",defaultMessage:"Fit to width"})),V.createElement(a.Menu.ActionItem,{value:"fit_to_page"},s.formatMessage({id:"nfpyB1",defaultMessage:"Fit to page"}))),V.createElement(a.Menu.Segment,null,N.map((e=>V.createElement(a.Menu.ActionItem,{key:e,value:e},s.formatNumber(e,{style:"percent",maximumFractionDigits:0})))))))))};D.displayName="ZoomButton";const H=e=>{const{breakpoint:t,actionContext:i}=e,{fileViewerId:l,logUserAction:o}=a.useFileViewerContext(),s=a.useCurrentPreviewMetadata().previewType,n=a.useFileViewerSelector(a.getCurrentPreviewKey,l),r=m.useDispatch(),d=a.useStabilizedCallback((()=>{r(u.zoomOut({fileViewerId:l,previewKey:n})),o(a.UserAction.ZoomOut,null!=i?i:a.UserActionContext.Toolbar)})),c=a.useStabilizedCallback((()=>{r(u.zoomIn({fileViewerId:l,previewKey:n})),o(a.UserAction.ZoomIn,null!=i?i:a.UserActionContext.Toolbar)})),_=a.useStabilizedCallback((e=>{e&&r(u.updateZoomScaleFactor({fileViewerId:l,previewKey:n,zoomType:"zoomPercent",zoomScaleFactor:e}))})),g=a.useStabilizedCallback((e=>{r(u.updateZoomScaleFactor({fileViewerId:l,previewKey:n,zoomType:e?"fitToWidth":"fitToPage"}))}));return V.default.createElement(B,{previewType:s,callbacks:{onZoomOut:d,onZoomIn:c,onZoomToPercent:_,onFitToWidthOrPage:g},breakpoint:t})};H.displayName="PreviewZoomControl";a.injectInternalStyle("/static/js/file_viewer/toolbar/text_encoding.module.out-vfl6XaW56.css",(e=>"._text-encoding-container_1fpxp_1{padding:0 var(--dig-spacing__micro__xsmall)}"));const K=[{label:o.defineMessage({id:"uNDSiK",defaultMessage:"UTF-8"}),value:"utf-8"},{label:o.defineMessage({id:"poEJ7H",defaultMessage:"UTF-16 LE"}),value:"utf-16le"},{label:o.defineMessage({id:"4X58C7",defaultMessage:"UTF-16 BE"}),value:"utf-16be"},{label:o.defineMessage({id:"KA1h/i",defaultMessage:"Western (Windows 1252)"}),value:"windows-1252"},{label:o.defineMessage({id:"fu9W7q",defaultMessage:"Western (ISO 8859-1)"}),value:"iso-8859-1"},{label:o.defineMessage({id:"5OT9p3",defaultMessage:"Western (ISO 8859-15)"}),value:"iso-8859-15"},{label:o.defineMessage({id:"fNiqPK",defaultMessage:"Western (Macintosh)"}),value:"macintosh"},{label:o.defineMessage({id:"lMH5yY",defaultMessage:"DOS (CP 866)"}),value:"ibm866"},{label:o.defineMessage({id:"PMLYZQ",defaultMessage:"Central European (ISO 8859-2)"}),value:"iso-8859-2"},{label:o.defineMessage({id:"/5cJ5V",defaultMessage:"Western (ISO 8859-3)"}),value:"iso-8859-3"},{label:o.defineMessage({id:"MoxlfT",defaultMessage:"Baltic (ISO 8859-4)"}),value:"iso-8859-4"},{label:o.defineMessage({id:"H05Xqj",defaultMessage:"Cyrillic (ISO 8859-5)"}),value:"iso-8859-5"},{label:o.defineMessage({id:"iO550g",defaultMessage:"Arabic (ISO 8859-6)"}),value:"iso-8859-6"},{label:o.defineMessage({id:"fcZ9t/",defaultMessage:"Greek (ISO 8859-7)"}),value:"iso-8859-7"},{label:o.defineMessage({id:"rfBxiz",defaultMessage:"Hebrew (ISO 8859-8)"}),value:"iso-8859-8"},{label:o.defineMessage({id:"kTXfvj",defaultMessage:"Hebrew (ISO-Visual)"}),value:"iso-8859-8i"},{label:o.defineMessage({id:"68/LBP",defaultMessage:"Nordic (ISO 8859-10)"}),value:"iso-8859-10"},{label:o.defineMessage({id:"JIPbQS",defaultMessage:"Baltic (ISO 8859-13)"}),value:"iso-8859-13"},{label:o.defineMessage({id:"oAEIJB",defaultMessage:"Celtic (ISO 8859-14)"}),value:"iso-8859-14"},{label:o.defineMessage({id:"Qjyql8",defaultMessage:"Western (ISO 8859-16)"}),value:"iso-8859-16"},{label:o.defineMessage({id:"CotI0w",defaultMessage:"Cyrillic (KOI8-R)"}),value:"koi8-r"},{label:o.defineMessage({id:"yfrxp4",defaultMessage:"Cyrillic (KOI8-U)"}),value:"koi8-u"},{label:o.defineMessage({id:"wsS/yZ",defaultMessage:"Thai (Windows 874)"}),value:"windows-874"},{label:o.defineMessage({id:"HwqH4P",defaultMessage:"Central European (Windows 1250)"}),value:"windows-1250"},{label:o.defineMessage({id:"ZfVgfk",defaultMessage:"Cyrillic (Windows 1251)"}),value:"windows-1251"},{label:o.defineMessage({id:"FX3mLw",defaultMessage:"Greek (Windows 1253)"}),value:"windows-1253"},{label:o.defineMessage({id:"dN2/fy",defaultMessage:"Turkish (Windows 1254)"}),value:"windows-1254"},{label:o.defineMessage({id:"JsVM7e",defaultMessage:"Hebrew (Windows 1255)"}),value:"windows-1255"},{label:o.defineMessage({id:"jJWptO",defaultMessage:"Arabic (Windows 1256)"}),value:"windows-1256"},{label:o.defineMessage({id:"F5fHRC",defaultMessage:"Baltic (Windows 1257)"}),value:"windows-1257"},{label:o.defineMessage({id:"5tXulG",defaultMessage:"Vietnamese (Windows 1258)"}),value:"windows-1258"},{label:o.defineMessage({id:"ahQ/LC",defaultMessage:"Chinese Simplified (GBK)"}),value:"gbk"},{label:o.defineMessage({id:"DVtgA8",defaultMessage:"Chinese Simplified (GB18030)"}),value:"gb18030"},{label:o.defineMessage({id:"HxL6Cr",defaultMessage:"Chinese Traditional (Big5)"}),value:"big5"},{label:o.defineMessage({id:"uRPDo4",defaultMessage:"Japanese (EUC-JP)"}),value:"euc-jp"},{label:o.defineMessage({id:"oQyQ+G",defaultMessage:"Japanese (ISO 2022-JP)"}),value:"iso-2022-jp"},{label:o.defineMessage({id:"gq9zB3",defaultMessage:"Japanese (Shift-JIS)"}),value:"shift-jis"},{label:o.defineMessage({id:"Ok/Fel",defaultMessage:"Korean (EUC-KR)"}),value:"euc-kr"}],L=K.slice(0,3),J=K.slice(3),q=()=>{const e=a.useCurrentPreviewMetadata().previewType,{fileViewerId:t}=a.useFileViewerContext(),i=a.useFileViewerSelector(a.getCurrentPreviewKey,t),l=o.useIntl(),{logUserAction:s}=a.useFileViewerContext(),[n,r]=a.usePreviewKeyAtom(a.textEncodingAtom,i),d=V.useMemo((()=>{var e;return null===(e=K.find((e=>e.value===n)))||void 0===e?void 0:e.label}),[n]),c=e=>{s(a.UserAction.ChangeTextEncoding,a.UserActionContext.PreviewToolbar,{text_encoding:e}),r(e)};return n&&[a.PreviewType.Text,a.PreviewType.HTML].includes(e)?V.createElement(a.Menu.Wrapper,{onSelection:c,className:"_text-encoding-container_1fpxp_1"},(({getTriggerProps:e,getContentProps:t})=>V.createElement(V.Fragment,null,V.createElement(_.PreviewButton,{...e(),variant:"outline",hasNoUnderline:!0,withDropdownIcon:!0},d?l.formatMessage(d):n),V.createElement(a.Menu.Content,{...t()},V.createElement(a.Menu.Segment,null,L.map((e=>V.createElement(a.Menu.ActionItem,{key:e.value,value:e.value},l.formatMessage(e.label))))),V.createElement(a.Menu.Segment,null,J.map((e=>V.createElement(a.Menu.ActionItem,{key:e.value,value:e.value},l.formatMessage(e.label))))))))):null};q.displayName="TextEncoding";a.injectInternalStyle("/static/js/file_viewer/toolbar/toolbar.module.out-vflq62FZV.css",(e=>"._lhs_1ubzy_1{align-items:center;display:flex}._lhs_1ubzy_1._fullscreen_1ubzy_6{padding-left:var(--dig-spacing__micro__xsmall)}._rhs_1ubzy_10{align-items:center;display:flex}"));const G=new Set([a.PreviewType.Excel,a.PreviewType.HTML,a.PreviewType.Text,a.PreviewType.Image,a.PreviewType.RawHTML,a.PreviewType.SsrDoc]),R=e=>{const{actions:t,breakpoint:o,logAction:s,noLeftMargin:r=!1}=e,d=a.useCurrentPreviewMetadata().previewType,u=i.useIsFullscreen(),{featureConfig:_}=a.useFileViewerContext();return V.default.createElement(l.ToolbarHolder,{role:"toolbar","data-tooltip":"redesigned-previews-toolbar",isFullscreen:u,noLeftMargin:r,breakpoint:o},d===a.PreviewType.SsrDoc&&V.default.createElement("div",{className:a.cx("_lhs_1ubzy_1",{_fullscreen_1ubzy_6:u})},V.default.createElement(n.DocControls,{breakpoint:o})),V.default.createElement(l.ActionBar,{previewsToolbarOptimizationVariant:_.previews_toolbar_optimization,actions:t,logAction:s,breakpoint:o}),V.default.createElement("div",{className:"_rhs_1ubzy_10"},V.default.createElement(j,null),V.default.createElement(H,{breakpoint:o}),V.default.createElement(q,null),(e=>G.has(e))(d)&&V.default.createElement(c.FullscreenButton,{variant:"borderless"})))};R.displayName="Toolbar",e.Toolbar=R}));
//# sourceMappingURL=c_file_viewer_toolbar.js-vflO9x8_B.map

//# debugId=59809081-5e6d-3a41-b0f6-c7cdbacb1b89