!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="ae278461-76c5-335a-b356-f19e08ff20a1")}catch(e){}}();
define(["exports","./c_api_v2_routes_password_confirmation_provider"],(function(e,t){"use strict";var r,n,a;function i(e){const t=a[e];return"string"!=typeof t?e.toString():t[0].toLowerCase()+t.substring(1).replace(/[A-Z]/g,(e=>"_"+e.toLowerCase()))}e.MethodKind=void 0,(r=e.MethodKind||(e.MethodKind={}))[r.Unary=0]="Unary",r[r.ServerStreaming=1]="ServerStreaming",r[r.ClientStreaming=2]="ClientStreaming",r[r.BiDiStreaming=3]="BiDiStreaming",function(e){e[e.NoSideEffects=1]="NoSideEffects",e[e.Idempotent=2]="Idempotent"}(n||(n={})),function(e){e[e.Canceled=1]="Canceled",e[e.Unknown=2]="Unknown",e[e.InvalidArgument=3]="InvalidArgument",e[e.DeadlineExceeded=4]="DeadlineExceeded",e[e.NotFound=5]="NotFound",e[e.AlreadyExists=6]="AlreadyExists",e[e.PermissionDenied=7]="PermissionDenied",e[e.ResourceExhausted=8]="ResourceExhausted",e[e.FailedPrecondition=9]="FailedPrecondition",e[e.Aborted=10]="Aborted",e[e.OutOfRange=11]="OutOfRange",e[e.Unimplemented=12]="Unimplemented",e[e.Internal=13]="Internal",e[e.Unavailable=14]="Unavailable",e[e.DataLoss=15]="DataLoss",e[e.Unauthenticated=16]="Unauthenticated"}(a||(a={}));class o extends Error{constructor(e,t=a.Unknown,r,n){var o;super(function(e,t){return e.length?`[${i(t)}] ${e}`:`[${i(t)}]`}(e,t)),this.name="ConnectError",Object.setPrototypeOf(this,new.target.prototype),this.rawMessage=e,this.code=t;const s=null!==(o=null!=n?n:Array.isArray(r)?void 0:r)&&void 0!==o?o:{};this.metadata=new Headers(s),this.details=[]}}function s(e,t=a.Unknown,r={}){return e instanceof o?e:e instanceof Error?"AbortError"==e.name?new o(e.message,a.Canceled,r):new o(e.message,a.Unknown,r):new o(String(e),t,r)}function c(t,r){return function(e,t){const r={};for(const[n,a]of Object.entries(e.methods)){const i=t(Object.assign(Object.assign({},a),{localName:n,service:e}));null!=i&&(r[n]=i)}return r}(t,(n=>{switch(n.kind){case e.MethodKind.Unary:return function(e,t,r){return async function(n,a){var i,o;const s=await e.unary(t,r,null==a?void 0:a.signal,null==a?void 0:a.timeoutMs,null==a?void 0:a.headers,n);return null===(i=null==a?void 0:a.onHeader)||void 0===i||i.call(a,s.header),null===(o=null==a?void 0:a.onTrailer)||void 0===o||o.call(a,s.trailer),s.message}}(r,t,n);case e.MethodKind.ServerStreaming:return function(e,t,r){return function(n,a){let i;return{[Symbol.asyncIterator]:()=>({async next(){var o,s;i||(i=await e.serverStream(t,r,null==a?void 0:a.signal,null==a?void 0:a.timeoutMs,null==a?void 0:a.headers,n),null===(o=null==a?void 0:a.onHeader)||void 0===o||o.call(a,i.header));const c=await i.read();return c.done?(null===(s=null==a?void 0:a.onTrailer)||void 0===s||s.call(a,i.trailer),{done:!0,value:void 0}):{done:!1,value:c.value}}})}}}(r,t,n);default:return null}}))}function d(e,t){return t.concat().reverse().reduce(((e,t)=>t(e)),e)}function u(e){let t,r=new Uint8Array(0);function n(e){const t=new Uint8Array(r.length+e.length);t.set(r),t.set(e,r.length),r=t}return new ReadableStream({start(){t=e.getReader()},async pull(e){let i;for(;;){if(void 0===i&&r.byteLength>=5){let e=0;for(let t=1;t<5;t++)e=(e<<8)+r[t];i={flags:r[0],length:e}}if(void 0!==i&&r.byteLength>=i.length+5)break;const e=await t.read();if(e.done)break;n(e.value)}if(void 0===i)return 0==r.byteLength?void e.close():void e.error(new o("premature end of stream",a.DataLoss));const s=r.subarray(5,5+i.length);r=r.subarray(5+i.length),e.enqueue({flags:i.flags,data:s})}})}function l(e,t,r){const n=e.data.length+5,a=new Uint8Array(t,r,n);a[0]=e.flags;for(let t=e.data.length,r=4;r>0;r--)a[r]=t%256,t>>>=8;return a.set(e.data,5),n}class h extends t.Message{constructor(e){super(),this.code=0,this.message="",this.details=[],t.proto3.util.initPartial(e,this)}static fromBinary(e,t){return(new h).fromBinary(e,t)}static fromJson(e,t){return(new h).fromJson(e,t)}static fromJsonString(e,t){return(new h).fromJsonString(e,t)}static equals(e,r){return t.proto3.util.equals(h,e,r)}}function g(e){!function(){try{new Headers}catch(e){throw new Error("connect-web requires the fetch API. Are you running on an old version of Node.js? Node.js is not supported in Connect for Web - please stay tuned for Connect for Node.")}}();const t=e;return{async unary(r,n,i,o,c,l){var h,g,p,E;try{return await(g={stream:!1,service:r,method:n,url:`${e.baseUrl.replace(/\/$/,"")}/${r.typeName}/${n.name}`,init:{method:"POST",credentials:null!==(h=e.credentials)&&void 0!==h?h:"same-origin",redirect:"error",mode:"cors"},header:y(c,o),message:l instanceof n.I?l:new n.I(l),signal:null!=i?i:(new AbortController).signal},p=async r=>{var i,o,c;const d=await fetch(r.url,Object.assign(Object.assign({},r.init),{headers:r.header,signal:r.signal,body:f(r.message,e.binaryOptions)})),l=null!==(c=null!==(o=null!==(i=v(d))&&void 0!==i?i:w(d.headers))&&void 0!==o?o:S(d.headers))&&void 0!==c?c:b(d.headers);if(l)throw l;try{if(!d.body)throw"missing response body";const e=u(d.body).getReader(),r=await e.read();if(r.done)throw"premature eof";if(r.value.flags===m)throw O(r.value.data),"unexpected trailer";const a=n.O.fromBinary(r.value.data,t.binaryOptions),i=await e.read();if(i.done)throw"missing trailer";if(i.value.flags!==m)throw"missing trailer";const o=O(i.value.data);if(!(await e.read()).done)throw"extraneous data";return{stream:!1,header:d.headers,message:a,trailer:o}}catch(e){throw s(e,a.Internal,_(d.headers))}},E=t.interceptors,E&&(p=d(p,E)),p(g))}catch(e){throw s(e,a.Internal)}},async serverStream(t,r,n,i,c,l){var h,g,p,E;try{return await(g={stream:!1,service:t,method:r,url:`${e.baseUrl.replace(/\/$/,"")}/${t.typeName}/${r.name}`,init:{method:"POST",credentials:null!==(h=e.credentials)&&void 0!==h?h:"same-origin",redirect:"error",mode:"cors"},header:y(c,i),message:l instanceof r.I?l:new r.I(l),signal:null!=n?n:(new AbortController).signal},p=async n=>{var i,c,d;const l=await fetch(n.url,Object.assign(Object.assign({},n.init),{headers:n.header,signal:n.signal,body:f(n.message,e.binaryOptions)})),h=null!==(d=null!==(c=null!==(i=v(l))&&void 0!==i?i:w(l.headers))&&void 0!==c?c:S(l.headers))&&void 0!==d?d:b(l.headers);if(h)throw h;if(!l.body)throw s("missing response body",a.Internal,_(l.headers));const g=u(l.body).getReader();let p=!1,y=!1;return{stream:!0,service:t,method:r,header:l.headers,trailer:new Headers,async read(){try{const t=await g.read();if(t.done){if(y&&!p)throw new o("missing trailers",a.Internal,_(l.headers));return{done:!0,value:void 0}}return(t.value.flags&m)===m?(p=!0,O(t.value.data).forEach(((e,t)=>this.trailer.append(t,e))),{done:!0,value:void 0}):(y=!0,{done:!1,value:r.O.fromBinary(t.value.data,e.binaryOptions)})}catch(e){throw s(e,a.Unknown,_(l.headers))}}}},E=e.interceptors,E&&(p=d(p,E)),p(g))}catch(e){throw s(e,a.Internal)}}}}function f(e,t){return function(...e){const t=new ArrayBuffer(e.reduce(((e,t)=>e+t.data.length+5),0));let r=0;for(const n of e)r+=l(n,t,r);return new Uint8Array(t)}({data:e.toBinary(t),flags:p})}h.runtime=t.proto3,h.typeName="grpc.status.v1.Status",h.fields=t.proto3.util.newFieldList((()=>[{no:1,name:"code",kind:"scalar",T:5},{no:2,name:"message",kind:"scalar",T:9},{no:3,name:"details",kind:"message",T:t.Any,repeated:!0}]));const p=0,m=128;function y(e,t){const r=new Headers(null!=e?e:{});return r.set("Content-Type","application/grpc-web+proto"),r.set("X-Grpc-Web","1"),r.set("X-User-Agent","@bufbuild/connect-web"),void 0!==t&&r.set("Grpc-Timeout",`${t}m`),r}function w(e){const t=e.get("Content-Type");switch(null==t?void 0:t.toLowerCase()){case"application/grpc-web":case"application/grpc-web+proto":return;case"application/grpc-web-text":case"application/grpc-web-text+proto":return new o("grpc-web-text is not supported",a.Internal,_(e));default:return new o(`unexpected content type: ${String(t)}`,a.Internal,_(e))}}function v(e){var t;if(function(e){switch(e){case 200:return null;case 400:return a.Internal;case 401:return a.Unauthenticated;case 403:return a.PermissionDenied;case 404:return a.Unimplemented;case 429:case 502:case 503:case 504:return a.Unavailable;default:return a.Unknown}}(e.status))return new o(decodeURIComponent(null!==(t=e.headers.get("grpc-message"))&&void 0!==t?t:""),_(e.headers))}function b(e){var t;const r=e.get("grpc-status");if(null===r)return;const n=parseInt(r);return 0!==n?n in a?new o(decodeURIComponent(null!==(t=e.get("grpc-message"))&&void 0!==t?t:""),n,void 0,_(e)):new o(`invalid grpc-status: ${r}`,a.Internal,void 0,_(e)):void 0}function S(e){const r=e.get("grpc-status-details-bin");if(null!=r)try{const n=function(e,r,n){try{const a=t.protoBase64.dec(e);return r?r.fromBinary(a,n):a}catch(e){throw new o(e instanceof Error?e.message:String(e),a.DataLoss)}}(r,h);if(0==n.code)return;const i=new o(n.message,n.code,void 0,e);return i.details.push(...n.details),i}catch(t){const r=s(t,a.Internal);return e.forEach(((e,t)=>r.metadata.append(t,e))),r}}function O(e){var t;const r=function(e){const t=new Headers,r=String.fromCharCode(...e).split("\r\n");for(const e of r){if(""===e)continue;const r=e.indexOf(":");if(r>0){const n=e.substring(0,r).trim(),a=e.substring(r+1).trim();t.append(n,a)}}return t}(e),n=null!==(t=S(r))&&void 0!==t?t:b(r);if(n)throw n;return r}function _(e){return Object.fromEntries(Array.from(e.entries()))}function E(e,t,r={}){if(e)return;const n=new Error(`Assertion Error: ${t}`),{tags:a=[],exc_extra:i=null}=r;throw n.assertOptions={tags:a.concat("module:exception","assert"),exc_extra:i},n.isAssertion=!0,n}const A=/^(?:([^:\/\\?#]+):)?(?:[\/\\]{2}([^\/\\?#]*))?([^?#]*)(?:\?([^#]*))?(?:[#](.*))?$/,U=/^[a-zA-Z][a-zA-Z0-9+.\-]*$/;class C{constructor(e={}){this.dict={},this.add(e)}static parseString(e){if(!e)return{};const t={};return e.split("&").forEach((e=>{if(""!==e){const r=e.split("="),n=C.decode(r[0]),a=C.decode(r.slice(1).join("="));if(t.hasOwnProperty(n)){const e=t[n];let r;r="string"==typeof e?[e]:void 0===e?[]:e,r.push(a),t[n]=r}else t[n]=a}})),t}add(e,t){if("string"==typeof e)t&&(Array.isArray(t)?this.dict[e]=t.map(String):this.dict[e]=String(t));else for(const t in e)if(e.hasOwnProperty(t)){const r=e[t];null!=r&&(Array.isArray(r)?this.dict[t]=r.map(String):this.dict[t]=String(r))}return this}remove(e){return delete this.dict[e],this}replace(e){return this.dict=e,this}toString(e){const t=[],r=Object.keys(this.dict).sort(e);for(const e of r)if(this.dict.hasOwnProperty(e)){const r=this.dict[e];Array.isArray(r)?r.forEach((r=>{t.push(C.encode(e)+"="+C.encode(r))})):t.push(C.encode(e)+"="+C.encode(r))}return t.length?t.join("&"):""}static decode(e){return null==e?"":x.decode(e.replace(/\+/g,"%20"))}static encode(e){return null==e?"":x.encode(e).replace(/%20/g,"+")}}class x{constructor(e={}){this.query=new C,this.initFromObject(e)}initFromObject(e){this.setScheme(e.scheme),this.authority=e.authority||"",this.path=e.path||"",this.setQuery(e.query),this.fragment=e.fragment||""}getScheme(){return this.scheme}getAuthority(){return this.authority}getPath(){return this.path}getQuery(){return this.query.dict}getFragment(){return this.fragment}setScheme(e=""){return E(!e||Boolean(e.match(U)),"Invalid scheme",{exc_extra:{scheme_param:e}}),this.scheme=e,this}setAuthority(e=""){return this.authority=e,this}setPath(e=""){return this.path=e,this}setQuery(e={}){return this.query=new C(e),this}setFragment(e=""){return this.fragment=e,this}updateQuery(e,t){return this.query.add(e,t),this}removeQuery(e){return this.query.remove(e),this}clone(){return new x(this.toObject())}toObject(){return{scheme:this.getScheme(),authority:this.getAuthority(),path:this.getPath(),query:this.getQuery(),fragment:this.getFragment()}}toString(e){let t="";return this.scheme&&(t+=this.scheme+":"),this.authority&&(t+="//"+x.encode(this.authority,":@[]")),t+this.toRelativeUri(e)}toRelativeUri(e){let t="";this.path&&(E(!this.authority||!this.path.length||"/"===this.path[0],'Path must start with a "/" if URI is not relative'),t+=x.encode(this.path,"/"));const r=this.query.toString(e);return r&&(t+="?"+r),this.fragment&&(t+="#"+x.encode(this.fragment,":@[]/&=+?#!")),t}static parse(e){const t=String(e).match(A)||[],[,r,n,a,i,o]=t,s=new x;return s.setScheme(r),s.setAuthority(x.decode(n)),s.setPath(x.decode(a)),s.setQuery(C.parseString(i)),s.setFragment(x.decode(o)),s}static decode(e){return e?decodeURIComponent(e):""}static encode(e,t=""){if(!e)return"";e=encodeURIComponent(e),t+="~";for(const r of t){const t=encodeURIComponent(r);e=e.replace(new RegExp(t,"g"),r)}return e}static encode_parts(e,t="/"){return e.split(t).map((e=>x.encode(e))).join(t)}}x.Query=C;const I=e=>!!e&&"0"!==e.toString();function T(e){const r={};e&&(e.activeUser&&I(e.activeUser.id)&&(r["X-Dropbox-Uid"]=e.activeUser.id.toString()),e.activeTeam&&I(e.activeTeam.id)&&(r["X-Dropbox-Teamid"]=e.activeTeam.id.toString()),(e.authRole||e.authActionType)&&(r["X-Dropbox-Team-Authorization"]=JSON.stringify({auth_role:String(e.authRole),auth_action_type:String(e.authActionType)})));const n=t.readCsrfToken();return n&&(r["X-CSRF-Token"]=n),r}function P(e,t){const r={grpc_service:t.service.typeName,grpc_method:t.method.name};"code"in e&&(r.grpc_code=(e.code||"").toString());const n="metadata"in e&&e.metadata?e.metadata.get("x-dropbox-request-id"):void 0;n&&(r.xhr_request_id=n);const a=e;return a.excExtra=r,a.tags=["grpc-web"],a}const R=e=>async t=>{try{const r=await e(t);return r.stream?{...r,read:async()=>{try{return await r.read()}catch(e){throw P(e,t)}}}:r}catch(e){throw P(e,t)}},N=[];"undefined"!=typeof __CONNECT_WEB_DEVTOOLS__&&N.push(__CONNECT_WEB_DEVTOOLS__),window.addEventListener("connect-web-dev-tools-ready",(()=>{"undefined"==typeof __CONNECT_WEB_DEVTOOLS__||N.includes(__CONNECT_WEB_DEVTOOLS__)||N.push(__CONNECT_WEB_DEVTOOLS__)}));const D="/web-grpc/edison";function j(e=""){return"undefined"!=typeof window?window.location.host:x.parse(e).getAuthority()}const L=e=>async r=>{const n=t.getRequestOriginalUrl(),a={"Accept-Language":t.getPageLocale(),"X-Edison-Atlasservlet":t.getAtlasservlet(),"X-Edison-Page-Name":t.getPageName(),"X-Edison-Original-Url":n,"X-Edison-Original-Referer":t.getRequestOriginalReferrer()||"","X-Edison-Prompt-Controller":t.getInitData().deprecatedPromptController||"","X-Edison-Prompt-Action":t.getInitData().deprecatedPromptAction||"","X-Dropbox-Browser-Id":t.getDeviceIdHex(),"X-Dropbox-Authority":j(n),...T(t.getAuthRequestInfo()),...t.getExtraHttpRequestHeaders()};return t.getPageName()&&(a["X-Dropbox-Client-Yaps-Attribution"]=`${t.getAtlasservlet()}:${t.getPageName()}`),Object.entries(a).filter((([e,t])=>!!t)).filter((([e,t])=>!(e.toLowerCase().startsWith("x-")&&r.header.has(e)))).forEach((([e,t])=>{t&&!r.header.has(e)&&r.header.set(e,t)})),await e(r)};function $(e=D){return g({baseUrl:e,interceptors:[R,L,...N]})}e.ConnectError=o,e.GetFoldersInfoRoutes=function(e){return e.ns("folders_info")},e.URI=x,e.assert=E,e.createEdisonGRPCWebPromiseClient=function(e,t=D){return c(e,$(t))},e.createEdisonGrpcWebTransport=$}));
//# sourceMappingURL=c_api_v2_routes_folders_info_provider.js-vfl9UR_nD.map

//# debugId=ae278461-76c5-335a-b356-f19e08ff20a1