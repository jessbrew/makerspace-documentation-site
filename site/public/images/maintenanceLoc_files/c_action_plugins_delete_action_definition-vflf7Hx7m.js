!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="4e2ada21-7021-3b93-8a94-dbdfa68218a5")}catch(e){}}();
define(["exports","./e_file_viewer_static_scl_page_folder","./c_starred_redux_slice","./c_reduxjs_toolkit_redux-toolkit","react","./c_action_bar_action_bar_strings","./c_flux_action_type","./e_core_exception","./c_api_v2_routes_password_confirmation_provider","./c_core_i18n","./c_react-redux_hooks_useDispatch","./c_dig-icons_assets_ui-icon_line_file","./c_dig-icons_assets_ui-icon_line_star","./c_action_plugins_conversion_action_conditions"],(function(e,i,r,t,a,_,s,o,l,n,c,g,S,d){"use strict";var u;!function(e){e.HOME_STARRED="HOME_STARRED",e.HOME_RECENTS="HOME_RECENTS",e.BROWSE="BROWSE",e.FILE_VIEWER="FILE_VIEWER",e.SUGGESTED_STARS="SUGGESTED_STARS",e.HOME_TASKS="HOME_TASKS",e.QUICK_VIEW_BROWSE="QUICK_VIEW_BROWSE"}(u||(u={})),u.HOME_STARRED,u.HOME_RECENTS;let f;i.injectInternalStyle("/static/metaserver/static/js/starred/star.module.out-vfllWzwgN.css",(e=>"._starToggle_ilezi_4{background-color:transparent;cursor:pointer;display:flex;padding:0}@media only screen and (min-width:1025px){._starToggle_ilezi_4 .tabbing:focus{opacity:1}}._starToggle_ilezi_4 .tabbing:focus{box-shadow:var(--dig-utilities__boxshadow__focus-ring)}.brws-file-row ._starToggle_ilezi_4,.brws-paper-row ._starToggle_ilezi_4,.tile ._starToggle_ilezi_4{margin:var(--spacing__unit--0_5) var(--spacing__unit--0_5) var(--spacing__unit--1) var(--spacing__unit--0_5)}.brws-file-row .brws-file-name-container--action-ui-inline-star ._starToggle_ilezi_4,.brws-paper-row .brws-file-name-container--action-ui-inline-star ._starToggle_ilezi_4,.tile .brws-file-name-container--action-ui-inline-star ._starToggle_ilezi_4{margin:var(--spacing__unit--0_5) var(--spacing__unit--0_5)}@media only screen and (min-width:1025px){.brws-file-row .tabbing--focused-in ._starToggle_ilezi_4,.brws-file-row:hover ._starToggle_ilezi_4,.brws-paper-row .tabbing--focused-in ._starToggle_ilezi_4,.brws-paper-row:hover ._starToggle_ilezi_4,.tile .tabbing--focused-in ._starToggle_ilezi_4,.tile:hover ._starToggle_ilezi_4{opacity:1}}.brws-file-row ._starToggleLoading_ilezi_61,.brws-file-row ._starToggleUnstarred_ilezi_64,.brws-paper-row ._starToggleLoading_ilezi_61,.brws-paper-row ._starToggleUnstarred_ilezi_64,.tile ._starToggleLoading_ilezi_61,.tile ._starToggleUnstarred_ilezi_64{opacity:0}@media only screen and (min-width:736px){.brws-file-row ._starToggleLoading_ilezi_61,.brws-file-row ._starToggleUnstarred_ilezi_64,.brws-paper-row ._starToggleLoading_ilezi_61,.brws-paper-row ._starToggleUnstarred_ilezi_64,.tile ._starToggleLoading_ilezi_61,.tile ._starToggleUnstarred_ilezi_64{opacity:1}}@media only screen and (min-width:1025px){.brws-file-row ._starToggleLoading_ilezi_61,.brws-file-row ._starToggleUnstarred_ilezi_64,.brws-paper-row ._starToggleLoading_ilezi_61,.brws-paper-row ._starToggleUnstarred_ilezi_64,.tile ._starToggleLoading_ilezi_61,.tile ._starToggleUnstarred_ilezi_64{opacity:0}}@media only screen and (min-width:1025px){.tile--hover-forced ._starToggle_ilezi_4{opacity:1}}.recents-item ._starToggle_ilezi_4{margin-left:var(--spacing__unit--0_5);opacity:0}.recents-item:focus ._starToggle_ilezi_4,.recents-item:focus-within ._starToggle_ilezi_4,.recents-item:hover ._starToggle_ilezi_4{opacity:1}.files2-title-bar .filename ._starToggle_ilezi_4{margin:0 0 0 4px;opacity:0}.files2-title-bar .filename ._starToggle_ilezi_4._starToggleStarred_ilezi_115,.files2-title-bar .filename ._starToggle_ilezi_4:focus,.files2-title-bar:hover .filename ._starToggle_ilezi_4{opacity:1}.files2-title-bar .filename ._starToggle_ilezi_4 svg{display:block}"));function w(e,i,s,o,l){a.useEffect((()=>{l&&e(r.fetchMissingStarredStatuses([{id:i.file_id,type:r.HOME_RESOURCE_ID_TYPE.ENCODED_FILE_OBJ_ID}]))}),[i,l,e]);const n=a.useCallback((async()=>{const a=await e(r.updateStarredStatus({id:i.file_id,newStatus:!s,showSnackbar:!1}));try{t.unwrapResult(a),r.displayStarSnackbar({itemName:r.itemNameFromStarrableItem(i),isStarred:!s,success:!0}),null==o||o(!s,!0)}catch(e){r.displayStarSnackbar({itemName:r.itemNameFromStarrableItem(i),isStarred:!s,success:!1}),null==o||o(!s,!1)}}),[o,e,i,s]);return{message:s?_.UNSTAR_ACTION_STRING:_.STAR_ACTION_STRING,iconSrc:s?g.StarFill:S.StarLine,handleClick:n,isStarred:s}}const T=d.fileActionCondition,p={...d.fileActionCondition,filterValidFile:e=>{const i=d.fileActionCondition.filterValidFile(e);return!i||d.isInsideVaultFolder(i)||d.isPnmSuppressMoveSelected(i)?void 0:i}},E=[i.SDKPreviewSurface.BROWSE,i.SDKPreviewSurface.FILE_LOCKING,i.SDKPreviewSurface.HELLOSIGN,i.SDKPreviewSurface.HOME,i.SDKPreviewSurface.INBAND_SHARE,i.SDKPreviewSurface.PHOTOS,i.SDKPreviewSurface.RECENTS,i.SDKPreviewSurface.SEARCH,i.SDKPreviewSurface.SHARED_CONTENT_LINK,i.SDKPreviewSurface.SHARED_LINK,i.SDKPreviewSurface.STANDALONE_PREVIEW,i.SDKPreviewSurface.STARRED,i.SDKPreviewSurface.LOW_DISTRACTION_VIEW],b={filterValidFile:e=>d.isStarringEnabled(e)?e:void 0,filterValidUser:d.filterLoggedInUser,shouldShowForPreviewSurface:d.filterSurfaceIn(E),shouldShowForPreviewType:d.alwaysShow};e.deleteActionCondition=T,e.getStoreForStarred=()=>(f||(f=i.getStoreAndRegisterReducers({[i.STARRED_NAMESPACE_KEY]:r.reducer})),f),e.moveActionCondition=p,e.starActionConditions=b,e.useStarControl=function({getActiveFile:e,onChange:t,user:a}){const{file:_}=e(),s=c.useDispatch(),o=i.useSelector((e=>r.getIsStarred(e,_.file_id)));return w(s,_,o,t,a)},e.useStarControlWithStore=function({getActiveFile:e,onChange:i,user:t,starredStore:_}){const{file:s}=e(),o=_.dispatch,[l,n]=a.useState(r.getIsStarred(_.getState(),s.file_id));return a.useEffect((()=>{const e=_.subscribe((()=>n(r.getIsStarred(_.getState(),s.file_id))));return()=>e()}),[s.file_id,_]),w(o,s,l,i,t)}}));
//# sourceMappingURL=c_action_plugins_delete_action_definition.js-vflcOMxWN.map

//# debugId=4e2ada21-7021-3b93-8a94-dbdfa68218a5