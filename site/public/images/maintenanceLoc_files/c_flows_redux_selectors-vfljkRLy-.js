!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="dc485901-8923-3f41-b6de-64ce216a4c74")}catch(e){}}();
define(["exports","./c_api_v2_routes_flows_provider","./c_flows_redux_reducer","./e_file_viewer_static_scl_page_folder","./e_edison","./c_pap-events_docsend_view_docsend_hub_entry_button","./c_api_v2_routes_password_confirmation_provider","./e_core_exception","./c_lodash","./c_api_v2_routes_folders_info_provider","./c_src_sink_index","./c_pap-events_previews_create_folder","react","./c_core_i18n","metaserver/static/js/langpack","./e_data_modules_stormcrow","./c_core_notify","react-dom","metaserver/static/js/modules/constants/viewer","./c_api_v2_routes_team_provider"],(function(e,t,r,o,i,n,a,l,s,d,u,c,_,f,v,p,w,g,m,k){"use strict";const E=e=>e[o.AUTOMATIONS_NAMESPACE_KEY]||r.defaultAutomationsState,A=e=>{const{userAutomations:t}=E(e);if("completed"===t.status&&t.data){const e=new Map;return t.data.forEach(((t,o)=>{r.isInherited(t)||e.set(o,t)})),e}return new Map},h=e=>E(e).workflowBuilder,W=e=>{const t=h(e);return(null==t?void 0:t.actions)||[]},S=e=>{const{workflowStepsConfig:t}=E(e);return t},T=o.createSelector(S,W,((e,t)=>"completed"===e.status?0===t.length?e.allowedTriggers:1===t.length?Object.keys(e.triggerActionMaps).filter((r=>e.triggerActionMaps[r].includes(t[0].actionType))):e.allowedTriggers.filter((e=>"scheduled"!==e)):["file_add"])),B=e=>{var t;return(null===(t=h(e))||void 0===t?void 0:t.width)||r.MODAL_DEFAULT_WIDTH},b=o.createSelector(B,(e=>e===r.MODAL_FULL_WIDTH));const I=e=>{var t;return null===(t=h(e))||void 0===t?void 0:t.savedWorkflowTemplateState},x=e=>t=>{const{inheritanceBlockingFqPaths:r}=E(t);return!!e&&r.has(e)};e.canWorkflowBuilderRenderPreview=b,e.getAllowedWorkflowActions=e=>{const{workflowStepsConfig:t}=E(e);return"completed"===t.status?t.allowedActions:[]},e.getAllowedWorkflowTriggers=T,e.getAutomationsState=E,e.getFlowsFolderRulesActionExperiments=e=>{const{workflowStepsConfig:t}=E(e);return"completed"===t.status&&t.actionExperiments||[]},e.getFqPathToUserAutomations=A,e.getOptOutCheckboxState=e=>{const t=I(e);return t&&t.optOut||!1},e.getSavedWorkflowTemplateCheckboxState=e=>{const t=I(e);return t&&t.isChecked||!1},e.getSavedWorkflowTemplateExperiment=function(e){const{userExperiments:r}=E(e);let o;return"completed"===r.status&&r.data&&(o=r.data.find((e=>e.feature===t.UI_EXPERIMENTS.SAVED_WORKFLOW_TEMPLATE_CREATE))),o},e.getSavedWorkflowTemplateName=e=>{const t=I(e);return void 0!==t&&t.name||""},e.getSavedWorkflowTemplateVariant=function(e){const{userExperiments:r}=E(e);let o;return"completed"===r.status&&r.data&&(o=r.data.find((e=>e.feature===t.UI_EXPERIMENTS.SAVED_WORKFLOW_TEMPLATE_CREATE))),(null==o?void 0:o.variant)||"OFF"},e.getSavedWorkflowTemplates=e=>{const{savedWorkflowTemplates:t}=E(e);return t||[]},e.getUserAutomation=e=>t=>{if(!e)return;return A(t).get(e)},e.getUserAutomationWithInheritance=e=>t=>{const{userAutomations:r}=E(t);if(!e||"completed"!==r.status||!r.data)return;if(r.data.has(e))return r.data.get(e);if(x(e)(t))return;let i=o.parent_dir(e);for(;"/"!==i;){const n=r.data.get(i);if(n)return n.inheritable?{...n,fqPath:e,inheritedFromFqPath:n.fqPath}:void 0;if(x(i)(t))return;i=o.parent_dir(i)}},e.getUserExperiments=e=>{const{userExperiments:t}=E(e);return"completed"===t.status&&t.data?t.data:[]},e.getWorkflowBuilderActions=W,e.getWorkflowBuilderApplyToExisting=e=>{var t;return(null===(t=h(e))||void 0===t?void 0:t.applyToExistingFiles)||!1},e.getWorkflowBuilderDashboardActionSource=e=>{var t;return null===(t=h(e))||void 0===t?void 0:t.dashboardActionSource},e.getWorkflowBuilderEntryPoint=e=>{var t;return null===(t=E(e).workflowBuilder)||void 0===t?void 0:t.entryPoint},e.getWorkflowBuilderInheritable=e=>{var t;return(null===(t=h(e))||void 0===t?void 0:t.inheritable)||!1},e.getWorkflowBuilderIsEnabled=e=>{const t=h(e);return Boolean(null==t?void 0:t.isEnabled)},e.getWorkflowBuilderModalSessionId=e=>{var t;return(null===(t=E(e).workflowBuilder)||void 0===t?void 0:t.modalSessionId)||""},e.getWorkflowBuilderOperation=e=>{var t;return(null===(t=E(e).workflowBuilder)||void 0===t?void 0:t.operation)||"create"},e.getWorkflowBuilderPreviewActionId=e=>{const t=h(e);return null==t?void 0:t.previewActionId},e.getWorkflowBuilderStatus=e=>{var t;return null===(t=h(e))||void 0===t?void 0:t.isEnabled},e.getWorkflowBuilderSurface=e=>{var t;return null===(t=h(e))||void 0===t?void 0:t.surface},e.getWorkflowBuilderTrigger=e=>{const t=h(e);return null==t?void 0:t.trigger},e.getWorkflowBuilderWidth=B,e.getWorkflowStepsConfig=S,e.isInheritanceBlockingFqPath=x,e.shouldSubscribeToBolt=e=>E(e).shouldSubscribeToBolt}));
//# sourceMappingURL=c_flows_redux_selectors.js-vflTNmp-E.map

//# debugId=dc485901-8923-3f41-b6de-64ce216a4c74