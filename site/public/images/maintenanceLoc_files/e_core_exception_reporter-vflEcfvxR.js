!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="b42eeec2-d876-3789-b21c-7268ca98f312")}catch(e){}}();
define(["require","exports","./e_core_exception","./c_api_v2_routes_team_provider","./c_api_v2_routes_password_confirmation_provider","./c_sentry_core_exports","./c_lodash"],(function(e,t,n,r,o,s,i){"use strict";const a=[{pattern:/(?<prefix>(?:(?:https|http)+:\/\/)?(?:[a-zA-Z0-9-_]+\.)*(?:(dropbox|dropboxusercontent))\.com(?:\/\w+)(?:\/(?:fi|fo))?)\/.*/,replacer:(e,t)=>`${t}/[[FilePath]]`}],c=/((https|http):\/\/)?([a-zA-Z0-9-_]+\.)*dropboxstatic.com/,u=e=>!(e.startsWith("browser-id:")||e.startsWith("edison_atlasservlet:")||e.startsWith("edison_page_name:")),l=["maf_region","path_trail"];function p(e){const t={};for(const n of e)t[n.pagelet_name]=n;return t}function d(e){for(const{pattern:t,replacer:n}of a)if(e.filename){if(e.filename.match(c))return e;e.filename=e.filename.replace(t,n)}return e}function f(e,t,n=250,r,o,i,a){if(!(i.exception&&i.exception.values&&a&&s.isInstanceOf(a.originalException,Error)))return;const c=i.exception.values.length>0?i.exception.values[i.exception.values.length-1]:void 0;var u,l;c&&(i.exception.values=(u=h(e,t,o,a.originalException,r,i.exception.values,c,0),l=n,u.map((e=>(e.value&&(e.value=s.truncate(e.value,l)),e)))))}function h(e,t,n,r,o,i,a,c){if(i.length>=n+1)return i;let u=[...i];if(s.isInstanceOf(r[o],Error)){g(a,c);const s=e(t,r[o]),i=u.length;m(s,o,i,c),u=h(e,t,n,r[o],o,[s,...u],s,i)}return Array.isArray(r.errors)&&r.errors.forEach(((r,i)=>{if(s.isInstanceOf(r,Error)){g(a,c);const s=e(t,r),l=u.length;m(s,`errors[${i}]`,l,c),u=h(e,t,n,r,o,[s,...u],s,l)}})),u}function g(e,t){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,..."AggregateError"===e.type&&{is_exception_group:!0},exception_id:t}}function m(e,t,n,r){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,type:"chained",source:t,exception_id:n,parent_id:r}}const _=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function v(e,t=!1){const{host:n,path:r,pass:o,port:s,projectId:i,protocol:a,publicKey:c}=e;return`${a}://${c}${t&&o?`:${o}`:""}@${n}${s?`:${s}`:""}/${r?`${r}/`:r}${i}`}function y(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function E(e){const t="string"==typeof e?function(e){const t=_.exec(e);if(!t)return void s.consoleSandbox((()=>{console.error(`Invalid Sentry Dsn: ${e}`)}));const[n,r,o="",i="",a="",c=""]=t.slice(1);let u="",l=c;const p=l.split("/");if(p.length>1&&(u=p.slice(0,-1).join("/"),l=p.pop()),l){const e=l.match(/^\d+/);e&&(l=e[0])}return y({host:i,pass:o,path:u,projectId:l,port:a,protocol:n,publicKey:r})}(e):y(e);if(t&&function(e){if(!s.DEBUG_BUILD)return!0;const{port:t,projectId:n,protocol:r}=e;return!(["protocol","publicKey","host","projectId"].find((t=>!e[t]&&(s.logger.error(`Invalid Sentry Dsn: ${t} missing`),!0)))||(n.match(/^\d+$/)?function(e){return"http"===e||"https"===e}(r)?t&&isNaN(parseInt(t,10))&&(s.logger.error(`Invalid Sentry Dsn: Invalid port ${t}`),1):(s.logger.error(`Invalid Sentry Dsn: Invalid protocol ${r}`),1):(s.logger.error(`Invalid Sentry Dsn: Invalid projectId ${n}`),1)))}(t))return t}class S extends Error{constructor(e,t="warn"){super(e),this.message=e,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype),this.logLevel=t}}const b={},x={};function w(e,t){b[e]=b[e]||[],b[e].push(t)}function O(e,t){x[e]||(t(),x[e]=!0)}function D(e,t){const n=e&&b[e];if(n)for(const r of n)try{r(t)}catch(t){s.DEBUG_BUILD&&s.logger.error(`Error while triggering instrumentation handler.\nType: ${e}\nName: ${s.getFunctionName(r)}\nError:`,t)}}function k(){"console"in s.GLOBAL_OBJ&&s.CONSOLE_LEVELS.forEach((function(e){e in s.GLOBAL_OBJ.console&&s.fill(s.GLOBAL_OBJ.console,e,(function(t){return s.originalConsoleMethods[e]=t,function(...t){D("console",{args:t,level:e});const n=s.originalConsoleMethods[e];n&&n.apply(s.GLOBAL_OBJ.console,t)}}))}))}const $=s.GLOBAL_OBJ;function L(){if(!("fetch"in $))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch(e){return!1}}function I(e){return e&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function B(e,t){const n="fetch";w(n,e),O(n,(()=>function(e,t=!1){if(t&&!function(){if("string"==typeof EdgeRuntime)return!0;if(!L())return!1;if(I($.fetch))return!0;let e=!1;const t=$.document;if(t&&"function"==typeof t.createElement)try{const n=t.createElement("iframe");n.hidden=!0,t.head.appendChild(n),n.contentWindow&&n.contentWindow.fetch&&(e=I(n.contentWindow.fetch)),t.head.removeChild(n)}catch(e){s.DEBUG_BUILD&&s.logger.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",e)}return e}())return;s.fill(s.GLOBAL_OBJ,"fetch",(function(t){return function(...n){const{method:r,url:o}=function(e){if(0===e.length)return{method:"GET",url:""};if(2===e.length){const[t,n]=e;return{url:N(t),method:T(n,"method")?String(n.method).toUpperCase():"GET"}}const t=e[0];return{url:N(t),method:T(t,"method")?String(t.method).toUpperCase():"GET"}}(n),i={args:n,fetchData:{method:r,url:o},startTimestamp:1e3*s.timestampInSeconds()};e||D("fetch",{...i});const a=(new Error).stack;return t.apply(s.GLOBAL_OBJ,n).then((async t=>(e?e(t):D("fetch",{...i,endTimestamp:1e3*s.timestampInSeconds(),response:t}),t)),(e=>{throw D("fetch",{...i,endTimestamp:1e3*s.timestampInSeconds(),error:e}),s.isError(e)&&void 0===e.stack&&(e.stack=a,s.addNonEnumerableProperty(e,"framesToPop",1)),e}))}}))}(void 0,t)))}function T(e,t){return!!e&&"object"==typeof e&&!!e[t]}function N(e){return"string"==typeof e?e:e?T(e,"url")?e.url:e.toString?e.toString():"":""}let U=null;function P(){U=s.GLOBAL_OBJ.onerror,s.GLOBAL_OBJ.onerror=function(e,t,n,r,o){return D("error",{column:r,error:o,line:n,msg:e,url:t}),!(!U||U.__SENTRY_LOADER__)&&U.apply(this,arguments)},s.GLOBAL_OBJ.onerror.__SENTRY_INSTRUMENTED__=!0}let A=null;function C(){A=s.GLOBAL_OBJ.onunhandledrejection,s.GLOBAL_OBJ.onunhandledrejection=function(e){return D("unhandledrejection",e),!(A&&!A.__SENTRY_LOADER__)||A.apply(this,arguments)},s.GLOBAL_OBJ.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}const R=/^(\S+:\\|\/?)([\s\S]*?)((?:\.{1,2}|[^/\\]+?|)(\.[^./\\]*|))(?:[/\\]*)$/;function j(...e){let t="",n=!1;for(let r=e.length-1;r>=-1&&!n;r--){const o=r>=0?e[r]:"/";o&&(t=`${o}/${t}`,n="/"===o.charAt(0))}return t=function(e,t){let n=0;for(let t=e.length-1;t>=0;t--){const r=e[t];"."===r?e.splice(t,1):".."===r?(e.splice(t,1),n++):n&&(e.splice(t,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}(t.split("/").filter((e=>!!e)),!n).join("/"),(n?"/":"")+t||"."}function G(e){let t=0;for(;t<e.length&&""===e[t];t++);let n=e.length-1;for(;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}function M(e,t){let n=function(e){const t=e.length>1024?`<truncated>${e.slice(-1024)}`:e,n=R.exec(t);return n?n.slice(1):[]}(e)[2]||"";return t&&n.slice(-1*t.length)===t&&(n=n.slice(0,n.length-t.length)),n}function F(e){const t=[];function n(e){return t.splice(t.indexOf(e),1)[0]||Promise.resolve(void 0)}return{$:t,add:function(r){if(!(void 0===e||t.length<e))return s.rejectedSyncPromise(new S("Not adding Promise because buffer limit was reached."));const o=r();return-1===t.indexOf(o)&&t.push(o),o.then((()=>n(o))).then(null,(()=>n(o).then(null,(()=>{})))),o},drain:function(e){return new s.SyncPromise(((n,r)=>{let o=t.length;if(!o)return n(!0);const i=setTimeout((()=>{e&&e>0&&n(!1)}),e);t.forEach((e=>{s.resolvedSyncPromise(e).then((()=>{--o||(clearTimeout(i),n(!0))}),r)}))}))}}}function J(e){if(!e)return{};const t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};const n=t[6]||"",r=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:n,hash:r,relative:t[5]+n+r}}const q=["fatal","error","warning","log","info","debug"];function W(e){return"warn"===e?"warning":q.includes(e)?e:"log"}function z(e,t=[]){return[e,t]}function K(e,t){const[n,r]=e;return[n,[...r,t]]}function Y(e,t){const n=e[1];for(const e of n){if(t(e,e[0].type))return!0}return!1}function H(e){return s.GLOBAL_OBJ.__SENTRY__&&s.GLOBAL_OBJ.__SENTRY__.encodePolyfill?s.GLOBAL_OBJ.__SENTRY__.encodePolyfill(e):(new TextEncoder).encode(e)}function V(e){const[t,n]=e;let r=JSON.stringify(t);function o(e){"string"==typeof r?r="string"==typeof e?r+e:[H(r),e]:r.push("string"==typeof e?H(e):e)}for(const e of n){const[t,n]=e;if(o(`\n${JSON.stringify(t)}\n`),"string"==typeof n||n instanceof Uint8Array)o(n);else{let e;try{e=JSON.stringify(n)}catch(t){e=JSON.stringify(s.normalize(n))}o(e)}}return"string"==typeof r?r:function(e){const t=e.reduce(((e,t)=>e+t.length),0),n=new Uint8Array(t);let r=0;for(const t of e)n.set(t,r),r+=t.length;return n}(r)}function X(e){const t="string"==typeof e.data?H(e.data):e.data;return[s.dropUndefinedKeys({type:"attachment",length:t.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType}),t]}const Z={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",statsd:"metric_bucket"};function Q(e){return Z[e]}function ee(e){if(!e||!e.sdk)return;const{name:t,version:n}=e.sdk;return{name:t,version:n}}const te=6e4;function ne(e,{statusCode:t,headers:n},r=Date.now()){const o={...e},s=n&&n["x-sentry-rate-limits"],i=n&&n["retry-after"];if(s)for(const e of s.trim().split(",")){const[t,n,,,s]=e.split(":",5),i=parseInt(t,10),a=1e3*(isNaN(i)?60:i);if(n)for(const e of n.split(";"))"metric_bucket"===e&&s&&!s.split(";").includes("custom")||(o[e]=r+a);else o.all=r+a}else i?o.all=r+function(e,t=Date.now()){const n=parseInt(`${e}`,10);if(!isNaN(n))return 1e3*n;const r=Date.parse(`${e}`);return isNaN(r)?te:r-t}(i,r):429===t&&(o.all=r+6e4);return o}const re=s.GLOBAL_OBJ;function oe(e,t,n,r){const o=ee(n),i=e.type&&"replay_event"!==e.type?e.type:"event";!function(e,t){t&&(e.sdk=e.sdk||{},e.sdk.name=e.sdk.name||t.name,e.sdk.version=e.sdk.version||t.version,e.sdk.integrations=[...e.sdk.integrations||[],...t.integrations||[]],e.sdk.packages=[...e.sdk.packages||[],...t.packages||[]])}(e,n&&n.sdk);const a=function(e,t,n,r){const o=e.sdkProcessingMetadata&&e.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:e.event_id,sent_at:(new Date).toISOString(),...t&&{sdk:t},...!!n&&r&&{dsn:v(r)},...o&&{trace:s.dropUndefinedKeys({...o})}}}(e,o,r,t);delete e.sdkProcessingMetadata;return z(a,[[{type:i},e]])}const se="7";function ie(e,t,n){return t||`${function(e){return`${function(e){const t=e.protocol?`${e.protocol}:`:"",n=e.port?`:${e.port}`:"";return`${t}//${e.host}${n}${e.path?`/${e.path}`:""}/api/`}(e)}${e.projectId}/envelope/`}(e)}?${function(e,t){return s.urlEncode({sentry_key:e.publicKey,sentry_version:se,...t&&{sentry_client:`${t.name}/${t.version}`}})}(e,n)}`}const ae=[];function ce(e){const t=e.defaultIntegrations||[],n=e.integrations;let r;t.forEach((e=>{e.isDefaultInstance=!0})),r=Array.isArray(n)?[...t,...n]:"function"==typeof n?s.arrayify(n(t)):t;const o=function(e){const t={};return e.forEach((e=>{const{name:n}=e,r=t[n];r&&!r.isDefaultInstance&&e.isDefaultInstance||(t[n]=e)})),Object.values(t)}(r),i=o.findIndex((e=>"Debug"===e.name));if(i>-1){const[e]=o.splice(i,1);o.push(e)}return o}function ue(e,t){for(const n of t)n&&n.afterAllSetup&&n.afterAllSetup(e)}function le(e,t,n){if(n[t.name])s.DEBUG_BUILD$1&&s.logger.log(`Integration skipped because it was already installed: ${t.name}`);else{if(n[t.name]=t,-1===ae.indexOf(t.name)&&"function"==typeof t.setupOnce&&(t.setupOnce(),ae.push(t.name)),t.setup&&"function"==typeof t.setup&&t.setup(e),"function"==typeof t.preprocessEvent){const n=t.preprocessEvent.bind(t);e.on("preprocessEvent",((t,r)=>n(t,r,e)))}if("function"==typeof t.processEvent){const n=t.processEvent.bind(t),r=Object.assign(((t,r)=>n(t,r,e)),{id:t.name});e.addEventProcessor(r)}s.DEBUG_BUILD$1&&s.logger.log(`Integration installed: ${t.name}`)}}const pe="Not capturing exception because it's already been captured.";class de{constructor(e){if(this._options=e,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],e.dsn?this._dsn=E(e.dsn):s.DEBUG_BUILD$1&&s.logger.warn("No DSN provided, client will not send events."),this._dsn){const t=ie(this._dsn,e.tunnel,e._metadata?e._metadata.sdk:void 0);this._transport=e.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...e.transportOptions,url:t})}}captureException(e,t,n){const r=s.uuid4();if(s.checkOrSetAlreadyCaught(e))return s.DEBUG_BUILD$1&&s.logger.log(pe),r;const o={event_id:r,...t};return this._process(this.eventFromException(e,o).then((e=>this._captureEvent(e,o,n)))),o.event_id}captureMessage(e,t,n,r){const o={event_id:s.uuid4(),...n},i=s.isParameterizedString(e)?e:String(e),a=s.isPrimitive(e)?this.eventFromMessage(i,t,o):this.eventFromException(e,o);return this._process(a.then((e=>this._captureEvent(e,o,r)))),o.event_id}captureEvent(e,t,n){const r=s.uuid4();if(t&&t.originalException&&s.checkOrSetAlreadyCaught(t.originalException))return s.DEBUG_BUILD$1&&s.logger.log(pe),r;const o={event_id:r,...t},i=(e.sdkProcessingMetadata||{}).capturedSpanScope;return this._process(this._captureEvent(e,o,i||n)),o.event_id}captureSession(e){"string"!=typeof e.release?s.DEBUG_BUILD$1&&s.logger.warn("Discarded session because of missing or non-string release"):(this.sendSession(e),s.updateSession(e,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(e){const t=this._transport;return t?(this.emit("flush"),this._isClientDoneProcessing(e).then((n=>t.flush(e).then((e=>n&&e))))):s.resolvedSyncPromise(!0)}close(e){return this.flush(e).then((e=>(this.getOptions().enabled=!1,this.emit("close"),e)))}getEventProcessors(){return this._eventProcessors}addEventProcessor(e){this._eventProcessors.push(e)}init(){(this._isEnabled()||this._options.integrations.some((({name:e})=>e.startsWith("Spotlight"))))&&this._setupIntegrations()}getIntegrationByName(e){return this._integrations[e]}addIntegration(e){const t=this._integrations[e.name];le(this,e,this._integrations),t||ue(this,[e])}sendEvent(e,t={}){this.emit("beforeSendEvent",e,t);let n=oe(e,this._dsn,this._options._metadata,this._options.tunnel);for(const e of t.attachments||[])n=K(n,X(e));const r=this.sendEnvelope(n);r&&r.then((t=>this.emit("afterSendEvent",e,t)),null)}sendSession(e){const t=function(e,t,n,r){const o=ee(n);return z({sent_at:(new Date).toISOString(),...o&&{sdk:o},...!!r&&t&&{dsn:v(t)}},["aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e.toJSON()]])}(e,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(t)}recordDroppedEvent(e,t,n){if(this._options.sendClientReports){const r="number"==typeof n?n:1,o=`${e}:${t}`;s.DEBUG_BUILD$1&&s.logger.log(`Recording outcome: "${o}"${r>1?` (${r} times)`:""}`),this._outcomes[o]=(this._outcomes[o]||0)+r}}on(e,t){const n=this._hooks[e]=this._hooks[e]||[];return n.push(t),()=>{const e=n.indexOf(t);e>-1&&n.splice(e,1)}}emit(e,...t){const n=this._hooks[e];n&&n.forEach((e=>e(...t)))}sendEnvelope(e){return this.emit("beforeEnvelope",e),this._isEnabled()&&this._transport?this._transport.send(e).then(null,(e=>(s.DEBUG_BUILD$1&&s.logger.error("Error while sending event:",e),e))):(s.DEBUG_BUILD$1&&s.logger.error("Transport disabled"),s.resolvedSyncPromise({}))}_setupIntegrations(){const{integrations:e}=this._options;this._integrations=function(e,t){const n={};return t.forEach((t=>{t&&le(e,t,n)})),n}(this,e),ue(this,e)}_updateSessionFromEvent(e,t){let n=!1,r=!1;const o=t.exception&&t.exception.values;if(o){r=!0;for(const e of o){const t=e.mechanism;if(t&&!1===t.handled){n=!0;break}}}const i="ok"===e.status;(i&&0===e.errors||i&&n)&&(s.updateSession(e,{...n&&{status:"crashed"},errors:e.errors||Number(r||n)}),this.captureSession(e))}_isClientDoneProcessing(e){return new s.SyncPromise((t=>{let n=0;const r=setInterval((()=>{0==this._numProcessing?(clearInterval(r),t(!0)):(n+=1,e&&n>=e&&(clearInterval(r),t(!1)))}),1)}))}_isEnabled(){return!1!==this.getOptions().enabled&&void 0!==this._transport}_prepareEvent(e,t,n,r=s.getIsolationScope()){const o=this.getOptions(),i=Object.keys(this._integrations);return!t.integrations&&i.length>0&&(t.integrations=i),this.emit("preprocessEvent",e,t),e.type||r.setLastEventId(e.event_id||t.event_id),s.prepareEvent(o,e,t,n,this,r).then((e=>{if(null===e)return e;const t={...r.getPropagationContext(),...n?n.getPropagationContext():void 0};if(!(e.contexts&&e.contexts.trace)&&t){const{traceId:n,spanId:r,parentSpanId:o,dsc:i}=t;e.contexts={trace:s.dropUndefinedKeys({trace_id:n,span_id:r,parent_span_id:o}),...e.contexts};const a=i||s.getDynamicSamplingContextFromClient(n,this);e.sdkProcessingMetadata={dynamicSamplingContext:a,...e.sdkProcessingMetadata}}return e}))}_captureEvent(e,t={},n){return this._processEvent(e,t,n).then((e=>e.event_id),(e=>{if(s.DEBUG_BUILD$1){const t=e;"log"===t.logLevel?s.logger.log(t.message):s.logger.warn(t)}}))}_processEvent(e,t,n){const r=this.getOptions(),{sampleRate:o}=r,i=he(e),a=fe(e),c=e.type||"error",u=`before send for type \`${c}\``,l=void 0===o?void 0:function(e){if("boolean"==typeof e)return Number(e);const t="string"==typeof e?parseFloat(e):e;if(!("number"!=typeof t||isNaN(t)||t<0||t>1))return t;s.DEBUG_BUILD$1&&s.logger.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(e)} of type ${JSON.stringify(typeof e)}.`)}(o);if(a&&"number"==typeof l&&Math.random()>l)return this.recordDroppedEvent("sample_rate","error",e),s.rejectedSyncPromise(new S(`Discarding event because it's not included in the random sample (sampling rate = ${o})`,"log"));const p="replay_event"===c?"replay":c,d=(e.sdkProcessingMetadata||{}).capturedSpanIsolationScope;return this._prepareEvent(e,t,n,d).then((n=>{if(null===n)throw this.recordDroppedEvent("event_processor",p,e),new S("An event processor returned `null`, will not send event.","log");if(t.data&&!0===t.data.__sentry__)return n;const o=function(e,t,n,r){const{beforeSend:o,beforeSendTransaction:s,beforeSendSpan:i}=t;if(fe(n)&&o)return o(n,r);if(he(n)){if(n.spans&&i){const t=[];for(const r of n.spans){const n=i(r);n?t.push(n):e.recordDroppedEvent("before_send","span")}n.spans=t}if(s){if(n.spans){const e=n.spans.length;n.sdkProcessingMetadata={...n.sdkProcessingMetadata,spanCountBeforeProcessing:e}}return s(n,r)}}return n}(this,r,n,t);return function(e,t){const n=`${t} must return \`null\` or a valid event.`;if(s.isThenable(e))return e.then((e=>{if(!s.isPlainObject(e)&&null!==e)throw new S(n);return e}),(e=>{throw new S(`${t} rejected with ${e}`)}));if(!s.isPlainObject(e)&&null!==e)throw new S(n);return e}(o,u)})).then((r=>{if(null===r){if(this.recordDroppedEvent("before_send",p,e),i){const t=1+(e.spans||[]).length;this.recordDroppedEvent("before_send","span",t)}throw new S(`${u} returned \`null\`, will not send event.`,"log")}const o=n&&n.getSession();if(!i&&o&&this._updateSessionFromEvent(o,r),i){const e=(r.sdkProcessingMetadata&&r.sdkProcessingMetadata.spanCountBeforeProcessing||0)-(r.spans?r.spans.length:0);e>0&&this.recordDroppedEvent("before_send","span",e)}const s=r.transaction_info;if(i&&s&&r.transaction!==e.transaction){const e="custom";r.transaction_info={...s,source:e}}return this.sendEvent(r,t),r})).then(null,(e=>{if(e instanceof S)throw e;throw this.captureException(e,{data:{__sentry__:!0},originalException:e}),new S(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.\nReason: ${e}`)}))}_process(e){this._numProcessing++,e.then((e=>(this._numProcessing--,e)),(e=>(this._numProcessing--,e)))}_clearOutcomes(){const e=this._outcomes;return this._outcomes={},Object.entries(e).map((([e,t])=>{const[n,r]=e.split(":");return{reason:n,category:r,quantity:t}}))}_flushOutcomes(){s.DEBUG_BUILD$1&&s.logger.log("Flushing outcomes...");const e=this._clearOutcomes();if(0===e.length)return void(s.DEBUG_BUILD$1&&s.logger.log("No outcomes to send"));if(!this._dsn)return void(s.DEBUG_BUILD$1&&s.logger.log("No dsn provided, will not send outcomes"));s.DEBUG_BUILD$1&&s.logger.log("Sending outcomes:",e);const t=(n=e,z((r=this._options.tunnel&&v(this._dsn))?{dsn:r}:{},[[{type:"client_report"},{timestamp:o||s.dateTimestampInSeconds(),discarded_events:n}]]));var n,r,o;this.sendEnvelope(t)}}function fe(e){return void 0===e.type}function he(e){return"transaction"===e.type}function ge(e,t){!0===t.debug&&(s.DEBUG_BUILD$1?s.logger.enable():s.consoleSandbox((()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")})));s.getCurrentScope().update(t.initialScope);const n=new e(t);return function(e){s.getCurrentScope().setClient(e)}(n),n.init(),n}const me=64;function _e(e,t,n=F(e.bufferSize||me)){let r={};return{send:function(o){const i=[];if(Y(o,((t,n)=>{const o=Q(n);if(function(e,t,n=Date.now()){return function(e,t){return e[t]||e.all||0}(e,t)>n}(r,o)){const r=ve(t,n);e.recordDroppedEvent("ratelimit_backoff",o,r)}else i.push(t)})),0===i.length)return s.resolvedSyncPromise({});const a=z(o[0],i),c=t=>{Y(a,((n,r)=>{const o=ve(n,r);e.recordDroppedEvent(t,Q(r),o)}))};return n.add((()=>t({body:V(a)}).then((e=>(void 0!==e.statusCode&&(e.statusCode<200||e.statusCode>=300)&&s.DEBUG_BUILD$1&&s.logger.warn(`Sentry responded with status code ${e.statusCode} to sent event.`),r=ne(r,e),e)),(e=>{throw c("network_error"),e})))).then((e=>e),(e=>{if(e instanceof S)return s.DEBUG_BUILD$1&&s.logger.error("Skipped sending event because buffer is full."),c("queue_overflow"),s.resolvedSyncPromise({});throw e}))},flush:e=>n.drain(e)}}function ve(e,t){if("event"===t||"transaction"===t)return Array.isArray(e)?e[1]:void 0}const ye=100;function Ee(e,t){const n=s.getClient(),r=s.getIsolationScope();if(!n)return;const{beforeBreadcrumb:o=null,maxBreadcrumbs:i=ye}=n.getOptions();if(i<=0)return;const a={timestamp:s.dateTimestampInSeconds(),...e},c=o?s.consoleSandbox((()=>o(a,t))):a;null!==c&&(n.emit&&n.emit("beforeAddBreadcrumb",c,t),r.addBreadcrumb(c,i))}let Se;const be=new WeakMap,xe=()=>({name:"FunctionToString",setupOnce(){Se=Function.prototype.toString;try{Function.prototype.toString=function(...e){const t=s.getOriginalFunction(this),n=be.has(s.getClient())&&void 0!==t?t:this;return Se.apply(n,e)}}catch(e){}},setup(e){be.set(e,!0)}}),we=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,"undefined is not an object (evaluating 'a.L')",'can\'t redefine non-configurable property "solana"',"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler"],Oe=(e={})=>({name:"InboundFilters",processEvent(t,n,r){const o=r.getOptions(),i=function(e={},t={}){return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...e.disableErrorDefaults?[]:we],ignoreTransactions:[...e.ignoreTransactions||[],...t.ignoreTransactions||[]],ignoreInternal:void 0===e.ignoreInternal||e.ignoreInternal}}(e,o);return function(e,t){if(t.ignoreInternal&&function(e){try{return"SentryError"===e.exception.values[0].type}catch(e){}return!1}(e))return s.DEBUG_BUILD$1&&s.logger.warn(`Event dropped due to being internal Sentry Error.\nEvent: ${s.getEventDescription(e)}`),!0;if(function(e,t){if(e.type||!t||!t.length)return!1;return function(e){const t=[];e.message&&t.push(e.message);let n;try{n=e.exception.values[e.exception.values.length-1]}catch(e){}n&&n.value&&(t.push(n.value),n.type&&t.push(`${n.type}: ${n.value}`));return t}(e).some((e=>s.stringMatchesSomePattern(e,t)))}(e,t.ignoreErrors))return s.DEBUG_BUILD$1&&s.logger.warn(`Event dropped due to being matched by \`ignoreErrors\` option.\nEvent: ${s.getEventDescription(e)}`),!0;if(function(e){if(e.type)return!1;if(!e.exception||!e.exception.values||0===e.exception.values.length)return!1;return!e.message&&!e.exception.values.some((e=>e.stacktrace||e.type&&"Error"!==e.type||e.value))}(e))return s.DEBUG_BUILD$1&&s.logger.warn(`Event dropped due to not having an error message, error type or stacktrace.\nEvent: ${s.getEventDescription(e)}`),!0;if(function(e,t){if("transaction"!==e.type||!t||!t.length)return!1;const n=e.transaction;return!!n&&s.stringMatchesSomePattern(n,t)}(e,t.ignoreTransactions))return s.DEBUG_BUILD$1&&s.logger.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.\nEvent: ${s.getEventDescription(e)}`),!0;if(function(e,t){if(!t||!t.length)return!1;const n=De(e);return!!n&&s.stringMatchesSomePattern(n,t)}(e,t.denyUrls))return s.DEBUG_BUILD$1&&s.logger.warn(`Event dropped due to being matched by \`denyUrls\` option.\nEvent: ${s.getEventDescription(e)}.\nUrl: ${De(e)}`),!0;if(!function(e,t){if(!t||!t.length)return!0;const n=De(e);return!n||s.stringMatchesSomePattern(n,t)}(e,t.allowUrls))return s.DEBUG_BUILD$1&&s.logger.warn(`Event dropped due to not being matched by \`allowUrls\` option.\nEvent: ${s.getEventDescription(e)}.\nUrl: ${De(e)}`),!0;return!1}(t,i)?null:t}});function De(e){try{let t;try{t=e.exception.values[0].stacktrace.frames}catch(e){}return t?function(e=[]){for(let t=e.length-1;t>=0;t--){const n=e[t];if(n&&"<anonymous>"!==n.filename&&"[native code]"!==n.filename)return n.filename||null}return null}(t):null}catch(t){return s.DEBUG_BUILD$1&&s.logger.error(`Cannot extract url for event ${s.getEventDescription(e)}`),null}}const ke=()=>{let e;return{name:"Dedupe",processEvent(t){if(t.type)return t;try{if(function(e,t){if(!t)return!1;if(function(e,t){const n=e.message,r=t.message;if(!n&&!r)return!1;if(n&&!r||!n&&r)return!1;if(n!==r)return!1;if(!Le(e,t))return!1;if(!$e(e,t))return!1;return!0}(e,t))return!0;if(function(e,t){const n=Ie(t),r=Ie(e);if(!n||!r)return!1;if(n.type!==r.type||n.value!==r.value)return!1;if(!Le(e,t))return!1;if(!$e(e,t))return!1;return!0}(e,t))return!0;return!1}(t,e))return s.DEBUG_BUILD$1&&s.logger.warn("Event dropped due to being a duplicate of previously captured event."),null}catch(e){}return e=t}}};function $e(e,t){let n=s.getFramesFromEvent(e),r=s.getFramesFromEvent(t);if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;if(r.length!==n.length)return!1;for(let e=0;e<r.length;e++){const t=r[e],o=n[e];if(t.filename!==o.filename||t.lineno!==o.lineno||t.colno!==o.colno||t.function!==o.function)return!1}return!0}function Le(e,t){let n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;try{return!(n.join("")!==r.join(""))}catch(e){return!1}}function Ie(e){return e.exception&&e.exception.values&&e.exception.values[0]}const Be=(e={})=>{const t=e.root,n=e.prefix||"app:///",r="window"in s.GLOBAL_OBJ&&void 0!==s.GLOBAL_OBJ.window,o=e.iteratee||function({isBrowser:e,root:t,prefix:n}){return r=>{if(!r.filename)return r;const o=/^[a-zA-Z]:\\/.test(r.filename)||r.filename.includes("\\")&&!r.filename.includes("/"),s=/^\//.test(r.filename);if(e){if(t){const e=r.filename;0===e.indexOf(t)&&(r.filename=e.replace(t,n))}}else if(o||s){const e=o?r.filename.replace(/^[a-zA-Z]:/,"").replace(/\\/g,"/"):r.filename,s=t?function(e,t){e=j(e).slice(1),t=j(t).slice(1);const n=G(e.split("/")),r=G(t.split("/")),o=Math.min(n.length,r.length);let s=o;for(let e=0;e<o;e++)if(n[e]!==r[e]){s=e;break}let i=[];for(let e=s;e<n.length;e++)i.push("..");return i=i.concat(r.slice(s)),i.join("/")}(t,e):M(e);r.filename=`${n}${s}`}return r}}({isBrowser:r,root:t,prefix:n});return{name:"RewriteFrames",processEvent(e){let t=e;return e.exception&&Array.isArray(e.exception.values)&&(t=function(e){try{return{...e,exception:{...e.exception,values:e.exception.values.map((e=>{return{...e,...e.stacktrace&&{stacktrace:(t=e.stacktrace,{...t,frames:t&&t.frames&&t.frames.map((e=>o(e)))})}};var t}))}}}catch(t){return e}}(t)),t}}};const Te=s.GLOBAL_OBJ;let Ne=0;function Ue(){return Ne>0}function Pe(e,t={},n){if("function"!=typeof e)return e;try{const t=e.__sentry_wrapped__;if(t)return t;if(s.getOriginalFunction(e))return e}catch(t){return e}const r=function(){const r=Array.prototype.slice.call(arguments);try{n&&"function"==typeof n&&n.apply(this,arguments);const o=r.map((e=>Pe(e,t)));return e.apply(this,o)}catch(e){throw Ne++,setTimeout((()=>{Ne--})),s.withScope((n=>{n.addEventProcessor((e=>(t.mechanism&&(s.addExceptionTypeValue(e,void 0,void 0),s.addExceptionMechanism(e,t.mechanism)),e.extra={...e.extra,arguments:r},e))),s.captureException(e)})),e}};try{for(const t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t])}catch(e){}s.markFunctionWrapped(r,e),s.addNonEnumerableProperty(e,"__sentry_wrapped__",r);try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get:()=>e.name})}catch(e){}return r}const Ae="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__;function Ce(e,t){const n=Ge(e,t),r={type:t&&t.name,value:Fe(t)};return n.length&&(r.stacktrace={frames:n}),void 0===r.type&&""===r.value&&(r.value="Unrecoverable error caught"),r}function Re(e,t,n,r){const o=s.getClient(),i=o&&o.getOptions().normalizeDepth,a=function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)){const n=e[t];if(n instanceof Error)return n}return}(t),c={__serialized__:s.normalizeToSize(t,i)};if(a)return{exception:{values:[Ce(e,a)]},extra:c};const u={exception:{values:[{type:s.isEvent(t)?t.constructor.name:r?"UnhandledRejection":"Error",value:We(t,{isUnhandledRejection:r})}]},extra:c};if(n){const t=Ge(e,n);t.length&&(u.exception.values[0].stacktrace={frames:t})}return u}function je(e,t){return{exception:{values:[Ce(e,t)]}}}function Ge(e,t){const n=t.stacktrace||t.stack||"",r=function(e){if(e&&Me.test(e.message))return 1;return 0}(t),o=function(e){if("number"==typeof e.framesToPop)return e.framesToPop;return 0}(t);try{return e(n,r,o)}catch(e){}return[]}const Me=/Minified React error #\d+;/i;function Fe(e){const t=e&&e.message;return t?t.error&&"string"==typeof t.error.message?t.error.message:t:"No error message"}function Je(e,t,n,r,o){let i;if(s.isErrorEvent(t)&&t.error){return je(e,t.error)}if(s.isDOMError(t)||s.isDOMException(t)){const o=t;if("stack"in t)i=je(e,t);else{const t=o.name||(s.isDOMError(o)?"DOMError":"DOMException"),a=o.message?`${t}: ${o.message}`:t;i=qe(e,a,n,r),s.addExceptionTypeValue(i,a)}return"code"in o&&(i.tags={...i.tags,"DOMException.code":`${o.code}`}),i}if(s.isError(t))return je(e,t);if(s.isPlainObject(t)||s.isEvent(t)){return i=Re(e,t,n,o),s.addExceptionMechanism(i,{synthetic:!0}),i}return i=qe(e,t,n,r),s.addExceptionTypeValue(i,`${t}`,void 0),s.addExceptionMechanism(i,{synthetic:!0}),i}function qe(e,t,n,r){const o={};if(r&&n){const r=Ge(e,n);r.length&&(o.exception={values:[{value:t,stacktrace:{frames:r}}]})}if(s.isParameterizedString(t)){const{__sentry_template_string__:e,__sentry_template_values__:n}=t;return o.logentry={message:e,params:n},o}return o.message=t,o}function We(e,{isUnhandledRejection:t}){const n=s.extractExceptionKeysForMessage(e),r=t?"promise rejection":"exception";if(s.isErrorEvent(e))return`Event \`ErrorEvent\` captured as ${r} with message \`${e.message}\``;if(s.isEvent(e)){return`Event \`${function(e){try{const t=Object.getPrototypeOf(e);return t?t.constructor.name:void 0}catch(e){}}(e)}\` (type=${e.type}) captured as ${r}`}return`Object captured as ${r} with keys: ${n}`}class ze extends de{constructor(e){const t={parentSpanIsAlwaysRootSpan:!0,...e};!function(e,t,n=[t],r="npm"){const o=e._metadata||{};o.sdk||(o.sdk={name:`sentry.javascript.${t}`,packages:n.map((e=>({name:`${r}:@sentry/${e}`,version:s.SDK_VERSION}))),version:s.SDK_VERSION}),e._metadata=o}(t,"browser",["browser"],Te.SENTRY_SDK_SOURCE||"npm"),super(t),t.sendClientReports&&Te.document&&Te.document.addEventListener("visibilitychange",(()=>{"hidden"===Te.document.visibilityState&&this._flushOutcomes()}))}eventFromException(e,t){return function(e,t,n,r){const o=Je(e,t,n&&n.syntheticException||void 0,r);return s.addExceptionMechanism(o),o.level="error",n&&n.event_id&&(o.event_id=n.event_id),s.resolvedSyncPromise(o)}(this._options.stackParser,e,t,this._options.attachStacktrace)}eventFromMessage(e,t="info",n){return function(e,t,n="info",r,o){const i=qe(e,t,r&&r.syntheticException||void 0,o);return i.level=n,r&&r.event_id&&(i.event_id=r.event_id),s.resolvedSyncPromise(i)}(this._options.stackParser,e,t,n,this._options.attachStacktrace)}captureUserFeedback(e){if(!this._isEnabled())return void(Ae&&s.logger.warn("SDK not enabled, will not capture user feedback."));const t=function(e,{metadata:t,tunnel:n,dsn:r}){const o={event_id:e.event_id,sent_at:(new Date).toISOString(),...t&&t.sdk&&{sdk:{name:t.sdk.name,version:t.sdk.version}},...!!n&&!!r&&{dsn:v(r)}},s=function(e){return[{type:"user_report"},e]}(e);return z(o,[s])}(e,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this.sendEnvelope(t)}_prepareEvent(e,t,n){return e.platform=e.platform||"javascript",super._prepareEvent(e,t,n)}}const Ke="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,Ye=s.GLOBAL_OBJ,He=1e3;let Ve,Xe,Ze,Qe;function et(){if(!Ye.document)return;const e=D.bind(null,"dom"),t=tt(e,!0);Ye.document.addEventListener("click",t,!1),Ye.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach((t=>{const n=Ye[t]&&Ye[t].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&(s.fill(n,"addEventListener",(function(t){return function(n,r,o){if("click"===n||"keypress"==n)try{const r=this,s=r.__sentry_instrumentation_handlers__=r.__sentry_instrumentation_handlers__||{},i=s[n]=s[n]||{refCount:0};if(!i.handler){const r=tt(e);i.handler=r,t.call(this,n,r,o)}i.refCount++}catch(e){}return t.call(this,n,r,o)}})),s.fill(n,"removeEventListener",(function(e){return function(t,n,r){if("click"===t||"keypress"==t)try{const n=this,o=n.__sentry_instrumentation_handlers__||{},s=o[t];s&&(s.refCount--,s.refCount<=0&&(e.call(this,t,s.handler,r),s.handler=void 0,delete o[t]),0===Object.keys(o).length&&delete n.__sentry_instrumentation_handlers__)}catch(e){}return e.call(this,t,n,r)}})))}))}function tt(e,t=!1){return n=>{if(!n||n._sentryCaptured)return;const r=function(e){try{return e.target}catch(e){return null}}(n);if(function(e,t){return"keypress"===e&&(!t||!t.tagName||"INPUT"!==t.tagName&&"TEXTAREA"!==t.tagName&&!t.isContentEditable)}(n.type,r))return;s.addNonEnumerableProperty(n,"_sentryCaptured",!0),r&&!r._sentryId&&s.addNonEnumerableProperty(r,"_sentryId",s.uuid4());const o="keypress"===n.type?"input":n.type;if(!function(e){if(e.type!==Xe)return!1;try{if(!e.target||e.target._sentryId!==Ze)return!1}catch(e){}return!0}(n)){e({event:n,name:o,global:t}),Xe=n.type,Ze=r?r._sentryId:void 0}clearTimeout(Ve),Ve=Ye.setTimeout((()=>{Ze=void 0,Xe=void 0}),He)}}function nt(e){const t="history";w(t,e),O(t,rt)}function rt(){if(!function(){const e=re.chrome,t=e&&e.app&&e.app.runtime,n="history"in re&&!!re.history.pushState&&!!re.history.replaceState;return!t&&n}())return;const e=Ye.onpopstate;function t(e){return function(...t){const n=t.length>2?t[2]:void 0;if(n){const e=Qe,t=String(n);Qe=t;D("history",{from:e,to:t})}return e.apply(this,t)}}Ye.onpopstate=function(...t){const n=Ye.location.href,r=Qe;Qe=n;if(D("history",{from:r,to:n}),e)try{return e.apply(this,t)}catch(e){}},s.fill(Ye.history,"pushState",t),s.fill(Ye.history,"replaceState",t)}const ot={};function st(e){ot[e]=void 0}const it="__sentry_xhr_v3__";function at(){if(!Ye.XMLHttpRequest)return;const e=XMLHttpRequest.prototype;s.fill(e,"open",(function(e){return function(...t){const n=1e3*s.timestampInSeconds(),r=s.isString(t[0])?t[0].toUpperCase():void 0,o=function(e){if(s.isString(e))return e;try{return e.toString()}catch(e){}return}(t[1]);if(!r||!o)return e.apply(this,t);this[it]={method:r,url:o,request_headers:{}},"POST"===r&&o.match(/sentry_key/)&&(this.__sentry_own_request__=!0);const i=()=>{const e=this[it];if(e&&4===this.readyState){try{e.status_code=this.status}catch(e){}D("xhr",{endTimestamp:1e3*s.timestampInSeconds(),startTimestamp:n,xhr:this})}};return"onreadystatechange"in this&&"function"==typeof this.onreadystatechange?s.fill(this,"onreadystatechange",(function(e){return function(...t){return i(),e.apply(this,t)}})):this.addEventListener("readystatechange",i),s.fill(this,"setRequestHeader",(function(e){return function(...t){const[n,r]=t,o=this[it];return o&&s.isString(n)&&s.isString(r)&&(o.request_headers[n.toLowerCase()]=r),e.apply(this,t)}})),e.apply(this,t)}})),s.fill(e,"send",(function(e){return function(...t){const n=this[it];if(!n)return e.apply(this,t);void 0!==t[0]&&(n.body=t[0]);return D("xhr",{startTimestamp:1e3*s.timestampInSeconds(),xhr:this}),e.apply(this,t)}}))}function ct(e,t=function(e){const t=ot[e];if(t)return t;let n=Ye[e];if(I(n))return ot[e]=n.bind(Ye);const r=Ye.document;if(r&&"function"==typeof r.createElement)try{const t=r.createElement("iframe");t.hidden=!0,r.head.appendChild(t);const o=t.contentWindow;o&&o[e]&&(n=o[e]),r.head.removeChild(t)}catch(t){Ke&&s.logger.warn(`Could not create sandbox iframe for ${e} check, bailing to window.${e}: `,t)}return n?ot[e]=n.bind(Ye):n}("fetch")){let n=0,r=0;return _e(e,(function(o){const i=o.body.length;n+=i,r++;const a={body:o.body,method:"POST",referrerPolicy:"origin",headers:e.headers,keepalive:n<=6e4&&r<15,...e.fetchOptions};if(!t)return st("fetch"),s.rejectedSyncPromise("No fetch implementation available");try{return t(e.url,a).then((e=>(n-=i,r--,{statusCode:e.status,headers:{"x-sentry-rate-limits":e.headers.get("X-Sentry-Rate-Limits"),"retry-after":e.headers.get("Retry-After")}})))}catch(e){return st("fetch"),n-=i,r--,s.rejectedSyncPromise(e)}}))}function ut(e,t,n,r){const o={filename:e,function:"<anonymous>"===t?s.UNKNOWN_FUNCTION:t,in_app:!0};return void 0!==n&&(o.lineno=n),void 0!==r&&(o.colno=r),o}const lt=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,pt=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,dt=/\((\S*)(?::(\d+))(?::(\d+))\)/,ft=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,ht=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,gt=[[30,e=>{const t=lt.exec(e);if(t){const[,e,n,r]=t;return ut(e,s.UNKNOWN_FUNCTION,+n,+r)}const n=pt.exec(e);if(n){if(n[2]&&0===n[2].indexOf("eval")){const e=dt.exec(n[2]);e&&(n[2]=e[1],n[3]=e[2],n[4]=e[3])}const[e,t]=_t(n[1]||s.UNKNOWN_FUNCTION,n[2]);return ut(t,e,n[3]?+n[3]:void 0,n[4]?+n[4]:void 0)}}],[50,e=>{const t=ft.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){const e=ht.exec(t[3]);e&&(t[1]=t[1]||"eval",t[3]=e[1],t[4]=e[2],t[5]="")}let e=t[3],n=t[1]||s.UNKNOWN_FUNCTION;return[n,e]=_t(n,e),ut(e,n,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}}]],mt=s.createStackParser(...gt),_t=(e,t)=>{const n=-1!==e.indexOf("safari-extension"),r=-1!==e.indexOf("safari-web-extension");return n||r?[-1!==e.indexOf("@")?e.split("@")[0]:s.UNKNOWN_FUNCTION,n?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]},vt=1024,yt=(e={})=>{const t={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e};return{name:"Breadcrumbs",setup(e){var n;t.console&&function(e){const t="console";w(t,e),O(t,k)}(function(e){return function(t){if(s.getClient()!==e)return;const n={category:"console",data:{arguments:t.args,logger:"console"},level:W(t.level),message:s.safeJoin(t.args," ")};if("assert"===t.level){if(!1!==t.args[0])return;n.message=`Assertion failed: ${s.safeJoin(t.args.slice(1)," ")||"console.assert"}`,n.data.arguments=t.args.slice(1)}Ee(n,{input:t.args,level:t.level})}}(e)),t.dom&&(n=function(e,t){return function(n){if(s.getClient()!==e)return;let r,o,i="object"==typeof t?t.serializeAttribute:void 0,a="object"==typeof t&&"number"==typeof t.maxStringLength?t.maxStringLength:void 0;a&&a>vt&&(Ae&&s.logger.warn(`\`dom.maxStringLength\` cannot exceed 1024, but a value of ${a} was configured. Sentry will use 1024 instead.`),a=vt),"string"==typeof i&&(i=[i]);try{const e=n.event,t=function(e){return!!e&&!!e.target}(e)?e.target:e;r=s.htmlTreeAsString(t,{keyAttrs:i,maxStringLength:a}),o=s.getComponentName(t)}catch(e){r="<unknown>"}if(0===r.length)return;const c={category:`ui.${n.name}`,message:r};o&&(c.data={"ui.component_name":o}),Ee(c,{event:n.event,name:n.name,global:n.global})}}(e,t.dom),w("dom",n),O("dom",et)),t.xhr&&function(e){w("xhr",e),O("xhr",at)}(function(e){return function(t){if(s.getClient()!==e)return;const{startTimestamp:n,endTimestamp:r}=t,o=t.xhr[it];if(!n||!r||!o)return;const{method:i,url:a,status_code:c,body:u}=o;Ee({category:"xhr",data:{method:i,url:a,status_code:c},type:"http"},{xhr:t.xhr,input:u,startTimestamp:n,endTimestamp:r})}}(e)),t.fetch&&B(function(e){return function(t){if(s.getClient()!==e)return;const{startTimestamp:n,endTimestamp:r}=t;if(r&&(!t.fetchData.url.match(/sentry_key/)||"POST"!==t.fetchData.method))if(t.error){Ee({category:"fetch",data:t.fetchData,level:"error",type:"http"},{data:t.error,input:t.args,startTimestamp:n,endTimestamp:r})}else{const e=t.response;Ee({category:"fetch",data:{...t.fetchData,status_code:e&&e.status},type:"http"},{input:t.args,response:e,startTimestamp:n,endTimestamp:r})}}}(e)),t.history&&nt(function(e){return function(t){if(s.getClient()!==e)return;let n=t.from,r=t.to;const o=J(Te.location.href);let i=n?J(n):void 0;const a=J(r);i&&i.path||(i=o),o.protocol===a.protocol&&o.host===a.host&&(r=a.relative),o.protocol===i.protocol&&o.host===i.host&&(n=i.relative),Ee({category:"navigation",data:{from:n,to:r}})}}(e)),t.sentry&&e.on("beforeSendEvent",function(e){return function(t){s.getClient()===e&&Ee({category:"sentry."+("transaction"===t.type?"transaction":"event"),event_id:t.event_id,level:t.level,message:s.getEventDescription(t)},{event:t})}}(e))}}};const Et=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],St=(e={})=>{const t={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...e};return{name:"BrowserApiErrors",setupOnce(){t.setTimeout&&s.fill(Te,"setTimeout",bt),t.setInterval&&s.fill(Te,"setInterval",bt),t.requestAnimationFrame&&s.fill(Te,"requestAnimationFrame",xt),t.XMLHttpRequest&&"XMLHttpRequest"in Te&&s.fill(XMLHttpRequest.prototype,"send",wt);const e=t.eventTarget;if(e){(Array.isArray(e)?e:Et).forEach(Ot)}}}};function bt(e){return function(...t){const n=t[0];return t[0]=Pe(n,{mechanism:{data:{function:s.getFunctionName(e)},handled:!1,type:"instrument"}}),e.apply(this,t)}}function xt(e){return function(t){return e.apply(this,[Pe(t,{mechanism:{data:{function:"requestAnimationFrame",handler:s.getFunctionName(e)},handled:!1,type:"instrument"}})])}}function wt(e){return function(...t){const n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach((e=>{e in n&&"function"==typeof n[e]&&s.fill(n,e,(function(t){const n={mechanism:{data:{function:e,handler:s.getFunctionName(t)},handled:!1,type:"instrument"}},r=s.getOriginalFunction(t);return r&&(n.mechanism.data.handler=s.getFunctionName(r)),Pe(t,n)}))})),e.apply(this,t)}}function Ot(e){const t=Te,n=t[e]&&t[e].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&(s.fill(n,"addEventListener",(function(t){return function(n,r,o){try{"function"==typeof r.handleEvent&&(r.handleEvent=Pe(r.handleEvent,{mechanism:{data:{function:"handleEvent",handler:s.getFunctionName(r),target:e},handled:!1,type:"instrument"}}))}catch(e){}return t.apply(this,[n,Pe(r,{mechanism:{data:{function:"addEventListener",handler:s.getFunctionName(r),target:e},handled:!1,type:"instrument"}}),o])}})),s.fill(n,"removeEventListener",(function(e){return function(t,n,r){const o=n;try{const n=o&&o.__sentry_wrapped__;n&&e.call(this,t,n,r)}catch(e){}return e.call(this,t,o,r)}})))}const Dt=(e={})=>{const t={onerror:!0,onunhandledrejection:!0,...e};return{name:"GlobalHandlers",setupOnce(){Error.stackTraceLimit=50},setup(e){t.onerror&&(!function(e){!function(e){const t="error";w(t,e),O(t,P)}((t=>{const{stackParser:n,attachStacktrace:r}=$t();if(s.getClient()!==e||Ue())return;const{msg:o,url:i,line:a,column:c,error:u}=t,l=function(e,t,n,r){const o=e.exception=e.exception||{},i=o.values=o.values||[],a=i[0]=i[0]||{},c=a.stacktrace=a.stacktrace||{},u=c.frames=c.frames||[],l=isNaN(parseInt(r,10))?void 0:r,p=isNaN(parseInt(n,10))?void 0:n,d=s.isString(t)&&t.length>0?t:s.getLocationHref();0===u.length&&u.push({colno:l,filename:d,function:s.UNKNOWN_FUNCTION,in_app:!0,lineno:p});return e}(Je(n,u||o,void 0,r,!1),i,a,c);l.level="error",s.captureEvent(l,{originalException:u,mechanism:{handled:!1,type:"onerror"}})}))}(e),kt("onerror")),t.onunhandledrejection&&(!function(e){!function(e){const t="unhandledrejection";w(t,e),O(t,C)}((t=>{const{stackParser:n,attachStacktrace:r}=$t();if(s.getClient()!==e||Ue())return;const o=function(e){if(s.isPrimitive(e))return e;try{if("reason"in e)return e.reason;if("detail"in e&&"reason"in e.detail)return e.detail.reason}catch(e){}return e}(t),i=s.isPrimitive(o)?{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(o)}`}]}}:Je(n,o,void 0,r,!0);i.level="error",s.captureEvent(i,{originalException:o,mechanism:{handled:!1,type:"onunhandledrejection"}})}))}(e),kt("onunhandledrejection"))}}};function kt(e){Ae&&s.logger.log(`Global Handler attached: ${e}`)}function $t(){const e=s.getClient();return e&&e.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}const Lt=()=>({name:"HttpContext",preprocessEvent(e){if(!Te.navigator&&!Te.location&&!Te.document)return;const t=e.request&&e.request.url||Te.location&&Te.location.href,{referrer:n}=Te.document||{},{userAgent:r}=Te.navigator||{},o={...e.request&&e.request.headers,...n&&{Referer:n},...r&&{"User-Agent":r}},s={...e.request,...t&&{url:t},headers:o};e.request=s}}),It=(e={})=>{const t=e.limit||5,n=e.key||"cause";return{name:"LinkedErrors",preprocessEvent(e,r,o){const s=o.getOptions();f(Ce,s.stackParser,s.maxValueLength,n,t,e,r)}}};function Bt(e={}){const t=function(e={}){const t={defaultIntegrations:[Oe(),xe(),St(),yt(),Dt(),It(),ke(),Lt()],release:"string"==typeof __SENTRY_RELEASE__?__SENTRY_RELEASE__:Te.SENTRY_RELEASE&&Te.SENTRY_RELEASE.id?Te.SENTRY_RELEASE.id:void 0,autoSessionTracking:!0,sendClientReports:!0};return null==e.defaultIntegrations&&delete e.defaultIntegrations,{...t,...e}}(e);if(function(){const e=void 0!==Te.window&&Te;if(!e)return!1;const t=e[e.chrome?"chrome":"browser"],n=t&&t.runtime&&t.runtime.id,r=Te.location&&Te.location.href||"",o=!!n&&Te===Te.top&&["chrome-extension:","moz-extension:","ms-browser-extension:","safari-web-extension:"].some((e=>r.startsWith(`${e}//`))),s=void 0!==e.nw;return!!n&&!o&&!s}())return void s.consoleSandbox((()=>{console.error("[Sentry] You cannot run Sentry this way in a browser extension, check: https://docs.sentry.io/platforms/javascript/best-practices/browser-extensions/")}));Ae&&(L()||s.logger.warn("No Fetch API detected. The Sentry SDK requires a Fetch API compatible environment to send events. Please add a Fetch API polyfill."));const n={...t,stackParser:s.stackParserFromStackParserOptions(t.stackParser||mt),integrations:ce(t),transport:t.transport||ct},r=ge(ze,n);return t.autoSessionTracking&&function(){if(void 0===Te.document)return void(Ae&&s.logger.warn("Session tracking in non-browser environment with @sentry/browser is not supported."));s.startSession({ignoreDuration:!0}),s.captureSession(),nt((({from:e,to:t})=>{void 0!==e&&e!==t&&(s.startSession({ignoreDuration:!0}),s.captureSession())}))}(),r}var Tt;!function(e){e.Reported="reported",e.ForceReported="force",e.Duplicate="duplicate",e.DroppedDueToVolumeLimit="dropped_volume_limit",e.DroppedDueToResizeObserverLoop="dropped_resize_observer_loop",e.DroppedDueToCrossOriginScriptError="dropped_cross_origin_script_error",e.DroppedTrackAsMetric="dropped_track_as_metric"}(Tt||(Tt={}));let Nt=100,Ut=.1;const Pt={fatal:"fatal",uncaught:"error",critical:"error",operational:"warning","non-critical":"warning","user-error":"info"},At="js_exception";async function Ct(t,n,r){try{const{getMetricsReporter:s}=await new Promise((function(t,n){e(["./c_src_sink_index"],t,n)})).then((function(e){return e.index_esnext})),i={which:t,severity:n||"undefined",page_name:o.getPageName(),yaps_project:o.getYapsProject(),atlasservlet:o.getAtlasservlet(),is_edison:o.isServedByEdisonWebServer().toString()};r&&(i.drop_group=r);const a=s().createCounter({ns:At,name:"count"},i);a.increment(),a.record()}catch(e){}}let Rt=0;let jt=!1;function Gt(e,t){var n;return"fatal"===e.level&&((null===(n=e.exception)||void 0===n?void 0:n.values)||[]).forEach((e=>{e.mechanism&&(e.mechanism.handled=!1)})),e}async function Mt(e){if(jt)return;const{dsn:t,release:n,environment:r}=e,o={defaultIntegrations:!1,integrations:[yt(),ke(),xe(),Lt(),Be({iteratee:d})],dsn:t,beforeSend:Gt,normalizeDepth:5};n&&(o.release=n),r&&(o.environment=r),Bt(o),jt=!0}async function Ft({err:e,sentryOptions:t}){o.isUserAgentNotSupported()||(jt||await Mt(t),s.withScope((function(n){var o,i;try{const{userId:a}=t,c=String((null===(o=null==t?void 0:t.tags)||void 0===o?void 0:o.browser_id)||"undefined_browser_id"),d=a&&"0"!==a?a:`logged_out_user:${c}`;n.setUser({id:d}),(null===(i=null==t?void 0:t.tags)||void 0===i?void 0:i.is_metaserver)&&n.setTag("is_metaserver",t.tags.is_metaserver);const f=e.severity||"undefined_severity";n.setTag("exclog_severity",f);const h=e.severity&&Pt[e.severity]?Pt[e.severity]:"warning";n.setLevel(h);const{tags:g,contexts:m}=function(e,t){const n={},o={};for(const[e,r]of Object.entries(t))if("dws_page_info"!==e)if("pagelet_info"!==e)"component_stack"!==e?"privacy_consent"!==e?r&&("object"==typeof r?o[e]=r:n[e]=r):o.privacy_consent={consentCookie:t.privacy_consent}:o.react={componentStack:t.component_stack};else{const e=p((null==t?void 0:t.pagelet_info)||[]);o.pagelets=e}else{const e=r;n.dws_page_name=e.dws_page_name,o.dws_page_info=e}e.filter(u).forEach((e=>{if(l.some((t=>e.startsWith(t+":")))){const t=e.indexOf(":");n[e.substring(0,t)]=e.substring(t+1)}else n[e]=!0}));const s=r.resolveRouteName();return s&&(n.react_router_product_name=s),{tags:n,contexts:o}}(e.tags||[],e.excExtra||{});n.setTags(g);for(const[e,t]of Object.entries(m))n.setContext(e,{...t});t.tags&&n.setTags(t.tags),s.captureException(e)}catch(e){console.error("Error reporting to Sentry:",e)}})))}t._testOnlySetJseExceptionsLimits=function(e,t){Nt=e,Ut=t},t.initSentry=Mt,t.sendExceptionReport=function(e,t){if(window.EDISON_LOCALMODE)return Promise.resolve();if(e.reported)return Ct(Tt.Duplicate,e.severity);if(["ResizeObserver loop limit exceeded","ResizeObserver loop completed with undelivered notifications"].some((t=>e.message.startsWith(t))))return e.severity="non-critical",Ct(Tt.DroppedDueToResizeObserverLoop,e.severity);if(e.trackAsMetric)return Ct(Tt.DroppedTrackAsMetric,e.severity,e.trackAsMetric);if(!e.force&&Rt>=Nt&&Math.random()>Ut)return Ct(Tt.DroppedDueToVolumeLimit,e.severity);if("Script error."===e.message)return Ct(Tt.DroppedDueToCrossOriginScriptError,e.severity);if(e.severity||(e.severity=n.SEVERITY.UNCAUGHT,e.tags=e.tags||[],e.tags.push("undefined_severity")),!e.stack_frames){const[t,r]=n.collectExceptionStack(e);e.stack_frames=t.reverse(),e.context_tb=r.reverse()}var o;e.tags=n.collectExceptionTags(e),e.excExtra=n.collectExceptionExtra(e),o=e.excExtra,Rt+=1,o.exception_number=Rt,window.DB_FRAME_BUST&&(e.severity=n.SEVERITY.USER_ERROR),t&&t.dsn&&Ft({sentryOptions:t,err:e});const s={e:e.message,loc:window.location.href,ref:document.referrer,stack:JSON.stringify(e.stack_frames),context_tb:JSON.stringify(e.context_tb),tags:JSON.stringify(e.tags),exc_extra:JSON.stringify(e.excExtra||{}),sev:e.severity||""};return r.sendXhr("/jse",s),e.reported=!0,e.force?Ct(Tt.ForceReported,e.severity):Ct(Tt.Reported,e.severity)},t.sentryBeforeSend=Gt}));
//# sourceMappingURL=e_core_exception_reporter.js-vflPle2Gu.map

//# debugId=b42eeec2-d876-3789-b21c-7268ca98f312