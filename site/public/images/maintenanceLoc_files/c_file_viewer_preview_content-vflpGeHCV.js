!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="86eefc8b-ee61-301c-9f08-cefd0c7a649a")}catch(e){}}();
define(["exports","./e_file_viewer_static_scl_page_folder","react","./c_file_viewer_api_navigation","./c_core_data_actions","./c_file_viewer_hooks_useTouchInteraction","./c_file_viewer_loading_indicator","./e_core_exception","./c_file_viewer_hooks_use_mouse_active","./c_file_viewer_toolbar_fullscreen_button","./c_core_i18n","./c_dig-icons_assets_ui-icon_line_video","./c_dig-icons_assets_ui-icon_line_thumbs-up","./c_react-redux_hooks_useDispatch"],(function(e,t,i,n,o,l,r,a,s,c,u,d,_,v){"use strict";function w(e){return e&&e.__esModule?e:{default:e}}var f=w(i);const p=()=>{const{fileViewerId:e}=t.useFileViewerContext(),i=u.useIntl(),n=v.useDispatch(),{logUserAction:l}=t.useFileViewerContext(),r=t.useFileViewerSelector(t.getFileViewerUi,e),a=null==r?void 0:r.isUiHidden.fullscreen,s=a?d.ShowLine:_.HideLine,c=a?i.formatMessage({id:"qJIBhE",defaultMessage:"Show toolbar"}):i.formatMessage({id:"Pwe/D+",defaultMessage:"Hide toolbar"}),w=t.useStabilizedCallback((()=>{const i={fileViewerId:e,isFullscreen:!0,actionContext:t.UserActionContext.TitleBarMain};a?(l(t.UserAction.ShowTools,t.UserActionContext.PreviewToolbar),n(o.setUiShown(i))):(l(t.UserAction.HideTools,t.UserActionContext.PreviewToolbar),n(o.setUiHidden(i)))}));return f.default.createElement(t.Button,{variant:"opacity",withIconStart:f.default.createElement(t.UIIcon,{src:s}),onClick:w},c)};p.displayName="HideToolbarButton";const h=()=>{const{featureConfig:e}=t.useFileViewerContext(),i=t.useCurrentPreviewMetadata(),o=a.isMobileRedesignEnabled(e),l=e.mobile_web,r=(s=i.previewType,![t.PreviewType.Video,t.PreviewType.Error,t.PreviewType.Loading].includes(s));var s;const c=n.useToggleFullScreenCallback(),u=f.default.useCallback((()=>{c({actionContext:t.UserActionContext.SurfaceGesture})}),[c]);return r&&l&&o?u:void 0};t.injectInternalStyle("/static/js/file_viewer/preview_content/preview_content.module.out-vfl0ohgz_.css",(e=>"._previewContent_1t0x7_1{align-items:stretch;background:var(--dig-color__background__subtle);flex:1;max-height:100%;max-width:100%;position:relative;width:100%}._previewContentWrapper_1t0x7_11{display:flex;height:100%;position:relative;width:100%}._hidden_1t0x7_18{display:none}"));t.injectInternalStyle("/static/js/file_viewer/ui/fullscreen_right_section.module.out-vflUdQoXf.css",(e=>":root{--abovePreviewZIndex:10}._fullscreenRightSection_k1zqn_5{display:flex;gap:var(--dig-spacing__micro__small);padding:var(--dig-spacing__macro__xsmall);position:absolute;right:0;top:0;transition:opacity var(--easing__transition) var(--duration__micro);z-index:var(--abovePreviewZIndex)}._hidden_k1zqn_16{opacity:0}"));const g=()=>{const{isUserInteractingWithElement:e,handleBlur:i,handleFocus:n}=s.useMouseActive(5e3),o=t.useRootPreviewType();return f.default.createElement("div",{className:t.cx("_fullscreenRightSection_k1zqn_5",{_hidden_k1zqn_16:!e}),onBlur:i,onFocus:n},f.default.createElement(p,null),o!==t.PreviewType.Video&&o!==t.PreviewType.Audio&&f.default.createElement(c.FullscreenButton,{variant:"borderless"}))};g.displayName="FullscreenRightSection";t.injectInternalStyle("/static/js/file_viewer/ui/show_tools_button.module.out-vflakd9Zc.css",(e=>":root{--abovePreviewZIndex:10}._showTools_10bo0_5{padding:var(--dig-spacing__micro__large);position:absolute;right:0;top:0;transition:opacity var(--easing__transition) var(--duration__micro);z-index:var(--abovePreviewZIndex)}._hidden_10bo0_14{opacity:0}"));const m=({fileViewerId:e})=>{const i=u.useIntl(),n=v.useDispatch(),{isUserInteractingWithElement:l,handleBlur:r,handleFocus:a}=s.useMouseActive(5e3),c=t.useStabilizedCallback((()=>{const i={fileViewerId:e,isFullscreen:!1,actionContext:t.UserActionContext.TitleBarMain};n(o.setUiShown(i))}));return f.default.createElement("div",{className:t.cx("_showTools_10bo0_5",{_hidden_10bo0_14:!l}),onFocus:a,onBlur:r},f.default.createElement(t.Button,{variant:"opacity",withIconLeft:f.default.createElement(t.UIIcon,{src:d.ShowLine}),onClick:c},i.formatMessage({id:"vQPZmq",defaultMessage:"Show tools"})))};m.displayName="ShowToolsButton";const x=({children:e})=>{const{fileViewerId:i,featureConfig:a}=t.useFileViewerContext(),s=t.useFileViewerSelector(t.getIsFullScreen,i),c=t.useFileViewerSelector(t.getAreToolsHidden,i),u=t.useCurrentPreviewMetadata().previewType===t.PreviewType.Loading,d=a.mobile_web,_=d?{tabIndex:0}:{};(()=>{const{fileViewerId:e,optionalIOClients:{preferencesClient:i}}=t.useFileViewerContext(),n=v.useDispatch();f.default.useEffect((()=>{var l;const r=(null===(l=null==i?void 0:i.ui)||void 0===l?void 0:l.getHiddenState())?o.setUiHidden:o.setUiShown;n(r({fileViewerId:e,actionContext:t.UserActionContext.Initialization,isFullscreen:!0}))}),[n,e,null==i?void 0:i.ui])})();const w=h(),{flipToNextFile:p,flipToPreviousFile:x}=n.useFileFlippingCallbacks(),{handleTouchStart:b,handleTouchEnd:C,handleClick:I}=l.useTouchInteraction({onSwipeLeft:()=>p(t.UserActionContext.SurfaceGesture),onSwipeRight:()=>x(t.UserActionContext.SurfaceGesture),onTap:w});return f.default.createElement("div",{className:"_previewContentWrapper_1t0x7_11",onTouchStart:b,onTouchEnd:C,onClick:I,..._},u?f.default.createElement(r.LoadingIndicator,null):null,f.default.createElement("div",{className:t.cx("_previewContent_1t0x7_1",{_hidden_1t0x7_18:u})},c&&!d?s?f.default.createElement(g,null):f.default.createElement(m,{fileViewerId:i}):null,e))};x.displayName="PreviewContent";var b=Object.freeze({__proto__:null,PreviewContent:x});e.HideToolbarButton=p,e.PreviewContent=x,e.preview_content_esnext=b}));
//# sourceMappingURL=c_file_viewer_preview_content.js-vflLlhvQ1.map

//# debugId=86eefc8b-ee61-301c-9f08-cefd0c7a649a