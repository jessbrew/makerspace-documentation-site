!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="ca243a19-0b9d-35bd-8ed1-313cad0038f3")}catch(e){}}();
define(["exports","react","./e_file_viewer_static_scl_page_folder","./c_team_creation_lottie_assets_collaboration_lottie","./c_ui_data_prefetchUtils","./c_core_i18n","./c_growth-components_quota-bar_strings","./c_trial-cards_trial-plan-card","./c_react-use_useEffectOnce","./c_dig-icons_assets_ui-icon_line_upload-file","./c_growth-components_paid-plan-card_paid_plan_card","./e_core_exception","./c_dig-icons_assets_ui-icon_line_twinkle-2"],(function(e,a,t,o,r,n,l,s,i,_,c,d,u){"use strict";function p(e){if(e&&e.__esModule)return e;var a=Object.create(null);return e&&Object.keys(e).forEach((function(t){if("default"!==t){var o=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(a,t,o.get?o:{enumerable:!0,get:function(){return e[t]}})}})),a.default=e,Object.freeze(a)}var f=p(a);t.injectInternalStyle("/static/metaserver/static/js/campaigns/custom_campaigns/out_of_space_modal/out_of_space_modal.module.out-vfl73c3l5.css",(e=>"._modal-body_17gnq_1{padding:0}._modal-body_17gnq_1._v1_17gnq_5{display:flex}._donut-text_17gnq_9,._left-section_17gnq_14{display:flex;justify-content:center}._left-section_17gnq_14{align-items:center;background-color:var(--dig-color__background__subtle);border-bottom-left-radius:var(--dig-radius__large);border-top-left-radius:var(--dig-radius__large);flex-direction:column;padding:var(--dig-spacing__macro__small)}._left-section-text_17gnq_25{text-align:center}h3._left-section-text_17gnq_25{margin:var(--dig-spacing__micro__small) 0}._top-section_17gnq_33{display:flex;padding:var(--dig-spacing__macro__large) var(--dig-spacing__macro__large) 0 var(--dig-spacing__macro__large)}._top-section-text_17gnq_39{margin-left:var(--dig-spacing__macro__large)}._top-section-title_17gnq_43{margin-bottom:var(--dig-spacing__macro__xsmall)}._card-container_17gnq_47{display:flex;margin:var(--dig-spacing__micro__medium)}._plan-card-section-container_17gnq_52{display:flex;flex-direction:column;padding:28px}._plan-card-container_17gnq_58{display:flex;margin-bottom:var(--dig-spacing__micro__medium)}._button-container_17gnq_63{display:flex;justify-content:flex-end;padding-bottom:var(--dig-spacing__micro__medium);padding-right:var(--dig-spacing__micro__medium)}"));const g="_modal-body_17gnq_1",m="_v1_17gnq_5",b="_donut-text_17gnq_9",y="_left-section_17gnq_14",v="_left-section-text_17gnq_25",E="_top-section_17gnq_33",h="_top-section-text_17gnq_39",q="_top-section-title_17gnq_43",x="_card-container_17gnq_47",M="_plan-card-section-container_17gnq_52",T="_plan-card-container_17gnq_58",B="_button-container_17gnq_63";t.injectInternalStyle("/static/js/growth-components/donut-space-visualizer/index.module.out-vflXgVKrg.css",(e=>"._quota-indicator-button-color-standard_a19pf_1{background-color:var(--dig-color__primary__surface);color:var(--dig-color__primary__on-surface)}._quota-indicator-button-color-warning_a19pf_6{background-color:var(--dig-color__warning__surface);color:var(--dig-color__warning__on-surface)}._quota-indicator-button-color-alert_a19pf_11{background-color:var(--dig-color__alert__surface--state-1);color:var(--dig-color__alert__on-surface)}._quota-indicator-button-color-success_a19pf_17{background-color:var(--dig-color__success__surface);color:var(--dig-color__success__on-surface)}._quota-indicator-button-color-standard_a19pf_1 ._cta-button_a19pf_23{border-color:var(--dig-color__primary__base--state-1);color:var(--dig-color__primary__on-surface)}._quota-indicator-button-color-warning_a19pf_6 ._cta-button_a19pf_23{border-color:var(--dig-color__warning__base--state-1);color:var(--dig-color__warning__on-surface)}._quota-indicator-button-color-alert_a19pf_11 ._cta-button_a19pf_23{border-color:var(--dig-color__alert__base);color:var(--dig-color__alert__on-surface)}._quota-indicator-button-color-success_a19pf_17 ._cta-button_a19pf_23{border-color:var(--dig-color__success__base--state-1);color:var(--dig-color__success__on-surface)}._quota-ring-container_a19pf_47{line-height:0px;position:relative;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content}._quota-ring_a19pf_47{transform:rotate(-90deg)}._progress_a19pf_57,._track_a19pf_58{fill:transparent}._progress_a19pf_57{stroke-linecap:round}._quota-indicator-button-color-standard_a19pf_1 ._progress_a19pf_57{stroke:var(--dig-color__primary__base--state-1)}._quota-indicator-button-color-standard_a19pf_1._menu_a19pf_70 ._progress_a19pf_57{stroke:var(--dig-color__success__base)}._quota-indicator-button-color-standard_a19pf_1 ._track_a19pf_58{stroke:var(--dig-color__primary__surface--state-2)}._quota-indicator-button-color-standard_a19pf_1._menu_a19pf_70 ._track_a19pf_58{stroke:var(--dig-color__success__surface);color:unset}._quota-indicator-button-color-warning_a19pf_6 ._progress_a19pf_57,._quota-indicator-button-color-warning_a19pf_6._menu_a19pf_70 ._progress_a19pf_57{stroke:var(--dig-color__warning__base--state-1)}._quota-indicator-button-color-warning_a19pf_6 ._track_a19pf_58,._quota-indicator-button-color-warning_a19pf_6._menu_a19pf_70 ._track_a19pf_58{stroke:var(--dig-color__warning__surface--state-2)}._quota-indicator-button-color-alert_a19pf_11 ._progress_a19pf_57,._quota-indicator-button-color-alert_a19pf_11._menu_a19pf_70 ._progress_a19pf_57{stroke:var(--dig-color__alert__base)}._quota-indicator-button-color-alert_a19pf_11 ._track_a19pf_58,._quota-indicator-button-color-alert_a19pf_11._menu_a19pf_70 ._track_a19pf_58{stroke:var(--dig-color__alert__surface--state-2)}._quota-indicator-button-color-success_a19pf_17 ._progress_a19pf_57,._quota-indicator-button-color-success_a19pf_17._menu_a19pf_70 ._progress_a19pf_57{stroke:var(--dig-color__success__base--state-1)}._quota-indicator-button-color-success_a19pf_17 ._track_a19pf_58,._quota-indicator-button-color-success_a19pf_17._menu_a19pf_70 ._track_a19pf_58{stroke:var(--dig-color__success__surface--state-1)}._subtle-icon-color_a19pf_114{color:var(--dig-color__text__subtle)}._quota-ring-container--lap_a19pf_120._quota-indicator-button-color-warning_a19pf_6 ._progress_a19pf_57,._quota-ring-container--lap_a19pf_120._quota-indicator-button-color-warning_a19pf_6._menu_a19pf_70 ._progress_a19pf_57{stroke:var(--dig-color__warning__surface--state-2)}._quota-ring-container--lap_a19pf_120._quota-indicator-button-color-warning_a19pf_6 ._track_a19pf_58,._quota-ring-container--lap_a19pf_120._quota-indicator-button-color-warning_a19pf_6._menu_a19pf_70 ._track_a19pf_58{stroke:var(--dig-color__warning__surface)}._no-background_a19pf_131{background-color:transparent}._no-icon-color_a19pf_135{color:unset}._donut-space-visualizer-children_a19pf_139{left:50%;position:absolute;top:50%;transform:translate(-50%,-50%)}"));const w="_quota-indicator-button-color-standard_a19pf_1",k="_quota-indicator-button-color-warning_a19pf_6",P="_quota-indicator-button-color-alert_a19pf_11",S="_quota-indicator-button-color-success_a19pf_17",N="_quota-ring-container_a19pf_47",L="_quota-ring_a19pf_47",O="_progress_a19pf_57",A="_track_a19pf_58",V="_menu_a19pf_70",C="_subtle-icon-color_a19pf_114",R="_quota-ring-container--lap_a19pf_120",U="_no-background_a19pf_131",D="_no-icon-color_a19pf_135",I="_donut-space-visualizer-children_a19pf_139";var z;!function(e){e[e.UNDER_QUOTA=0]="UNDER_QUOTA",e[e.NEAR_QUOTA=1]="NEAR_QUOTA",e[e.OVER_QUOTA=2]="OVER_QUOTA",e[e.UNDER_QUOTA_GREEN=3]="UNDER_QUOTA_GREEN"}(z||(z={}));const F={[z.OVER_QUOTA]:P,[z.UNDER_QUOTA]:w,[z.NEAR_QUOTA]:k,[z.UNDER_QUOTA_GREEN]:S},Q={small:32,standard:48,large:122,xlarge:192},j={small:3,standard:4,large:14,xlarge:16},G=({quotaFillPercent:e,quotaState:a,size:r,theme:s="standard",animate:i=!1,noBackground:_=!1,noIconColor:c=!1,ariaLabel:d=l.DEFAULT_ARIA_LABEL,children:u})=>{const[p,g]=f.default.useState({}),m=void 0===e;void 0===e&&(e=0);const b=n.useIntl(),y=100*Math.max(0,Math.min(e||0,1)),v=t.cx(N,F[a],{[V]:"menu"===s,[U]:_,[D]:c,[C]:s===o.GrowthVariants.DORA,[R]:s===o.GrowthVariants.LAP}),E=Q[r],h=j[r],q=E/2-h,x=Math.ceil(2*Math.PI*q),M=x-y/100*x;return f.default.useEffect((()=>{const e=setTimeout((()=>{g({strokeDashoffset:M,transitionProperty:"stroke-dashoffset ",transitionDuration:"1s",transitionTimingFunction:"ease"})}),250);return()=>{clearTimeout(e)}}),[M]),m?f.default.createElement("div",{"data-testid":"hideRingContainer",className:v,style:{width:E,height:E}},u):f.default.createElement("div",{"data-testid":"spaceVisualizerContainer",className:v,role:"progressbar","aria-valuenow":Math.round(y),"aria-valuemin":0,"aria-valuemax":100,"aria-label":b.formatMessage(d)},u,f.default.createElement("svg",{className:L,width:E,height:E},f.default.createElement("circle",{className:A,cx:E/2,cy:E/2,r:q,strokeWidth:h}),f.default.createElement("circle",{"data-testid":"quotaRing",className:O,strokeDasharray:x,strokeDashoffset:i?x:M,strokeWidth:h,style:i?p:void 0,cx:E/2,cy:E/2,r:q})))};G.displayName="DonutSpaceVisualizer";const Y=n.defineMessage({id:"EzOXLx",defaultMessage:"Best value"}),Z=n.defineMessage({id:"t9N0GI",defaultMessage:"Buy {plan_name}"}),W={[o.PlanTypes.plus]:[i.MobileLine,_.SendLine,i.BackupLine],[o.PlanTypes.professionalEsign]:[i.MobileLine,_.SendLine,i.BackupLine],[o.PlanTypes.professional]:[i.MobileLine,_.SendLine,i.BackupLine],[o.PlanTypes.dropboxBusiness]:[i.MobileLine,_.SendLine,i.BackupLine,t.PersonMultipleLine]},$={[o.PlanTypes.plus]:[t.SpaceLine,t.ClockLine,_.SendLine,i.MobileLine],[o.PlanTypes.professional]:[t.SpaceLine,t.ClockLine,_.SendLine,t.ShieldLine]};var H=({altText:e,...a})=>f.createElement("svg",{role:"presentation",...a,className:"dig-Illustration dig-13or4mr0_3-5-3 dig-Illustration-mini",viewBox:"0 0 128 128",fill:"none",xmlns:"http://www.w3.org/2000/svg"},f.createElement("title",null,e),f.createElement("path",{d:"M8.32 60.16v-1.92c.189-.077.445-.102.554-.24 1.644-2.14 3.788-3.798 5.897-5.36 7.7-5.712 15.306-11.565 23.587-16.448 2.752-1.622 5.444-3.357 8.1-5.14.72-.482 1.257-.572 2.022-.223 2.083.95 4.166 1.91 6.298 2.739 3.478 1.354 6.838 2.94 10.147 4.675 5.44 2.855 10.451 6.4 15.721 9.527 2.199 1.305 3.584 3.603 4.954 5.763.323.509.464 1.193-.56 1.158-1.28-.041-1.008.634-.55 1.277.364.515.787 1.046 1.308 1.376 1.216.771 1.792 1.894 2.18 3.216.556 1.891.985 3.862 1.85 5.61 3.071 6.201 4.764 12.886 6.975 19.385.794 2.33 1.107 4.771 1.402 7.207.057.483.166.966-.25 1.344-1.945 1.779-3.216 4.198-5.683 5.517a103.99 103.99 0 0 0-8.768 5.263c-7.997 5.341-16.55 9.677-25.05 14.119-1.2.627-2.348.822-3.673.416-1.728-.528-3.51-.88-5.261-1.344-5.818-1.543-11.76-2.595-17.498-4.464-1.276-.416-2.288-1.047-3.008-2.199-.764-1.219-1.561-2.412-2.144-3.737-3.206-7.315-6.69-14.506-9.21-22.119-1.388-4.195-2.93-8.339-4.092-12.608-.528-1.948.25-2.848 2.211-2.585.381.051.82.214 1.245-.266-1.22-1.641-2.285-3.622-4.074-4.403-2.288-1.002-3.401-2.63-4.214-4.736-.106-.278-.029-.662-.416-.8Z",fill:"#C8AFF0"}),f.createElement("g",{fill:"#1E1919"},f.createElement("path",{d:"M88.211 59.66c-2.707-.482-5.27-.882-7.808-1.404-6.33-1.3-12.774-1.738-19.165-2.566-1.267-.164-2.537-.327-3.792-.573-.966-.192-1.337.109-1.078 1.059.474 1.747.902 3.51 1.482 5.222 2.953 8.733 5.584 17.568 8.13 26.423.446 1.549 1.166 2.09 2.724 2.217 7.597.624 15.216 1.085 22.755 2.282 1.95.31 3.895.634 5.828 1.027 1.462.298 1.567.714.668 1.927-1.488 2.006-3.21 3.168-5.961 2.796-6.285-.85-12.615-1.379-18.912-2.172a78.198 78.198 0 0 0-7.962-.593 3.282 3.282 0 0 0-1.542.32c-9.034 4.34-18.208 8.385-27.082 13.047-1.885.989-3.658 2.189-5.517 3.229-1.5.838-4.128-.304-4.499-1.962-.214-.957.634-1.414 1.242-1.875 2.896-2.202 6.041-4 9.29-5.622 7.196-3.597 14.543-6.903 21.388-11.178 1.011-.63 1.194-1.187.842-2.317a452.737 452.737 0 0 1-8.077-29.593c-.256-1.076-.586-1.258-1.594-.784-10.364 4.88-21.084 8.97-31.37 14.032-1.046.515-2.182.85-3.276 1.267-.858.326-1.504.128-2.07-.653-1.233-1.693-1.255-2.166.54-3.498 1.104-.819 1.277-1.29.01-2.115-.87-.57-1.517-1.481-2.278-2.224-.925-.902-.724-1.507.316-2.243 8.493-5.994 16.688-12.41 25.53-17.904 2.627-1.632 5.219-3.318 7.872-4.906.87-.521 1.081-.976.573-1.9-.804-1.46-1.23-3.066-1.35-4.733-.065-.864.031-1.648.835-2.272 2.409-1.866 2.908-1.808 4.604.774.352.535.752 1.053 1.002 1.635 1.481 3.453 4.185 5.364 7.606 6.746 7.76 3.136 14.931 7.546 22.643 10.81 1.568.665 3.194 1.19 4.772 1.83 1.097.442 1.699 1.056.364 1.978-.73.502-.406.892.048 1.388.8.874 1.93 1.514 2.263 3.076l.006.003Z"}),f.createElement("path",{d:"M81.658 66.723c-4.51-.419-9.008-.877-13.463-1.734-2.153-.413-3.859-1.453-5.232-3.114-.224-.272-.646-.512-.403-.937.186-.324.57-.208.877-.176 4.5.483 9.001.947 13.497 1.468 2.27.263 3.856 1.684 5.258 3.344.227.27.567.564.33.983-.202.352-.56.195-.864.166Z"})),f.createElement("path",{d:"M115.849 31.354c0 .697-.633 1.238-1.254 1.718-1.136.88-2.323 1.693-3.51 2.505-4.308 2.95-7.501 6.804-9.2 11.757-.855 2.487-2.746 3.667-4.919 4.666-1.02.47-1.436.125-1.616-.934-1.385-8.298-5.216-15.258-11.574-20.781-1.05-.912-.848-1.498.211-2.17 2.647-1.677 5.543-2.95 7.863-5.158 2.784-2.65 4.774-5.719 5.484-9.527.378-2.032 1.091-3.744 3.107-4.707 1.399-.666 1.863-.544 2.208 1.03.295 1.35.455 2.73.704 4.09.935 5.066 3.376 9.245 7.312 12.582 1.082.919 2.391 1.383 3.568 2.103.996.608 1.527 1.453 1.623 2.82l-.007.006Zm-16.336-5.821c-.236.179-.422.278-.55.425-1.37 1.581-2.96 2.903-4.685 4.07-.595.404-.403.727.013 1.124 1.552 1.481 2.78 3.222 3.84 5.075.512.9.848 1.037 1.558.163 1.277-1.568 2.599-3.117 4.237-4.323.8-.589.547-.922-.051-1.437-1.494-1.29-2.902-2.665-3.878-4.416-.122-.22-.295-.41-.49-.678l.006-.003Zm20.096 40.176c-.006.576-.336.915-.675 1.267-3.142 3.267-5.789 6.816-6.445 11.478-.099.717-.387.957-1.036.503-.791-.55-1.54-1.123-1.956-2.051-1.961-4.381-4.489-8.343-8.422-11.252-.339-.25-.63-.576-.906-.899-.825-.976-1.023-1.808.404-2.496 2.147-1.04 3.616-2.784 4.611-4.915 1.081-2.31 2.435-4.496 3.229-6.938.339-1.04.851-1.09 1.622-.432 1.142.983 2.16 2.02 2.595 3.546 1.111 3.897 2.72 7.504 6.061 10.077.672.515.742 1.382.918 2.112Zm-10.566-1.114c.016.112-.01.253.048.307.688.65 1.299 1.45 2.109 1.879.659.348.95-.634 1.446-.967.304-.204.554-.49.848-.713.397-.308.557-.573.109-1.008-.682-.66-1.296-1.39-1.955-2.07-.234-.244-.538-.73-.874-.257-.637.903-1.158 1.882-1.728 2.826l-.003.003Z",fill:"currentColor"}));const X=({prefetchFields:e,plans:a,spaceUsage:r,modalVersion:l,onPrimary:i,onSecondary:_,trialCardsLocation:p,...w})=>{const k=n.intl.formatMessage({id:"eXpPAD",defaultMessage:"{totalUsage} of {quota}"},{totalUsage:t.format_bytes(r.used),quota:t.format_bytes(r.allocated)}),P=r.allocated>0?r.used/r.allocated:1,S=n.intl.formatMessage({id:"lb2/Rk",defaultMessage:"{quotaFillPercent}%"},{quotaFillPercent:Math.round(100*P)}),N=n.intl.formatMessage({id:"YheFVp",defaultMessage:"You’re out of storage space on Dropbox Basic"}),L=n.intl.formatMessage({id:"CMYwAH",defaultMessage:"Try Dropbox plans for individual. Pay for what you need"}),O=n.intl.formatMessage({id:"/iGtiB",defaultMessage:"Compare all plans"}),A=n.intl.formatMessage({id:"+ALN/i",defaultMessage:"You’re on {dropbox_plan}"},{dropbox_plan:t.getDropboxBasic()}),V=n.intl.formatMessage({id:"SYa7P4",defaultMessage:"Ready for more?"}),C=n.intl.formatMessage({id:"tZ+JSD",defaultMessage:"Here's more storage and security."}),R=n.intl.formatMessage({id:"CCTYB2",defaultMessage:"Illustration of a box"}),U=["V1","reverse-trial-downgrade-upsell-under-quota-V1"].includes(l),D=["V1","reverse-trial-downgrade-upsell-under-quota-V1"].includes(l),F="V2"===l,Q="V1"===l,j="reverse-trial-downgrade-upsell-under-quota-V1"===l,X=["V1","V2"].includes(l),J="reverse-trial-downgrade-upsell-under-quota-V1"===l?o.PlanTypes.plus:o.PlanTypes.professionalEsign,K="V2"===l,ee="V2"===l;return f.default.createElement(t.Modal.Body,{className:t.cx(g,{[m]:U})},f.default.createElement(t.Box,{className:t.cx({[y]:D,[E]:F})},D&&((e,a)=>a?f.default.createElement(t.Stack,{"data-testid":"left-section",display:"flex",align:"center",gap:"Macro Medium"},f.default.createElement(t.Box,{display:"flex",justifyContent:"center"},f.default.createElement(H,{"data-testid":"under-quota-illustration",altText:R,width:"128px"})),f.default.createElement(t.Stack,{display:"flex"},f.default.createElement(t.Box,null,f.default.createElement(t.Text,{className:v,color:"subtle",tagName:"p",isBold:!0},A)),f.default.createElement(t.Box,null,f.default.createElement(t.Title,{className:v,tagName:"h3"},V)),f.default.createElement(t.Box,null,f.default.createElement(t.Text,{className:v,size:"large",tagName:"p"},C)))):(e=>f.default.createElement(t.Stack,{"data-testid":"left-section",display:"flex",align:"stretch",gap:"Macro Small"},e&&f.default.createElement(t.Box,{display:"flex",justifyContent:"center"},f.default.createElement(G,{quotaFillPercent:P,quotaState:z.OVER_QUOTA,size:"xlarge",animate:!0,noBackground:!0},f.default.createElement(t.Box,{className:I},f.default.createElement(t.Text,{className:b,size:"xlarge",isBold:!0},Math.round(100*P),"%"),f.default.createElement(t.Text,{className:b,size:"small",color:"subtle"},k)))),f.default.createElement(t.Box,null,f.default.createElement(t.Title,{className:v},e?N:L))))(e))(Q,j),F&&f.default.createElement(f.default.Fragment,null,f.default.createElement(G,{quotaFillPercent:P,quotaState:z.OVER_QUOTA,size:"large",animate:!0,noBackground:!0},f.default.createElement(t.Box,{className:I},f.default.createElement(t.Text,{className:b,size:"medium",isBold:!0},S))),f.default.createElement(t.Box,{"data-testid":"top-section",className:h},f.default.createElement(t.Title,{className:q,size:"large"},N),f.default.createElement(t.Text,{size:"large"},k)))),((r=!0,l,g,m,b)=>f.default.createElement(t.Box,{className:M},f.default.createElement(t.Box,{className:T},((r=o.PlanTypes.professionalEsign,l,_,g)=>{let m=[];if(e.planInfo)try{const b=e.planInfo;a.forEach(((a,y)=>{if(!a||!(a in b))return void d.reportException({err:new Error("Plan not found in planInfo"),severity:d.SEVERITY.CRITICAL});const{featureList:v,planName:E,numUsers:h,spaceShortGbRounded:q,minimumSpaceShortGbRounded:M,annualBillingByMonth:T,monthlyBillingByMonth:B,strikethroughMonthlyBillingByMonth:w,strikethroughAnnualBillingByMonth:k,monthlyBillingByMonthPerLicense:P,annualBillingByMonthPerLicense:S,advertisedYearlyPriceSavingsPercentage:N,includedTaxString:L}=b[a],O=a===r,A=n.intl.formatMessage(Y),V={planSelectorName:a,annualBillingByMonth:T,monthlyBillingByMonth:B,advertisedYearlyPriceSavingsPercentage:N,countryCode:e.ipCountry||"US",includedTaxString:L,annualBillingByMonthPerLicense:S,monthlyBillingByMonthPerLicense:P,strikethroughAnnualBillingByMonth:k,strikethroughMonthlyBillingByMonth:w,priceTextSize:"large",discountTextSize:"large",showStrikethroughPricing:!1,styleVariant:"subtle"},C=a===o.PlanTypes.dropboxBusiness?M.replace(/(\d[\d,]*)\s*(GB|TB)/,"$1+ $2"):q,R=g?$:W;m.push(f.default.createElement(t.Box,{"data-testid":"trial-plan-card",key:y,className:x},f.default.createElement(s.TrialPlanCard,{isRecommended:O,recommendedText:A,eyebrow:g?void 0:E,eyebrowSubtle:!0,eyebrowUserCount:l,userCountText:_?h:void 0,isMultiUser:a===o.PlanTypes.dropboxBusiness,heading:g?E:C,pricingInfo:V,primaryOnClick:()=>i(y+1),bullets:v.map(((e,t)=>[R[a].length>t?R[a][t]:u.Twinkle2Line,f.default.createElement(c.PartialBoldText,{key:t,text:e})])),primaryCtaText:n.intl.formatMessage(Z,{plan_name:E}),primaryCtaIsPurchase:!0,trialCardsLocation:p,productFamily:a,boldHeading:g})))}))}catch(e){m=[]}return m})(l,g,m,b)),f.default.createElement(t.Box,{className:B},r&&f.default.createElement(t.Button,{"data-testid":"secondary-cta",variant:"outline",onClick:_,"data-uxa-log":`${p}-secondary-cta`},O))))(X,J,K,ee,j))};X.displayName="OutOfSpaceModalNoCss";const J=t.requireCssWithComponent((K=n.intl,function(e){const a=a=>f.default.createElement(n.Provider,{value:K},f.default.createElement(e,{...a}));return a.displayName=`withIntlProvider(${t.getDisplayName(e)})`,a})(X),["/static/metaserver/static/css/dig-illustrations/index.web-vflEv5rHy.css"]);var K;const ee=document.getElementById("maestro-portal");null!==ee&&t.Modal.setAppElement(ee);const ae={V1:[o.PlanTypes.plus,o.PlanTypes.professionalEsign],V2:[o.PlanTypes.plus,o.PlanTypes.professionalEsign,o.PlanTypes.dropboxBusiness],"reverse-trial-downgrade-upsell-under-quota-V1":[o.PlanTypes.plus,o.PlanTypes.professional]},te=({viewer:e,modalVersion:o,userId:n,onPrimary:l,onSecondary:s,onDismiss:i,onImpression:_,isPreview:c,trialCardsLocation:d,...u})=>{const[p,g]=f.default.useState(void 0),[m,b]=f.default.useState({}),[y,v]=f.default.useState(!1),[E,h]=f.default.useState(!0),q=ae[o],x=!!p&&y&&["V1","V2","reverse-trial-downgrade-upsell-under-quota-V1"].includes(o);a.useEffect((()=>{!c&&x&&_&&_()}),[_,c,x]),a.useEffect((()=>{(async()=>{const a="reverse-trial-downgrade-upsell-under-quota-V1"===o?r.PrefetchLocation.PROMPT_RT_DOWNGRADE_UPSELL_MODAL_LOCATION:r.PrefetchLocation.OUT_OF_SPACE_MODAL,l=await r.prefetchGetPlans(q,a);if(g(l),!c&&n){const a=e.get_user_by_id(n),{spaceUsageResponse:o,planInfoResponse:r}=await t.getSpaceAndPlanInfo(a),l=t.getAccountSpaceUsage(o,r);l.currentStatus===t.AccountSpaceUsageStatus.READY&&(b(l),v(!0))}c&&(b({used:2359296768,allocated:2147483648}),v(!0))})()}),[o,q,e,n,c]);return f.default.createElement(t.Modal,{open:E&&x,isCentered:!0,width:["V1","reverse-trial-downgrade-upsell-under-quota-V1"].includes(o)?1005:1082,withCloseButton:"close",shouldFocusAfterRender:!0,onRequestClose:()=>{i&&i(),h(!1)},"aria-label":"Out of Space Modal"},x&&f.default.createElement(J,{prefetchFields:p,plans:q,spaceUsage:m,modalVersion:o,onPrimary:e=>l(e),onSecondary:s,trialCardsLocation:d}))};te.displayName="OutOfSpaceModalWrapperInner";const oe=e=>{const{viewer:a,isLoading:o}=t.useViewer();return o?null:f.default.createElement(te,{...e,viewer:a})};oe.displayName="OutOfSpaceModalWrapper",e.ModalVersionToPlanTypes=ae,e.OutOfSpaceModalWrapper=oe,e.PlanTypesToBuyUrl={plus:"/buy/plus",professional:"/buy/professional",professionalEsign:"/buy/essentials",business:"/buy/business"}}));
//# sourceMappingURL=c_custom_campaigns_out_of_space_modal_out_of_space_modal_wrapper.js-vfl2zZ5cW.map

//# debugId=ca243a19-0b9d-35bd-8ed1-313cad0038f3