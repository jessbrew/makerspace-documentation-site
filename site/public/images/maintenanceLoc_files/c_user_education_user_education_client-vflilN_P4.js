!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="f68a7cd3-7c9a-3ddc-8eb6-c424eed5b1dd")}catch(e){}}();
define(["exports","./c_src_sink_index","./c_onboarding_survey_lib_oa_pulsar_campaigns"],(function(e,t,s){"use strict";window.ensemble&&!window.ensemble.eventEmitter&&(window.ensemble.eventEmitter=new t.EventEmitter);const n=window.ensemble&&window.ensemble.eventEmitter?window.ensemble.eventEmitter:new t.EventEmitter;const a=new class{constructor(){this.controllerReady=!1,this.eventQueue=[],this.stepCallback={},this.globalCallbacks=[],this.on(s.UEStateChannel,this.handleUpdate,this)}init(){this._sendEvent({containerName:"UEClient",name:s.UEEventName.Subscribe,data:{}})}on(e,t,s){n.on(e,t,s)}removeListener(e,t,s){n.removeListener(e,t,s)}send(e,t){this._isUserEducationDisabled()||n.emit(e,t)}sendEvent(e,t,s={}){if(this._isUserEducationDisabled())return;const n={containerName:e,name:t,data:s};this.controllerReady?this._sendEvent(n):this.eventQueue.push(n)}_sendEvent(e){this._isUserEducationDisabled()||(this._shouldSendEventAsynchronously()?setTimeout((()=>this.send(s.UEEventChannel,e)),0):this.send(s.UEEventChannel,e))}_isUserEducationDisabled(){return!window.ensemble}_shouldSendEventAsynchronously(){return!0}_registerCallbackForEducationStep(e,t,s){const n=this._getKeyForStepCallback(e,t);this.stepCallback[n]||(this.stepCallback[n]=[]),this.stepCallback[n].push(s)}registerCallbackForEducationStep(e,t,n){this._registerCallbackForEducationStep(e,t,n),this.sendEvent("UEClientCallback",s.UEEventName.Subscribe)}registerBulkCallbackForEducationStep(e,t){e.forEach((e=>{this._registerCallbackForEducationStep(e.moduleName,e.stepName,t)})),this.sendEvent("UEClientCallback",s.UEEventName.Subscribe)}registerForAllEducationSteps(e){this.globalCallbacks.push(e),this.sendEvent("UEClientCallback",s.UEEventName.Subscribe)}unregisterCallbackForEducationStep(e,t,s){this.unregisterBulkCallbackForEducationStep([{moduleName:e,stepName:t}],s)}unregisterBulkCallbackForEducationStep(e,t){e.forEach((e=>{const s=this._getKeyForStepCallback(e.moduleName,e.stepName);if(this.stepCallback[s]){-1!==this.stepCallback[s].indexOf(t)&&(this.stepCallback[s].splice(this.stepCallback[s].indexOf(t),1),0===this.stepCallback[s].length&&delete this.stepCallback[s])}}))}unregisterForAllEducationSteps(e){const t=this.globalCallbacks.indexOf(e);-1!==t&&this.globalCallbacks.splice(t,1)}_getKeyForStepCallback(e,t){return`${e}.${t}`}handleUpdate(e){if(e.state!==s.UEStateType.Ready||this.controllerReady){if(e.state===s.UEStateType.ShowStep&&e.step&&e.step.name){const t=this._getKeyForStepCallback(e.moduleName,e.step.name);if(this.stepCallback[t]){for(const e of this.stepCallback[t])e();delete this.stepCallback[t]}for(const t of this.globalCallbacks)t(e)}}else for(this.controllerReady=!0;this.eventQueue.length>0;){const e=this.eventQueue.shift();e&&this._sendEvent(e)}}sendError(e){this.send(s.UEErrorChannel,e)}};a.init(),e.UEClient=a}));
//# sourceMappingURL=c_user_education_user_education_client.js-vfl0pzWoo.map

//# debugId=f68a7cd3-7c9a-3ddc-8eb6-c424eed5b1dd