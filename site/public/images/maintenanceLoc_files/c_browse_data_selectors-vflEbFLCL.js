!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="1f05cc86-7102-382e-8df3-797bf23b183b")}catch(e){}}();
define(["require","exports","./e_file_viewer_static_scl_page_folder","./c_tagging_utils","react","./c_core_i18n","./c_dig-icons_assets_ui-icon_line_star","./c_browse_models","./c_browse_action_logger","./e_core_exception","./c_api_v2_routes_folders_info_provider","./c_files_view_util","./c_sync_everything_redux_selectors","./e_edison","./c_api_v2_routes_password_confirmation_provider","./c_pap-events_docsend_view_docsend_hub_entry_button","./c_src_sink_index"],(function(e,t,r,i,s,n,o,a,l,c,d,_,u,E,S,p,f){"use strict";function T(e){return e&&e.__esModule?e:{default:e}}var I=T(s);const m=I.default.lazy((async()=>{const{ShelfEmptySpot:t}=await new Promise((function(t,r){e(["./c_dig-illustrations_spot_shelf-empty"],t,r)}));return{default:t}})),F=()=>I.default.createElement(I.default.Suspense,{fallback:null},I.default.createElement(m,null));F.displayName="AsyncShelfEmptySpot";const g=I.default.lazy((async()=>{const{StarStickersSpot:t}=await new Promise((function(t,r){e(["./c_dig-illustrations_spot_star-stickers"],t,r)}));return{default:t}})),y=()=>I.default.createElement(I.default.Suspense,{fallback:null},I.default.createElement(g,null));var N;function h(e,{sortField:t,sortDirection:i},s){const o=function(e,t){switch(e){case r.SortField.FILENAME:case r.SortField.SHARED_WITH:return e=>A(e,a.File.getFilename(e));case r.SortField.MODIFIED:return e=>A(e,e.ts);case r.SortField.CATEGORY:return e=>A(e,a.File.getCategoryDescription(e));case r.SortField.EXTENSION:return e=>A(e,a.File.getExtension(e));case r.SortField.SIZE:return e=>A(e,e.is_dir&&(null==t?void 0:t.has(e.fq_path))?t.get(e.fq_path).size:e.bytes);case r.SortField.PARENT_FOLDER:return e=>A(e,a.File.getParentDirName(e));case r.SortField.RECENT_ACTIVITY:return e=>{var t;return A(e,null===(t=e.recentsInfo)||void 0===t?void 0:t.activity_timestamp_ms)};default:return}}(t,s),l=function(e,t){const i=n.case_insensitive_comparator(!0),s=t===r.SortDirection.ASCENDING?1:-1;switch(e){case r.SortField.FILENAME:case r.SortField.SHARED_WITH:case r.SortField.SIZE:case r.SortField.PARENT_FOLDER:case r.SortField.RECENT_ACTIVITY:return function(e,t){return function({isFolder:i,value:s,isAlwaysFirst:n},{isFolder:o,value:a,isAlwaysFirst:l}){const c=L(n,l);return 0!==c?c:(s||(s=1/0*e),a||(a=1/0*e),i&&o?r.compare(s,a,e,t):i?-e:o?e:r.compare(s,a,e,t))}}(s,i);case r.SortField.MODIFIED:case r.SortField.CATEGORY:case r.SortField.EXTENSION:return function(e,t){return function({isFolder:i,value:s,isAlwaysFirst:n},{isFolder:o,value:a,isAlwaysFirst:l}){const c=L(n,l);return 0!==c?c:i&&o?r.compare(s,a,e,t):i?1:o?-1:""===s?1:""===a?-1:r.compare(s,a,e,t)}}(s,i);default:return}}(t,i);return o&&l?e.sortBy(o,l):(c.reportException({err:new Error("sortFiles was called with an unsupported sort field"),tags:["browse_sort_invalid_field"],severity:c.SEVERITY.CRITICAL,exc_extra:{sort_field:t}}),e)}function A(e,t){return{isFolder:e.is_dir,value:t,isAlwaysFirst:v(e)}}function v(e){return a.File.isTeamMemberFolder(e)||a.File.isFamilySharedFolder(e)}function L(e,t){return e&&t?0:e?-1:t?1:0}y.displayName="AsyncStarStickersSpot",function(e){e.NONE="NONE",e.RECENTS="RECENTS",e.STARRED="STARRED"}(N||(N={})),N.RECENTS,r.ClockLine,n.intl.formatMessage({id:"U93XNk",defaultMessage:"Recents"}),N.STARRED,o.StarLine,n.intl.formatMessage({id:"B1ftBl",defaultMessage:"Starred"}),N.RECENTS,I.default.createElement(F,null),n.intl.formatMessage({id:"cmn9GC",defaultMessage:"Jump back in"}),n.intl.formatMessage({id:"KOK/uX",defaultMessage:"Once you open a file, it’ll show up here for easy access."}),N.STARRED,I.default.createElement(y,null),n.intl.formatMessage({id:"wXfZV3",defaultMessage:"Aim for the stars"}),n.intl.formatMessage({id:"T1mDEV",defaultMessage:"Star files that matter most to you, and they’ll show up here."}),n.intl.formatMessage({id:"HxlTXi",defaultMessage:"Go to Files"});var C;t.ActionTypes=void 0,(C=t.ActionTypes||(t.ActionTypes={})).SET_VIEW_TYPE="FILES_VIEW/SET_VIEW_TYPE",C.SET_VIEW_TYPES="FILES_VIEW/SET_VIEW_TYPES",C.SET_VIEW_TYPE_SCOPE="FILES_VIEW/SET_VIEW_TYPE_SCOPE",C.SET_FILE_RENAME="FILES_VIEW/SET_FILE_RENAME",C.SET_GRID_VIEW_SIZE="FILES_VIEW/SET_GRID_VIEW_SIZE",C.SET_COLUMNS_INDEX="FILES_VIEW/SET_COLUMNS_INDEX",C.SET_SCOPED_COLUMNS_INDEX="FILES_VIEW/SET_SCOPED_COLUMNS_INDEX",C.SET_SORT="FILES_VIEW/SET_SORT",C.SET_SCOPED_SORTS="FILES_VIEW/SET_SCOPED_SORTS",C.SET_SCROLL="FILES_VIEW/SET_SCROLL",C.UPDATE_INSTANCE="FILES_VIEW/UPDATE_INSTANCE",C.UPSERT_INSTANCE="FILES_VIEW/UPSERT_INSTANCE",C.DELETE_INSTANCE="FILES_VIEW/DELETE_INSTANCE",C.PREVIEW_THUMBNAILS_LOADING="FILES_VIEW/PREVIEW_THUMBNAILS_LOADING",C.PREVIEW_THUMBNAILS_LOADED="FILES_VIEW/PREVIEW_THUMBNAILS_LOADED",C.PREVIEW_THUMBNAILS_REMOVED="FILES_VIEW/PREVIEW_THUMBNAILS_REMOVED",C.MARK_ACTIVE_INSTANCE="FILES_VIEW/MARK_ACTIVE_INSTANCE",C.FILTER_OUT_COLUMNS="FILES_VIEW/FILTER_OUT_COLUMNS",C.UPDATE_FILE_RENAME_INPUT="UPDATE_FILE_RENAME_INPUT",C.UPDATE_NAMING_CONVENTION_APPLY_STATUS="UPDATE_NAMING_CONVENTION_APPLY_STATUS",C.SET_OPEN_MODE="FILES_VIEW/SET_OPEN_MODE";var w;r.injectInternalStyle("/static/typescript/component_libraries/retrieval-components/src/open-mode-toggle/index.module.out-vflPDcz7u.css",(e=>"._granular-settings-container_1f4jl_1{background:var(--dig-color__background__base);display:flex;flex-direction:column;padding:16px;width:260px}._granular-settings-images-container_1f4jl_9{align-items:center;align-self:stretch;background:var(--dig-color__background__subtle);display:flex;gap:8px;justify-content:center;padding:8px 16px}._granular-settings-image_1f4jl_9{height:65px;width:100px}._granular-settings-caption_1f4jl_26{margin-bottom:8px;margin-top:10px}._granular-settings-selections-action-item_1f4jl_31{margin-left:-16px}._granular-settings-selections-row_1f4jl_35{align-items:center;display:flex;gap:8px;margin:8px 0}._granular-settings-selections-row-text_1f4jl_42{font-size:var(--type__body__small--fontsize)}")),function(e){e.FULL_SCREEN="full_screen",e.QUICK_VIEW="quick_view",e.QUICK_VIEW_NONE="quick_view_none",e.QUICK_VIEW_ALL="quick_view_all",e.QUICK_VIEW_FILES_ONLY="quick_view_files_only",e.QUICK_VIEW_FOLDERS_ONLY="quick_view_folders_only"}(w||(w={}));const M=()=>{if(r.isBackupBrowse()){const e=[...r.LIST_VIEW_COLUMNS].filter((e=>e.sortField!==r.SortField.SHARED_WITH)),t=e.findIndex((e=>e.sortField===r.SortField.SIZE)),i=e.splice(t,1)[0];return e.splice(2,0,i),e}return r.LIST_VIEW_COLUMNS},O={viewTypes:{[r.VIEW_TYPE_GLOBAL_SCOPE]:r.ViewType.List},scopedColumnsIndex:void 0,scopedSorts:void 0,viewTypeColumns:{[r.ViewType.List]:M(),[r.ViewType.CondensedList]:M(),[r.ViewType.Grid]:r.GRID_VIEW_COLUMNS,[r.ViewType.LargeGrid]:r.GRID_VIEW_COLUMNS},fileRename:null,instances:r.immutableExports.Map(),previewThumbnails:{},activeInstance:void 0,openMode:w.QUICK_VIEW};const V={dropTargetHighlightMode:r.DropTargetHighlightMode.NONE,enableUnity:!0,loadingState:r.LoadingState.LOADING_FIRST_PAGE,fileRename:null,renderFilenameSubtitleAsLink:!0,eligibleForFirstTaskSubtitle:!1,viewTypeScope:r.VIEW_TYPE_GLOBAL_SCOPE,hideViewFileButton:!1,openMode:w.QUICK_VIEW};function R(e=O,i){switch(i.type){case t.ActionTypes.SET_VIEW_TYPE:return((e,{viewType:t,viewScopes:r})=>{const i={...e.viewTypes};for(const e of r)i[e]=t;return{...e,viewTypes:i}})(e,i.payload);case t.ActionTypes.SET_VIEW_TYPES:return((e,{viewTypes:t})=>({...e,viewTypes:{...e.viewTypes,...t}}))(e,i.payload);case t.ActionTypes.SET_FILE_RENAME:return function(e,t){const{file:r,renameState:i,actionElement:s}=t.payload;return i?{...e,fileRename:{file:r,state:i,actionElement:s}}:{...e,fileRename:null}}(e,i);case t.ActionTypes.SET_COLUMNS_INDEX:return((e,{payload:{columnsIndex:t,viewScopes:r,numVisibleColumns:i}})=>{const s={...e.scopedColumnsIndex},n={...e.scopedNumVisibleColumns};for(const e of r)s[e]=t,void 0!==i&&(n[e]=i);return{...e,scopedColumnsIndex:s,scopedNumVisibleColumns:n}})(e,i);case t.ActionTypes.SET_GRID_VIEW_SIZE:return((e,{payload:{viewScopes:t,gridSize:r}})=>{const i={...e.scopedGridViewSize};for(const e of t)i[e]=r;return{...e,scopedGridViewSize:i}})(e,i);case t.ActionTypes.SET_SCOPED_COLUMNS_INDEX:return((e,{payload:{scopedColumnsIndex:t,scopedNumVisibleColumns:r}})=>({...e,scopedColumnsIndex:t,scopedNumVisibleColumns:r}))(e,i);case t.ActionTypes.SET_SCOPED_SORTS:return((e,{payload:{scopedSorts:t}})=>({...e,scopedSorts:t}))(e,i);case t.ActionTypes.SET_SORT:return((e,{payload:{sort:t,viewScopes:r}})=>{const i={...e.scopedSorts};for(const e of r)i[e]=t;return{...e,scopedSorts:i}})(e,i);case t.ActionTypes.SET_SCROLL:return((e,t)=>({...e,currentScroll:{scrollTop:t.scrollTop}}))(e,i.payload);case t.ActionTypes.UPSERT_INSTANCE:return((e,{payload:{instance:t,id:r}})=>{const i=e.instances.get(r);return{...e,activeInstance:r,instances:e.instances.set(r,{...i||V,...t})}})(e,i);case t.ActionTypes.DELETE_INSTANCE:return((e,{payload:{id:t}})=>({...e,instances:e.instances.delete(t)}))(e,i);case t.ActionTypes.PREVIEW_THUMBNAILS_LOADING:return((e,{payload:{files:t}})=>{const r={...e.previewThumbnails};return t.forEach((e=>{var t;e.file_id&&!(null===(t=r[e.file_id])||void 0===t?void 0:t.isLoading)&&(r[e.file_id]={isLoading:!0,file_info:e})})),{...e,previewThumbnails:r}})(e,i);case t.ActionTypes.PREVIEW_THUMBNAILS_LOADED:return((e,{payload:{preview_thumbnails:t}})=>{const r={...e.previewThumbnails};return t.forEach((e=>{e.file_id&&(r[e.file_id]={isLoading:!1,preview_url:e.preview_url})})),{...e,previewThumbnails:r}})(e,i);case t.ActionTypes.PREVIEW_THUMBNAILS_REMOVED:return((e,{payload:{files:t}})=>{const r={...e.previewThumbnails};return t.forEach((e=>{e.file_id&&delete r[e.file_id]})),{...e,previewThumbnails:r}})(e,i);case t.ActionTypes.MARK_ACTIVE_INSTANCE:return((e,{payload:{id:t}})=>e.activeInstance!==t?{...e,activeInstance:t}:e)(e,i);case t.ActionTypes.FILTER_OUT_COLUMNS:return((e,t)=>{const i=M().filter((e=>-1===t.payload.indexOf(e.sortField)));return{...e,viewTypeColumns:{...e.viewTypeColumns,[r.ViewType.List]:i,[r.ViewType.CondensedList]:i}}})(e,i);case t.ActionTypes.SET_OPEN_MODE:return((e,{payload:{openMode:t}})=>({...e,openMode:t}))(e,i)}return e}const P=e=>r.getStateAtNamespace(e,r.FILES_VIEW_NAMESPACE_KEY)||O,D=e=>P(e).previewThumbnails;let b;const W=()=>(b||(b=r.getStoreAndRegisterReducers({[r.FILES_VIEW_NAMESPACE_KEY]:R})),b),x=n.intl.formatMessage({id:"RzhnRl",defaultMessage:"Extensionless"}),U=n.intl.formatMessage({id:"DcKHEo",defaultMessage:"Missing dates"}),B=n.intl.formatMessage({id:"GYhJ5f",defaultMessage:"Deleted content isn’t sorted by last modified"}),G={sectionLabels:[],sectionStartIndices:[]};function k(e,t,i,s=!1){const o=[],l=[];let c=null;if(t===r.SortField.CATEGORY)e.forEach(((e,t)=>{if(!e)return;const i=function(e){return e instanceof a.File?a.File.getCategoryDescription(e,!0):r.ExtensionCategories.DOCUMENT}(e);i!==c&&(o.push(i),l.push(t),c=i)}));else if(t===r.SortField.EXTENSION)e.forEach(((e,t)=>{if(!e)return;const i=function(e){return e instanceof a.File?e.is_dir?r.FileTypeCapitalizedCategoryTranslations.FOLDER:a.File.getExtension(e).toUpperCase():x}(e);if(i!==c){let e=i;""===i&&(e=x),o.push(e),l.push(t),c=i}}));else if(t===r.SortField.MODIFIED)if(i===r.SortDirection.DESCENDING){const t=r.getTimeBands(Date.now());e.forEach(((e,r)=>{if(!e)return;let i;if(s&&e instanceof a.File&&e.isDeleted)i=B;else{const r=a.itemTimestampInMs(e);i=r>=t.today?n.intl.formatMessage({id:"JDRaFD",defaultMessage:"Today"}):r>=t.yesterday?n.intl.formatMessage({id:"2iSDDx",defaultMessage:"Yesterday"}):r>=t.thisWeek?n.intl.formatMessage({id:"e3KIPg",defaultMessage:"This week"}):r>=t.lastWeek?n.intl.formatMessage({id:"dsHtkw",defaultMessage:"Last week"}):r>=t.thisMonth?n.intl.formatMessage({id:"G0eFMx",defaultMessage:"This month"}):r>=t.lastMonth?n.intl.formatMessage({id:"nM5Fv4",defaultMessage:"Last month"}):r>=t.lastThreeMonths?n.intl.formatMessage({id:"U7dFRR",defaultMessage:"Three months ago"}):n.intl.formatMessage({id:"Y/NN0h",defaultMessage:"Older"})}i!==c&&(o.push(i),l.push(r),c=i)}))}else e.forEach(((e,t)=>{if(!e)return;let r;r=s&&e instanceof a.File&&e.isDeleted?B:a.itemTimestampInMs(e)?n.intl.formatDate(a.itemTimestampInMs(e),{year:"numeric",month:"long"}):U,r!==c&&(o.push(r),l.push(t),c=r)}));return{sectionLabels:o,sectionStartIndices:l}}const Y=(e,t)=>(e=>P(e).instances)(e).get(t.instanceId),q=e=>(t,r)=>e(((e,t)=>{const r=Y(e,t);return d.assert(!!r,`[FilesView] Instance '${t.instanceId}' must be defined in redux store before mounting`),r})(t,r)),H=e=>(t,r)=>e(Y(t,r)),K=q((e=>e.items)),z=q((e=>e.currentFolderInfo)),X=q((e=>e.selectedFilter)),Q=q((e=>e.currentSort)),j=q((e=>e.isSearchMode)),Z=q((e=>e.isBrowse));r.createSelector(((e,t)=>[r.ViewType.Grid,r.ViewType.LargeGrid].includes(ee(e,t))),Q,K,j,((e,t,r,i)=>e&&t?k(r,t.sortField,t.sortDirection,i):G)),r.createSelector(K,(e=>e.toArray().map((e=>e instanceof a.File?e.fq_path:e instanceof a.FileSharedWithMe?e.file_id:"")))),r.createSelector(K,z,((e,t)=>t?e.concat(t):e));const J=H((e=>(null==e?void 0:e.viewTypeScope)||r.VIEW_TYPE_GLOBAL_SCOPE)),$=H((e=>(null==e?void 0:e.viewTypes)||[])),ee=r.createSelector((e=>P(e).viewTypes),$,J,((e,t,i)=>{let s;return s=i in e?e[i]:i in r.defaultViewTypes?r.defaultViewTypes[i]:e[r.VIEW_TYPE_GLOBAL_SCOPE],t.includes(s)?s:r.ViewType.List}));r.createSelector((e=>P(e).openMode),(e=>e)),r.createSelector($,(e=>e.length>0)),r.createSelector((e=>P(e).scopedGridViewSize),J,((e,t)=>e?t in e?e[t]:e[r.VIEW_TYPE_GLOBAL_SCOPE]||null:null));const te=r.createSelector((e=>P(e).scopedColumnsIndex),J,j,Z,((e,t,i,s)=>{if(e&&!i)return!s&&t in e?e[t]:e[r.VIEW_TYPE_GLOBAL_SCOPE]||{}}));r.createSelector(te,ee,(e=>P(e).viewTypeColumns),X,((e,t,i,s)=>{if(!e)return;s===N.RECENTS?i=r.recentsViewTypeColumns:s===N.STARRED&&(i=r.starredViewTypeColumns);const[n,...o]=i[t],a=Object.keys(e).reduce(((t,r)=>{const i=parseInt(r,10);return t[e[i]]=i,t}),{}),l=[],c={};for(const e of o){const t=a[e.sortField];void 0===t||0===t?l.push(e):c[t]=e}const d=[n];for(let e=1;e<=o.length;e++){const t=c[e]||l.shift();t&&d.push(t)}return d}));const re=r.createSelector((e=>P(e).scopedSorts),J,((e,t,r=!1)=>r),((e,t,i)=>{if(e)return!i&&t in e?e[t]:e[r.VIEW_TYPE_GLOBAL_SCOPE]}));r.createSelector((e=>P(e).scopedNumVisibleColumns),J,Z,((e,t,i)=>{if(e)return!i&&t in e?e[t]:e[r.VIEW_TYPE_GLOBAL_SCOPE]})),W();const ie=e=>r.getStateAtNamespace(e,r.TAGGING_NAMESPACE_KEY),se=e=>ie(e).tagsByFile,ne=(e,t)=>{const r=e.filter((e=>((e,t)=>e.is_dir&&!a.File.isReadOnlySharedFolder(e)&&!t(e)&&!e.is_in_vault_folder&&!e.isDeleted&&!e.is_encrypted&&!e.is_locked&&!oe(e)&&!ae(e))(e,t)));return r.count()},oe=e=>/\/Capture(\/|$)/.test(e.fq_path),ae=e=>/\/Saved from Web(\/|$)/.test(e.fq_path),le=e=>r.getStateAtNamespace(e,r.BROWSE_NAMESPACE_KEY)||i.defaultBrowseState,ce=e=>le(e).context,de=e=>le(e).experiments,_e=e=>{var t;return null===(t=e[r.BROWSE_NAMESPACE_KEY])||void 0===t?void 0:t.experiments},ue=e=>le(e).browsePostTTIExperiments,Ee=e=>{var t;return null===(t=e[r.BROWSE_NAMESPACE_KEY])||void 0===t?void 0:t.browsePostTTIExperiments},Se=e=>le(e).folderSizes,pe=e=>le(e).loadingState;r.createSelector(pe,(e=>e===r.LoadingState.LOADING_FIRST_PAGE));const fe=e=>le(e).path,Te=e=>le(e).selection,Ie=e=>le(e).browsePostTTIData,me=e=>{const t=le(e).user;return d.assert(null!=t,"Browse store `user` accessed before APP_INIT action"),t},Fe=r.createSelector((e=>le(e).filterTypes||r.immutableExports.Set([])),(e=>e.isEmpty()?N.NONE:e.first())),ge=e=>le(e).browsePostTTIExperiments||{};r.createSelector(Ie,(e=>({...e.uploaderPostTTIExperiments})));const ye=e=>le(e).unsortedFiles;r.createSelector(ye,(e=>e.keySeq().toArray().map((e=>({filename:r.filename(e).toLowerCase(),fqPath:e}))).sort(((e,t)=>e.filename<t.filename?-1:e.filename>t.filename?1:0))));const Ne=r.createSelector(ye,(e=>{const t=re(e,{instanceId:r.BROWSE_FILES_VIEW_ID},!0);return t||r.BROWSE_DEFAULT_SORT_ORDER}),Se,ce,de,((e,t,r,i,s)=>h(e.toList(),t,r))),he=r.createSelector(ye,Te,((e,t)=>ve(e,t))),Ae=r.createSelector(he,D,((e,t)=>e.count()>0?e.withMutations((e=>{e.forEach(((r,i)=>{var s;if(!r.thumbnail_url_tmpl&&(null===(s=t[r.file_id])||void 0===s?void 0:s.preview_url)){const s=t[r.file_id].preview_url;e.set(i,new a.File({...r,thumbnail_url_tmpl:s}))}}))})):e));r.createSelector(he,ye,((e,t)=>e.size===t.size));const ve=(e,t)=>t.selected.isEmpty()||e.isEmpty()?r.immutableExports.OrderedMap():r.immutableExports.OrderedMap(t.selected.map((t=>{const r=e.find((e=>e.fq_path===t));return r?[r.fq_path,r]:void 0}))),Le=r.createSelector(me,(e=>{const t=le(e).viewer;return d.assert(null!=t,"Browse store `viewer` accessed before APP_INIT action"),t}),fe,((e,t,i)=>r.browse_root(t,e))),Ce=r.createSelector(Ne,Se,((e,t)=>e.map((e=>{const r=t.get(e.fq_path);return r?e.updateSize(r.size,r.state):e}))));r.createSelector(ye,Se,((e,t)=>e.withMutations((r=>{t.forEach(((t,i)=>{const s=e.get(i);if(s&&t){const e=s.updateSize(t.size,t.state);r.set(i,e)}}))})))),r.createSelector(he,(e=>e&&1===e.size&&e.first().is_dir&&!a.File.isNoAccessSharedFolder(e.first()))),r.createSelector(me,ce,((e,t)=>e.is_cdm_member&&e.is_team_admin&&t.isCurrentlyInRoot||!!t.isCurrentPathWriteable()));r.createSelector(ce,de,Ie,pe,((e,t,i,s)=>Boolean(!i.mobileWebInvites&&e.isCurrentlyInRoot&&e.isInsideMyTeamFolderTree&&s===r.LoadingState.LOADED))),r.createSelector(ce,(e=>e.isInsideMyTeamFolderTree&&e.isCurrentlyInRoot)),r.createSelector(Ie,(e=>e.teamTopLevelContentPolicy));const we=r.createSelector(Ie,(e=>e.autoTeamGroupName));r.createSelector(he,(e=>e.count()>0?"selected":"unselected")),r.createSelector(he,(e=>0===e.count()));const Me=e=>le(e).currentFolderInfo,Oe=r.createSelector(ce,Me,((e,t)=>null!=t&&t.type!==r.FileTypes.TEAM_MEMBER_FOLDER&&e.isInFolderMode&&!e.isCurrentlyInRoot)),Ve=r.createSelector(Oe,ce,Me,((e,t,r)=>r&&e&&!t.isInsideVaultFolder&&!t.isInsideTeamFolderRoot&&!t.isEncrypted&&!a.File.isReadOnlySharedFolder(r)));r.createSelector(he,ge,((e,t)=>!!t.expEnableBackupWeb&&u.isBackupFolderIcon(e.first()))),r.createSelector(u.backupFolderPathByFile,fe,((e,t)=>e({fq_path:t})));const Re=r.createSelector(Me,u.isInsideBackupFolderByFile,((e,t)=>!!r.isBackupBrowse()||!!e&&t(e)));r.createSelector(fe,u.folderBackupInfoByPath,((e,t)=>t(e))),r.createSelector(_e,(e=>{var t;return null!==(t=null==e?void 0:e.manualClassification)&&void 0!==t?t:"OFF"}));const Pe=(e,t)=>{const r=t[i.getFileMapKey(e)];let s=e;return void 0!==r&&(s=new a.File({...e,tags:r.map((e=>({value:e,highlighted:!1})))})),s},De=r.createSelector(ye,se,((e,t)=>e.withMutations((e=>{e.forEach(((r,i)=>{e.set(i,Pe(r,t))}))}))));r.createSelector(De,Te,((e,t)=>ve(e,t))),r.createSelector(Me,se,((e,t)=>{if(void 0!==e)return Pe(e,t)})),r.createSelector(Ee,(e=>"ON"===(null==e?void 0:e.expBackupNewLocationHint)));const be=r.createSelector(Ee,(e=>{var t;return null!==(t=null==e?void 0:e.expGgToCdmMigrationVariant)&&void 0!==t?t:"OFF"}));r.createSelector(be,(e=>["CONTROL","V1"].includes(e))),r.createSelector(Ee,(e=>{var t;return null!==(t=null==e?void 0:e.expGgToTmrMigrationVariant)&&void 0!==t?t:"OFF"}));const We=r.createSelector(Ee,(e=>{var t;return null!==(t=null==e?void 0:e.expStreamlineFolder)&&void 0!==t?t:"OFF"}));r.createSelector(We,(e=>["ON","V1"].includes(e)));const xe=r.createSelector(Ae,(e=>!0==!!(null==e?void 0:e.size))),Ue=r.createSelector(Ae,xe,((e,t)=>t?e.first():void 0)),Be=r.createSelector(ce,Ue,((e,t)=>((e,t)=>t?a.File.canViewFileMembers(t,e):e.canViewContainingNSMembers)(e,t)));r.createSelector(Be,Ue,((e,t)=>((e,t)=>{var r;return!e&&t?null===(r=t._mount_access_perms)||void 0===r?void 0:r.includes("can_view"):e})(e,t))),r.createSelector(_e,(e=>{var t;return null!==(t=null==e?void 0:e.folderHistoryRollbacks)&&void 0!==t&&t})),r.createSelector(ce,me,((e,t)=>t),((e,t,r)=>{const i=!!(null==r?void 0:r.hasContentManagerAndSuperAdmin[t.id]);return e.isCurrentlyInRoot&&!t.is_cdm_member&&i&&!e.isInsideVaultFolder&&!e.isEncrypted&&!(t.is_tmr_member&&e.currentFQPath===t.cdm_tmf_path)}));const Ge=r.createSelector(De,(e=>le(e).quickViewFileId),((e,t)=>e.find((e=>e.file_id===t))));r.createSelector(De,(e=>le(e).uploadQuickViewFilePath),((e,t)=>e.find((e=>e.fq_path===t)))),r.createSelector(ue,(e=>{var t;return null!==(t=e.flexibleSharingEntrypointM2)&&void 0!==t?t:"OFF"})),r.createSelector(ue,(e=>{var t;return null!==(t=e.sm24ProgressiveInband)&&void 0!==t?t:"OFF"})),r.createSelector(ue,(e=>{var t;return null!==(t=e.expNotifyOnFolderCreationIndividualsExperiment)&&void 0!==t?t:"OFF"}));const ke=e=>pe(e)===r.LoadingState.LOADED?Ne(e).count():le(e).paginatedTotalNumFiles;r.createSelector(ce,ke,((e,t)=>e.isInsideVaultFolder&&null!=e.currentNSPath&&r.paths_are_equal(e.currentNSPath,"")&&0===(null!=t?t:0))),r.createSelector(ce,ke,Fe,((e,t,i)=>e.isInFamilySharedFolder&&null!=e.currentNSPath&&r.paths_are_equal(e.currentNSPath,"")&&0===t&&i===N.NONE)),r.createSelector(ce,ye,Me,u.isInsideBackupFolderByFile,((e,t,r,i)=>r&&e.isCurrentPathWriteable()?ne(t,i):0)),r.createSelector(ye,Me,((e,t)=>t?e.filter((e=>e.is_dir)).count():0)),t.autoTeamGroupName=we,t.browsePostTTIExperiments=ge,t.context=ce,t.getBrowseState=le,t.getCurrentFolderInfo=Me,t.getFileForQuickView=Ge,t.getFolderType=(e,t)=>{if(e.isInsideVaultFolder)return"vault";if(t.is_cdm_member||t.is_tmr_member){if(("/"===e.currentFQPath||""===e.currentFQPath)&&e.currentNSID===e.rootNSID)return"root";if(e.isCurrentlyInRoot)return"team_member_folder"}else if(e.isCurrentlyInRoot)return"root";return e.isInsideTeamFolderTree?"team_shared_folder":e.isInsideSharedFolder&&""===e.currentNSPath?"shared_folder":"folder"},t.getRightSidebar=e=>le(e).rightSidebar,t.getStoreForFilesView=W,t.isInsideBackupFolder=Re,t.isInsideFlowsEligibleFolder=Ve,t.mountPoints=e=>le(e).mountPoints,t.path=fe,t.previewThumbnails=D,t.previewThumbnailsToLoad=e=>{const t=[],r=D(e);for(const e in r)!0===r[e].isLoading&&r[e].file_info&&t.push(r[e].file_info);return t},t.rawUser=e=>le(e).user,t.selectAllTagsSuggestions=e=>ie(e).tags,t.selectFileByFullPath=(e,t)=>Ce(e).find((e=>e.fq_path===t.path)),t.selectFilesByFullPaths=(e,t)=>Ce(e).filter((e=>t.paths.has(e.fq_path)&&(!t.excludeNoAccessSharedFolders||!a.File.isNoAccessSharedFolder(e)))).toArray(),t.selectFilesForSelection=(e,t)=>ve(ye(e),t.selection),t.selectViewType=ee,t.selectedFiles=he,t.selection=Te,t.shouldShowDeletedFiles=e=>le(e).shouldShowDeletedFiles,t.unsortedFiles=ye,t.urlPrefix=Le,t.user=me}));
//# sourceMappingURL=c_browse_data_selectors.js-vfl1z0A8j.map

//# debugId=1f05cc86-7102-382e-8df3-797bf23b183b