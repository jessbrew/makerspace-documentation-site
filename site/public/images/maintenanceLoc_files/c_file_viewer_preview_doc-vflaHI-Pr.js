!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="9bbb9cbe-4f4e-38ae-b7de-0874cef34d3b")}catch(e){}}();
define(["exports","react","./c_core_i18n","./e_file_viewer_static_scl_page_folder","./c_file_viewer_hooks_usePrevious","./c_core_data_actions","./c_core_logging_actions","./c_file_viewer_hooks_lifecycle_logging","./c_file_viewer_keyboard_bindings","./c_file_viewer_loading_indicator","./c_core_data_ui","./c_core_utils_kmp_search","./c_lodash","./c_dig-icons_assets_ui-icon_line_upload","./c_file_viewer_comments2_utils","./c_queries_utils_preview_metadata","./c_core_utils_browser_detection","./e_core_exception","./c_react-redux_hooks_useDispatch","./c_branding_shared_previews_file_viewer_preview","./c_file_viewer_ui_header","./e_data_modules_stormcrow","./c_file_viewer_preview_error_open_in_dropdown","./c_src_sink_index","./c_pap-events_docsend_view_docsend_hub_entry_button","./c_api_v2_routes_password_confirmation_provider","metaserver/static/js/langpack","./e_edison","./c_api_v2_routes_folders_info_provider","./c_core_notify","react-dom","metaserver/static/js/modules/constants/viewer","./c_api_v2_routes_team_provider","./c_core_utils_uuid","./c_file_viewer_api_navigation","./c_react_query_helpers_queries_file_content_metadata"],(function(e,t,n,i,a,r,o,s,l,d,c,u,g,h,p,f,m,_,b,v,w,x,L,y,N,I,E,A,S,C,M,D,P,k,F,R){"use strict";function T(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(n){if("default"!==n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}})),t.default=e,Object.freeze(t)}var B=T(t);const O=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","ON","ON","ET","ET","ET","ON","ON","ON","ON","ON","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","ON","ON","ON","ON","ON","ON","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","ON","ON","ON","ON","ON","ON","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","ON","ON","ON","ON","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","ON","ET","ET","ET","ET","ON","ON","ON","ON","L","ON","ON","BN","ON","ON","ET","ET","EN","EN","ON","L","ON","ON","ON","EN","L","ON","ON","ON","ON","ON","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","ON","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","ON","L","L","L","L","L","L","L","L"],U=["AN","AN","AN","AN","AN","AN","ON","ON","AL","ET","ET","AL","CS","AL","ON","ON","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","ON","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","ON","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL"];function V(e){return!!(1&e)}function H(e){return!(1&e)}function K(e,t,n){for(var i=t,a=e.length;i<a;++i)if(e[i]!==n)return i;return i}function z(e,t,n,i){for(var a=t;a<n;++a)e[a]=i}function q(e,t,n){for(var i=t,a=n-1;i<a;++i,--a){var r=e[i];e[i]=e[a],e[a]=r}}function W(e,t,n){return{str:e,dir:n?"ttb":t?"ltr":"rtl"}}let j=[],$=[];var X=[{begin:0,end:127},{begin:128,end:255},{begin:256,end:383},{begin:384,end:591},{begin:592,end:687},{begin:688,end:767},{begin:768,end:879},{begin:880,end:1023},{begin:11392,end:11519},{begin:1024,end:1279},{begin:1328,end:1423},{begin:1424,end:1535},{begin:42240,end:42559},{begin:1536,end:1791},{begin:1984,end:2047},{begin:2304,end:2431},{begin:2432,end:2559},{begin:2560,end:2687},{begin:2688,end:2815},{begin:2816,end:2943},{begin:2944,end:3071},{begin:3072,end:3199},{begin:3200,end:3327},{begin:3328,end:3455},{begin:3584,end:3711},{begin:3712,end:3839},{begin:4256,end:4351},{begin:6912,end:7039},{begin:4352,end:4607},{begin:7680,end:7935},{begin:7936,end:8191},{begin:8192,end:8303},{begin:8304,end:8351},{begin:8352,end:8399},{begin:8400,end:8447},{begin:8448,end:8527},{begin:8528,end:8591},{begin:8592,end:8703},{begin:8704,end:8959},{begin:8960,end:9215},{begin:9216,end:9279},{begin:9280,end:9311},{begin:9312,end:9471},{begin:9472,end:9599},{begin:9600,end:9631},{begin:9632,end:9727},{begin:9728,end:9983},{begin:9984,end:10175},{begin:12288,end:12351},{begin:12352,end:12447},{begin:12448,end:12543},{begin:12544,end:12591},{begin:12592,end:12687},{begin:43072,end:43135},{begin:12800,end:13055},{begin:13056,end:13311},{begin:44032,end:55215},{begin:55296,end:57343},{begin:67840,end:67871},{begin:19968,end:40959},{begin:57344,end:63743},{begin:12736,end:12783},{begin:64256,end:64335},{begin:64336,end:65023},{begin:65056,end:65071},{begin:65040,end:65055},{begin:65104,end:65135},{begin:65136,end:65279},{begin:65280,end:65519},{begin:65520,end:65535},{begin:3840,end:4095},{begin:1792,end:1871},{begin:1920,end:1983},{begin:3456,end:3583},{begin:4096,end:4255},{begin:4608,end:4991},{begin:5024,end:5119},{begin:5120,end:5759},{begin:5760,end:5791},{begin:5792,end:5887},{begin:6016,end:6143},{begin:6144,end:6319},{begin:10240,end:10495},{begin:40960,end:42127},{begin:5888,end:5919},{begin:66304,end:66351},{begin:66352,end:66383},{begin:66560,end:66639},{begin:118784,end:119039},{begin:119808,end:120831},{begin:1044480,end:1048573},{begin:65024,end:65039},{begin:917504,end:917631},{begin:6400,end:6479},{begin:6480,end:6527},{begin:6528,end:6623},{begin:6656,end:6687},{begin:11264,end:11359},{begin:11568,end:11647},{begin:19904,end:19967},{begin:43008,end:43055},{begin:65536,end:65663},{begin:65856,end:65935},{begin:66432,end:66463},{begin:66464,end:66527},{begin:66640,end:66687},{begin:66688,end:66735},{begin:67584,end:67647},{begin:68096,end:68191},{begin:119552,end:119647},{begin:73728,end:74751},{begin:119648,end:119679},{begin:7040,end:7103},{begin:7168,end:7247},{begin:7248,end:7295},{begin:43136,end:43231},{begin:43264,end:43311},{begin:43312,end:43359},{begin:43520,end:43615},{begin:65936,end:65999},{begin:66e3,end:66047},{begin:66208,end:66271},{begin:127024,end:127135}];var G,J,Y,Z,Q=(G=function(e){e["¨"]=" ̈",e["¯"]=" ̄",e["´"]=" ́",e["µ"]="μ",e["¸"]=" ̧",e["Ĳ"]="IJ",e["ĳ"]="ij",e["Ŀ"]="L·",e["ŀ"]="l·",e["ŉ"]="ʼn",e["ſ"]="s",e["Ǆ"]="DŽ",e["ǅ"]="Dž",e["ǆ"]="dž",e["Ǉ"]="LJ",e["ǈ"]="Lj",e["ǉ"]="lj",e["Ǌ"]="NJ",e["ǋ"]="Nj",e["ǌ"]="nj",e["Ǳ"]="DZ",e["ǲ"]="Dz",e["ǳ"]="dz",e["˘"]=" ̆",e["˙"]=" ̇",e["˚"]=" ̊",e["˛"]=" ̨",e["˜"]=" ̃",e["˝"]=" ̋",e["ͺ"]=" ͅ",e["΄"]=" ́",e["ϐ"]="β",e["ϑ"]="θ",e["ϒ"]="Υ",e["ϕ"]="φ",e["ϖ"]="π",e["ϰ"]="κ",e["ϱ"]="ρ",e["ϲ"]="ς",e["ϴ"]="Θ",e["ϵ"]="ε",e["Ϲ"]="Σ",e["և"]="եւ",e["ٵ"]="اٴ",e["ٶ"]="وٴ",e["ٷ"]="ۇٴ",e["ٸ"]="يٴ",e["ำ"]="ํา",e["ຳ"]="ໍາ",e["ໜ"]="ຫນ",e["ໝ"]="ຫມ",e["ཷ"]="ྲཱྀ",e["ཹ"]="ླཱྀ",e["ẚ"]="aʾ",e["᾽"]=" ̓",e["᾿"]=" ̓",e["῀"]=" ͂",e["῾"]=" ̔",e[" "]=" ",e[" "]=" ",e[" "]=" ",e[" "]=" ",e[" "]=" ",e[" "]=" ",e[" "]=" ",e[" "]=" ",e["‗"]=" ̳",e["․"]=".",e["‥"]="..",e["…"]="...",e["″"]="′′",e["‴"]="′′′",e["‶"]="‵‵",e["‷"]="‵‵‵",e["‼"]="!!",e["‾"]=" ̅",e["⁇"]="??",e["⁈"]="?!",e["⁉"]="!?",e["⁗"]="′′′′",e[" "]=" ",e["₨"]="Rs",e["℀"]="a/c",e["℁"]="a/s",e["℃"]="°C",e["℅"]="c/o",e["℆"]="c/u",e["ℇ"]="Ɛ",e["℉"]="°F",e["№"]="No",e["℡"]="TEL",e["ℵ"]="א",e["ℶ"]="ב",e["ℷ"]="ג",e["ℸ"]="ד",e["℻"]="FAX",e["Ⅰ"]="I",e["Ⅱ"]="II",e["Ⅲ"]="III",e["Ⅳ"]="IV",e["Ⅴ"]="V",e["Ⅵ"]="VI",e["Ⅶ"]="VII",e["Ⅷ"]="VIII",e["Ⅸ"]="IX",e["Ⅹ"]="X",e["Ⅺ"]="XI",e["Ⅻ"]="XII",e["Ⅼ"]="L",e["Ⅽ"]="C",e["Ⅾ"]="D",e["Ⅿ"]="M",e["ⅰ"]="i",e["ⅱ"]="ii",e["ⅲ"]="iii",e["ⅳ"]="iv",e["ⅴ"]="v",e["ⅵ"]="vi",e["ⅶ"]="vii",e["ⅷ"]="viii",e["ⅸ"]="ix",e["ⅹ"]="x",e["ⅺ"]="xi",e["ⅻ"]="xii",e["ⅼ"]="l",e["ⅽ"]="c",e["ⅾ"]="d",e["ⅿ"]="m",e["∬"]="∫∫",e["∭"]="∫∫∫",e["∯"]="∮∮",e["∰"]="∮∮∮",e["⑴"]="(1)",e["⑵"]="(2)",e["⑶"]="(3)",e["⑷"]="(4)",e["⑸"]="(5)",e["⑹"]="(6)",e["⑺"]="(7)",e["⑻"]="(8)",e["⑼"]="(9)",e["⑽"]="(10)",e["⑾"]="(11)",e["⑿"]="(12)",e["⒀"]="(13)",e["⒁"]="(14)",e["⒂"]="(15)",e["⒃"]="(16)",e["⒄"]="(17)",e["⒅"]="(18)",e["⒆"]="(19)",e["⒇"]="(20)",e["⒈"]="1.",e["⒉"]="2.",e["⒊"]="3.",e["⒋"]="4.",e["⒌"]="5.",e["⒍"]="6.",e["⒎"]="7.",e["⒏"]="8.",e["⒐"]="9.",e["⒑"]="10.",e["⒒"]="11.",e["⒓"]="12.",e["⒔"]="13.",e["⒕"]="14.",e["⒖"]="15.",e["⒗"]="16.",e["⒘"]="17.",e["⒙"]="18.",e["⒚"]="19.",e["⒛"]="20.",e["⒜"]="(a)",e["⒝"]="(b)",e["⒞"]="(c)",e["⒟"]="(d)",e["⒠"]="(e)",e["⒡"]="(f)",e["⒢"]="(g)",e["⒣"]="(h)",e["⒤"]="(i)",e["⒥"]="(j)",e["⒦"]="(k)",e["⒧"]="(l)",e["⒨"]="(m)",e["⒩"]="(n)",e["⒪"]="(o)",e["⒫"]="(p)",e["⒬"]="(q)",e["⒭"]="(r)",e["⒮"]="(s)",e["⒯"]="(t)",e["⒰"]="(u)",e["⒱"]="(v)",e["⒲"]="(w)",e["⒳"]="(x)",e["⒴"]="(y)",e["⒵"]="(z)",e["⨌"]="∫∫∫∫",e["⩴"]="::=",e["⩵"]="==",e["⩶"]="===",e["⺟"]="母",e["⻳"]="龟",e["⼀"]="一",e["⼁"]="丨",e["⼂"]="丶",e["⼃"]="丿",e["⼄"]="乙",e["⼅"]="亅",e["⼆"]="二",e["⼇"]="亠",e["⼈"]="人",e["⼉"]="儿",e["⼊"]="入",e["⼋"]="八",e["⼌"]="冂",e["⼍"]="冖",e["⼎"]="冫",e["⼏"]="几",e["⼐"]="凵",e["⼑"]="刀",e["⼒"]="力",e["⼓"]="勹",e["⼔"]="匕",e["⼕"]="匚",e["⼖"]="匸",e["⼗"]="十",e["⼘"]="卜",e["⼙"]="卩",e["⼚"]="厂",e["⼛"]="厶",e["⼜"]="又",e["⼝"]="口",e["⼞"]="囗",e["⼟"]="土",e["⼠"]="士",e["⼡"]="夂",e["⼢"]="夊",e["⼣"]="夕",e["⼤"]="大",e["⼥"]="女",e["⼦"]="子",e["⼧"]="宀",e["⼨"]="寸",e["⼩"]="小",e["⼪"]="尢",e["⼫"]="尸",e["⼬"]="屮",e["⼭"]="山",e["⼮"]="巛",e["⼯"]="工",e["⼰"]="己",e["⼱"]="巾",e["⼲"]="干",e["⼳"]="幺",e["⼴"]="广",e["⼵"]="廴",e["⼶"]="廾",e["⼷"]="弋",e["⼸"]="弓",e["⼹"]="彐",e["⼺"]="彡",e["⼻"]="彳",e["⼼"]="心",e["⼽"]="戈",e["⼾"]="戶",e["⼿"]="手",e["⽀"]="支",e["⽁"]="攴",e["⽂"]="文",e["⽃"]="斗",e["⽄"]="斤",e["⽅"]="方",e["⽆"]="无",e["⽇"]="日",e["⽈"]="曰",e["⽉"]="月",e["⽊"]="木",e["⽋"]="欠",e["⽌"]="止",e["⽍"]="歹",e["⽎"]="殳",e["⽏"]="毋",e["⽐"]="比",e["⽑"]="毛",e["⽒"]="氏",e["⽓"]="气",e["⽔"]="水",e["⽕"]="火",e["⽖"]="爪",e["⽗"]="父",e["⽘"]="爻",e["⽙"]="爿",e["⽚"]="片",e["⽛"]="牙",e["⽜"]="牛",e["⽝"]="犬",e["⽞"]="玄",e["⽟"]="玉",e["⽠"]="瓜",e["⽡"]="瓦",e["⽢"]="甘",e["⽣"]="生",e["⽤"]="用",e["⽥"]="田",e["⽦"]="疋",e["⽧"]="疒",e["⽨"]="癶",e["⽩"]="白",e["⽪"]="皮",e["⽫"]="皿",e["⽬"]="目",e["⽭"]="矛",e["⽮"]="矢",e["⽯"]="石",e["⽰"]="示",e["⽱"]="禸",e["⽲"]="禾",e["⽳"]="穴",e["⽴"]="立",e["⽵"]="竹",e["⽶"]="米",e["⽷"]="糸",e["⽸"]="缶",e["⽹"]="网",e["⽺"]="羊",e["⽻"]="羽",e["⽼"]="老",e["⽽"]="而",e["⽾"]="耒",e["⽿"]="耳",e["⾀"]="聿",e["⾁"]="肉",e["⾂"]="臣",e["⾃"]="自",e["⾄"]="至",e["⾅"]="臼",e["⾆"]="舌",e["⾇"]="舛",e["⾈"]="舟",e["⾉"]="艮",e["⾊"]="色",e["⾋"]="艸",e["⾌"]="虍",e["⾍"]="虫",e["⾎"]="血",e["⾏"]="行",e["⾐"]="衣",e["⾑"]="襾",e["⾒"]="見",e["⾓"]="角",e["⾔"]="言",e["⾕"]="谷",e["⾖"]="豆",e["⾗"]="豕",e["⾘"]="豸",e["⾙"]="貝",e["⾚"]="赤",e["⾛"]="走",e["⾜"]="足",e["⾝"]="身",e["⾞"]="車",e["⾟"]="辛",e["⾠"]="辰",e["⾡"]="辵",e["⾢"]="邑",e["⾣"]="酉",e["⾤"]="釆",e["⾥"]="里",e["⾦"]="金",e["⾧"]="長",e["⾨"]="門",e["⾩"]="阜",e["⾪"]="隶",e["⾫"]="隹",e["⾬"]="雨",e["⾭"]="靑",e["⾮"]="非",e["⾯"]="面",e["⾰"]="革",e["⾱"]="韋",e["⾲"]="韭",e["⾳"]="音",e["⾴"]="頁",e["⾵"]="風",e["⾶"]="飛",e["⾷"]="食",e["⾸"]="首",e["⾹"]="香",e["⾺"]="馬",e["⾻"]="骨",e["⾼"]="高",e["⾽"]="髟",e["⾾"]="鬥",e["⾿"]="鬯",e["⿀"]="鬲",e["⿁"]="鬼",e["⿂"]="魚",e["⿃"]="鳥",e["⿄"]="鹵",e["⿅"]="鹿",e["⿆"]="麥",e["⿇"]="麻",e["⿈"]="黃",e["⿉"]="黍",e["⿊"]="黑",e["⿋"]="黹",e["⿌"]="黽",e["⿍"]="鼎",e["⿎"]="鼓",e["⿏"]="鼠",e["⿐"]="鼻",e["⿑"]="齊",e["⿒"]="齒",e["⿓"]="龍",e["⿔"]="龜",e["⿕"]="龠",e["〶"]="〒",e["〸"]="十",e["〹"]="卄",e["〺"]="卅",e["゛"]=" ゙",e["゜"]=" ゚",e["ㄱ"]="ᄀ",e["ㄲ"]="ᄁ",e["ㄳ"]="ᆪ",e["ㄴ"]="ᄂ",e["ㄵ"]="ᆬ",e["ㄶ"]="ᆭ",e["ㄷ"]="ᄃ",e["ㄸ"]="ᄄ",e["ㄹ"]="ᄅ",e["ㄺ"]="ᆰ",e["ㄻ"]="ᆱ",e["ㄼ"]="ᆲ",e["ㄽ"]="ᆳ",e["ㄾ"]="ᆴ",e["ㄿ"]="ᆵ",e["ㅀ"]="ᄚ",e["ㅁ"]="ᄆ",e["ㅂ"]="ᄇ",e["ㅃ"]="ᄈ",e["ㅄ"]="ᄡ",e["ㅅ"]="ᄉ",e["ㅆ"]="ᄊ",e["ㅇ"]="ᄋ",e["ㅈ"]="ᄌ",e["ㅉ"]="ᄍ",e["ㅊ"]="ᄎ",e["ㅋ"]="ᄏ",e["ㅌ"]="ᄐ",e["ㅍ"]="ᄑ",e["ㅎ"]="ᄒ",e["ㅏ"]="ᅡ",e["ㅐ"]="ᅢ",e["ㅑ"]="ᅣ",e["ㅒ"]="ᅤ",e["ㅓ"]="ᅥ",e["ㅔ"]="ᅦ",e["ㅕ"]="ᅧ",e["ㅖ"]="ᅨ",e["ㅗ"]="ᅩ",e["ㅘ"]="ᅪ",e["ㅙ"]="ᅫ",e["ㅚ"]="ᅬ",e["ㅛ"]="ᅭ",e["ㅜ"]="ᅮ",e["ㅝ"]="ᅯ",e["ㅞ"]="ᅰ",e["ㅟ"]="ᅱ",e["ㅠ"]="ᅲ",e["ㅡ"]="ᅳ",e["ㅢ"]="ᅴ",e["ㅣ"]="ᅵ",e["ㅤ"]="ᅠ",e["ㅥ"]="ᄔ",e["ㅦ"]="ᄕ",e["ㅧ"]="ᇇ",e["ㅨ"]="ᇈ",e["ㅩ"]="ᇌ",e["ㅪ"]="ᇎ",e["ㅫ"]="ᇓ",e["ㅬ"]="ᇗ",e["ㅭ"]="ᇙ",e["ㅮ"]="ᄜ",e["ㅯ"]="ᇝ",e["ㅰ"]="ᇟ",e["ㅱ"]="ᄝ",e["ㅲ"]="ᄞ",e["ㅳ"]="ᄠ",e["ㅴ"]="ᄢ",e["ㅵ"]="ᄣ",e["ㅶ"]="ᄧ",e["ㅷ"]="ᄩ",e["ㅸ"]="ᄫ",e["ㅹ"]="ᄬ",e["ㅺ"]="ᄭ",e["ㅻ"]="ᄮ",e["ㅼ"]="ᄯ",e["ㅽ"]="ᄲ",e["ㅾ"]="ᄶ",e["ㅿ"]="ᅀ",e["ㆀ"]="ᅇ",e["ㆁ"]="ᅌ",e["ㆂ"]="ᇱ",e["ㆃ"]="ᇲ",e["ㆄ"]="ᅗ",e["ㆅ"]="ᅘ",e["ㆆ"]="ᅙ",e["ㆇ"]="ᆄ",e["ㆈ"]="ᆅ",e["ㆉ"]="ᆈ",e["ㆊ"]="ᆑ",e["ㆋ"]="ᆒ",e["ㆌ"]="ᆔ",e["ㆍ"]="ᆞ",e["ㆎ"]="ᆡ",e["㈀"]="(ᄀ)",e["㈁"]="(ᄂ)",e["㈂"]="(ᄃ)",e["㈃"]="(ᄅ)",e["㈄"]="(ᄆ)",e["㈅"]="(ᄇ)",e["㈆"]="(ᄉ)",e["㈇"]="(ᄋ)",e["㈈"]="(ᄌ)",e["㈉"]="(ᄎ)",e["㈊"]="(ᄏ)",e["㈋"]="(ᄐ)",e["㈌"]="(ᄑ)",e["㈍"]="(ᄒ)",e["㈎"]="(가)",e["㈏"]="(나)",e["㈐"]="(다)",e["㈑"]="(라)",e["㈒"]="(마)",e["㈓"]="(바)",e["㈔"]="(사)",e["㈕"]="(아)",e["㈖"]="(자)",e["㈗"]="(차)",e["㈘"]="(카)",e["㈙"]="(타)",e["㈚"]="(파)",e["㈛"]="(하)",e["㈜"]="(주)",e["㈝"]="(오전)",e["㈞"]="(오후)",e["㈠"]="(一)",e["㈡"]="(二)",e["㈢"]="(三)",e["㈣"]="(四)",e["㈤"]="(五)",e["㈥"]="(六)",e["㈦"]="(七)",e["㈧"]="(八)",e["㈨"]="(九)",e["㈩"]="(十)",e["㈪"]="(月)",e["㈫"]="(火)",e["㈬"]="(水)",e["㈭"]="(木)",e["㈮"]="(金)",e["㈯"]="(土)",e["㈰"]="(日)",e["㈱"]="(株)",e["㈲"]="(有)",e["㈳"]="(社)",e["㈴"]="(名)",e["㈵"]="(特)",e["㈶"]="(財)",e["㈷"]="(祝)",e["㈸"]="(労)",e["㈹"]="(代)",e["㈺"]="(呼)",e["㈻"]="(学)",e["㈼"]="(監)",e["㈽"]="(企)",e["㈾"]="(資)",e["㈿"]="(協)",e["㉀"]="(祭)",e["㉁"]="(休)",e["㉂"]="(自)",e["㉃"]="(至)",e["㋀"]="1月",e["㋁"]="2月",e["㋂"]="3月",e["㋃"]="4月",e["㋄"]="5月",e["㋅"]="6月",e["㋆"]="7月",e["㋇"]="8月",e["㋈"]="9月",e["㋉"]="10月",e["㋊"]="11月",e["㋋"]="12月",e["㍘"]="0点",e["㍙"]="1点",e["㍚"]="2点",e["㍛"]="3点",e["㍜"]="4点",e["㍝"]="5点",e["㍞"]="6点",e["㍟"]="7点",e["㍠"]="8点",e["㍡"]="9点",e["㍢"]="10点",e["㍣"]="11点",e["㍤"]="12点",e["㍥"]="13点",e["㍦"]="14点",e["㍧"]="15点",e["㍨"]="16点",e["㍩"]="17点",e["㍪"]="18点",e["㍫"]="19点",e["㍬"]="20点",e["㍭"]="21点",e["㍮"]="22点",e["㍯"]="23点",e["㍰"]="24点",e["㏠"]="1日",e["㏡"]="2日",e["㏢"]="3日",e["㏣"]="4日",e["㏤"]="5日",e["㏥"]="6日",e["㏦"]="7日",e["㏧"]="8日",e["㏨"]="9日",e["㏩"]="10日",e["㏪"]="11日",e["㏫"]="12日",e["㏬"]="13日",e["㏭"]="14日",e["㏮"]="15日",e["㏯"]="16日",e["㏰"]="17日",e["㏱"]="18日",e["㏲"]="19日",e["㏳"]="20日",e["㏴"]="21日",e["㏵"]="22日",e["㏶"]="23日",e["㏷"]="24日",e["㏸"]="25日",e["㏹"]="26日",e["㏺"]="27日",e["㏻"]="28日",e["㏼"]="29日",e["㏽"]="30日",e["㏾"]="31日",e["ﬀ"]="ff",e["ﬁ"]="fi",e["ﬂ"]="fl",e["ﬃ"]="ffi",e["ﬄ"]="ffl",e["ﬅ"]="ſt",e["ﬆ"]="st",e["ﬓ"]="մն",e["ﬔ"]="մե",e["ﬕ"]="մի",e["ﬖ"]="վն",e["ﬗ"]="մխ",e["ﭏ"]="אל",e["ﭐ"]="ٱ",e["ﭑ"]="ٱ",e["ﭒ"]="ٻ",e["ﭓ"]="ٻ",e["ﭔ"]="ٻ",e["ﭕ"]="ٻ",e["ﭖ"]="پ",e["ﭗ"]="پ",e["ﭘ"]="پ",e["ﭙ"]="پ",e["ﭚ"]="ڀ",e["ﭛ"]="ڀ",e["ﭜ"]="ڀ",e["ﭝ"]="ڀ",e["ﭞ"]="ٺ",e["ﭟ"]="ٺ",e["ﭠ"]="ٺ",e["ﭡ"]="ٺ",e["ﭢ"]="ٿ",e["ﭣ"]="ٿ",e["ﭤ"]="ٿ",e["ﭥ"]="ٿ",e["ﭦ"]="ٹ",e["ﭧ"]="ٹ",e["ﭨ"]="ٹ",e["ﭩ"]="ٹ",e["ﭪ"]="ڤ",e["ﭫ"]="ڤ",e["ﭬ"]="ڤ",e["ﭭ"]="ڤ",e["ﭮ"]="ڦ",e["ﭯ"]="ڦ",e["ﭰ"]="ڦ",e["ﭱ"]="ڦ",e["ﭲ"]="ڄ",e["ﭳ"]="ڄ",e["ﭴ"]="ڄ",e["ﭵ"]="ڄ",e["ﭶ"]="ڃ",e["ﭷ"]="ڃ",e["ﭸ"]="ڃ",e["ﭹ"]="ڃ",e["ﭺ"]="چ",e["ﭻ"]="چ",e["ﭼ"]="چ",e["ﭽ"]="چ",e["ﭾ"]="ڇ",e["ﭿ"]="ڇ",e["ﮀ"]="ڇ",e["ﮁ"]="ڇ",e["ﮂ"]="ڍ",e["ﮃ"]="ڍ",e["ﮄ"]="ڌ",e["ﮅ"]="ڌ",e["ﮆ"]="ڎ",e["ﮇ"]="ڎ",e["ﮈ"]="ڈ",e["ﮉ"]="ڈ",e["ﮊ"]="ژ",e["ﮋ"]="ژ",e["ﮌ"]="ڑ",e["ﮍ"]="ڑ",e["ﮎ"]="ک",e["ﮏ"]="ک",e["ﮐ"]="ک",e["ﮑ"]="ک",e["ﮒ"]="گ",e["ﮓ"]="گ",e["ﮔ"]="گ",e["ﮕ"]="گ",e["ﮖ"]="ڳ",e["ﮗ"]="ڳ",e["ﮘ"]="ڳ",e["ﮙ"]="ڳ",e["ﮚ"]="ڱ",e["ﮛ"]="ڱ",e["ﮜ"]="ڱ",e["ﮝ"]="ڱ",e["ﮞ"]="ں",e["ﮟ"]="ں",e["ﮠ"]="ڻ",e["ﮡ"]="ڻ",e["ﮢ"]="ڻ",e["ﮣ"]="ڻ",e["ﮤ"]="ۀ",e["ﮥ"]="ۀ",e["ﮦ"]="ہ",e["ﮧ"]="ہ",e["ﮨ"]="ہ",e["ﮩ"]="ہ",e["ﮪ"]="ھ",e["ﮫ"]="ھ",e["ﮬ"]="ھ",e["ﮭ"]="ھ",e["ﮮ"]="ے",e["ﮯ"]="ے",e["ﮰ"]="ۓ",e["ﮱ"]="ۓ",e["ﯓ"]="ڭ",e["ﯔ"]="ڭ",e["ﯕ"]="ڭ",e["ﯖ"]="ڭ",e["ﯗ"]="ۇ",e["ﯘ"]="ۇ",e["ﯙ"]="ۆ",e["ﯚ"]="ۆ",e["ﯛ"]="ۈ",e["ﯜ"]="ۈ",e["ﯝ"]="ٷ",e["ﯞ"]="ۋ",e["ﯟ"]="ۋ",e["ﯠ"]="ۅ",e["ﯡ"]="ۅ",e["ﯢ"]="ۉ",e["ﯣ"]="ۉ",e["ﯤ"]="ې",e["ﯥ"]="ې",e["ﯦ"]="ې",e["ﯧ"]="ې",e["ﯨ"]="ى",e["ﯩ"]="ى",e["ﯪ"]="ئا",e["ﯫ"]="ئا",e["ﯬ"]="ئە",e["ﯭ"]="ئە",e["ﯮ"]="ئو",e["ﯯ"]="ئو",e["ﯰ"]="ئۇ",e["ﯱ"]="ئۇ",e["ﯲ"]="ئۆ",e["ﯳ"]="ئۆ",e["ﯴ"]="ئۈ",e["ﯵ"]="ئۈ",e["ﯶ"]="ئې";e["ﯷ"]="ئې",e["ﯸ"]="ئې",e["ﯹ"]="ئى",e["ﯺ"]="ئى",e["ﯻ"]="ئى",e["ﯼ"]="ی",e["ﯽ"]="ی",e["ﯾ"]="ی",e["ﯿ"]="ی",e["ﰀ"]="ئج",e["ﰁ"]="ئح",e["ﰂ"]="ئم",e["ﰃ"]="ئى",e["ﰄ"]="ئي",e["ﰅ"]="بج",e["ﰆ"]="بح",e["ﰇ"]="بخ",e["ﰈ"]="بم",e["ﰉ"]="بى",e["ﰊ"]="بي",e["ﰋ"]="تج",e["ﰌ"]="تح",e["ﰍ"]="تخ",e["ﰎ"]="تم",e["ﰏ"]="تى",e["ﰐ"]="تي",e["ﰑ"]="ثج",e["ﰒ"]="ثم",e["ﰓ"]="ثى",e["ﰔ"]="ثي",e["ﰕ"]="جح",e["ﰖ"]="جم",e["ﰗ"]="حج",e["ﰘ"]="حم",e["ﰙ"]="خج",e["ﰚ"]="خح",e["ﰛ"]="خم",e["ﰜ"]="سج",e["ﰝ"]="سح",e["ﰞ"]="سخ",e["ﰟ"]="سم",e["ﰠ"]="صح",e["ﰡ"]="صم",e["ﰢ"]="ضج",e["ﰣ"]="ضح",e["ﰤ"]="ضخ",e["ﰥ"]="ضم",e["ﰦ"]="طح",e["ﰧ"]="طم",e["ﰨ"]="ظم",e["ﰩ"]="عج",e["ﰪ"]="عم",e["ﰫ"]="غج",e["ﰬ"]="غم",e["ﰭ"]="فج",e["ﰮ"]="فح",e["ﰯ"]="فخ",e["ﰰ"]="فم",e["ﰱ"]="فى",e["ﰲ"]="في",e["ﰳ"]="قح",e["ﰴ"]="قم",e["ﰵ"]="قى",e["ﰶ"]="قي",e["ﰷ"]="كا",e["ﰸ"]="كج",e["ﰹ"]="كح",e["ﰺ"]="كخ",e["ﰻ"]="كل",e["ﰼ"]="كم",e["ﰽ"]="كى",e["ﰾ"]="كي",e["ﰿ"]="لج",e["ﱀ"]="لح",e["ﱁ"]="لخ",e["ﱂ"]="لم",e["ﱃ"]="لى",e["ﱄ"]="لي",e["ﱅ"]="مج",e["ﱆ"]="مح",e["ﱇ"]="مخ",e["ﱈ"]="مم",e["ﱉ"]="مى",e["ﱊ"]="مي",e["ﱋ"]="نج",e["ﱌ"]="نح",e["ﱍ"]="نخ",e["ﱎ"]="نم",e["ﱏ"]="نى",e["ﱐ"]="ني",e["ﱑ"]="هج",e["ﱒ"]="هم",e["ﱓ"]="هى",e["ﱔ"]="هي",e["ﱕ"]="يج",e["ﱖ"]="يح",e["ﱗ"]="يخ",e["ﱘ"]="يم",e["ﱙ"]="يى",e["ﱚ"]="يي",e["ﱛ"]="ذٰ",e["ﱜ"]="رٰ",e["ﱝ"]="ىٰ",e["ﱞ"]=" ٌّ",e["ﱟ"]=" ٍّ",e["ﱠ"]=" َّ",e["ﱡ"]=" ُّ",e["ﱢ"]=" ِّ",e["ﱣ"]=" ّٰ",e["ﱤ"]="ئر",e["ﱥ"]="ئز",e["ﱦ"]="ئم",e["ﱧ"]="ئن",e["ﱨ"]="ئى",e["ﱩ"]="ئي",e["ﱪ"]="بر",e["ﱫ"]="بز",e["ﱬ"]="بم",e["ﱭ"]="بن",e["ﱮ"]="بى",e["ﱯ"]="بي",e["ﱰ"]="تر",e["ﱱ"]="تز",e["ﱲ"]="تم",e["ﱳ"]="تن",e["ﱴ"]="تى",e["ﱵ"]="تي",e["ﱶ"]="ثر",e["ﱷ"]="ثز",e["ﱸ"]="ثم",e["ﱹ"]="ثن",e["ﱺ"]="ثى",e["ﱻ"]="ثي",e["ﱼ"]="فى",e["ﱽ"]="في",e["ﱾ"]="قى",e["ﱿ"]="قي",e["ﲀ"]="كا",e["ﲁ"]="كل",e["ﲂ"]="كم",e["ﲃ"]="كى",e["ﲄ"]="كي",e["ﲅ"]="لم",e["ﲆ"]="لى",e["ﲇ"]="لي",e["ﲈ"]="ما",e["ﲉ"]="مم",e["ﲊ"]="نر",e["ﲋ"]="نز",e["ﲌ"]="نم",e["ﲍ"]="نن",e["ﲎ"]="نى",e["ﲏ"]="ني",e["ﲐ"]="ىٰ",e["ﲑ"]="ير",e["ﲒ"]="يز",e["ﲓ"]="يم",e["ﲔ"]="ين",e["ﲕ"]="يى",e["ﲖ"]="يي",e["ﲗ"]="ئج",e["ﲘ"]="ئح",e["ﲙ"]="ئخ",e["ﲚ"]="ئم",e["ﲛ"]="ئه",e["ﲜ"]="بج",e["ﲝ"]="بح",e["ﲞ"]="بخ",e["ﲟ"]="بم",e["ﲠ"]="به",e["ﲡ"]="تج",e["ﲢ"]="تح",e["ﲣ"]="تخ",e["ﲤ"]="تم",e["ﲥ"]="ته",e["ﲦ"]="ثم",e["ﲧ"]="جح",e["ﲨ"]="جم",e["ﲩ"]="حج",e["ﲪ"]="حم",e["ﲫ"]="خج",e["ﲬ"]="خم",e["ﲭ"]="سج",e["ﲮ"]="سح",e["ﲯ"]="سخ",e["ﲰ"]="سم",e["ﲱ"]="صح",e["ﲲ"]="صخ",e["ﲳ"]="صم",e["ﲴ"]="ضج",e["ﲵ"]="ضح",e["ﲶ"]="ضخ",e["ﲷ"]="ضم",e["ﲸ"]="طح",e["ﲹ"]="ظم",e["ﲺ"]="عج",e["ﲻ"]="عم",e["ﲼ"]="غج",e["ﲽ"]="غم",e["ﲾ"]="فج",e["ﲿ"]="فح",e["ﳀ"]="فخ",e["ﳁ"]="فم",e["ﳂ"]="قح",e["ﳃ"]="قم",e["ﳄ"]="كج",e["ﳅ"]="كح",e["ﳆ"]="كخ",e["ﳇ"]="كل",e["ﳈ"]="كم",e["ﳉ"]="لج",e["ﳊ"]="لح",e["ﳋ"]="لخ",e["ﳌ"]="لم",e["ﳍ"]="له",e["ﳎ"]="مج",e["ﳏ"]="مح",e["ﳐ"]="مخ",e["ﳑ"]="مم",e["ﳒ"]="نج",e["ﳓ"]="نح",e["ﳔ"]="نخ",e["ﳕ"]="نم",e["ﳖ"]="نه",e["ﳗ"]="هج",e["ﳘ"]="هم",e["ﳙ"]="هٰ",e["ﳚ"]="يج",e["ﳛ"]="يح",e["ﳜ"]="يخ",e["ﳝ"]="يم",e["ﳞ"]="يه",e["ﳟ"]="ئم",e["ﳠ"]="ئه",e["ﳡ"]="بم",e["ﳢ"]="به",e["ﳣ"]="تم",e["ﳤ"]="ته",e["ﳥ"]="ثم",e["ﳦ"]="ثه",e["ﳧ"]="سم",e["ﳨ"]="سه",e["ﳩ"]="شم",e["ﳪ"]="شه",e["ﳫ"]="كل",e["ﳬ"]="كم",e["ﳭ"]="لم",e["ﳮ"]="نم",e["ﳯ"]="نه",e["ﳰ"]="يم",e["ﳱ"]="يه",e["ﳲ"]="ـَّ",e["ﳳ"]="ـُّ",e["ﳴ"]="ـِّ",e["ﳵ"]="طى",e["ﳶ"]="طي",e["ﳷ"]="عى",e["ﳸ"]="عي",e["ﳹ"]="غى",e["ﳺ"]="غي",e["ﳻ"]="سى",e["ﳼ"]="سي",e["ﳽ"]="شى",e["ﳾ"]="شي",e["ﳿ"]="حى",e["ﴀ"]="حي",e["ﴁ"]="جى",e["ﴂ"]="جي",e["ﴃ"]="خى",e["ﴄ"]="خي",e["ﴅ"]="صى",e["ﴆ"]="صي",e["ﴇ"]="ضى",e["ﴈ"]="ضي",e["ﴉ"]="شج",e["ﴊ"]="شح",e["ﴋ"]="شخ",e["ﴌ"]="شم",e["ﴍ"]="شر",e["ﴎ"]="سر",e["ﴏ"]="صر",e["ﴐ"]="ضر",e["ﴑ"]="طى",e["ﴒ"]="طي",e["ﴓ"]="عى",e["ﴔ"]="عي",e["ﴕ"]="غى",e["ﴖ"]="غي",e["ﴗ"]="سى",e["ﴘ"]="سي",e["ﴙ"]="شى",e["ﴚ"]="شي",e["ﴛ"]="حى",e["ﴜ"]="حي",e["ﴝ"]="جى",e["ﴞ"]="جي",e["ﴟ"]="خى",e["ﴠ"]="خي",e["ﴡ"]="صى",e["ﴢ"]="صي",e["ﴣ"]="ضى",e["ﴤ"]="ضي",e["ﴥ"]="شج",e["ﴦ"]="شح",e["ﴧ"]="شخ",e["ﴨ"]="شم",e["ﴩ"]="شر",e["ﴪ"]="سر",e["ﴫ"]="صر",e["ﴬ"]="ضر",e["ﴭ"]="شج",e["ﴮ"]="شح",e["ﴯ"]="شخ",e["ﴰ"]="شم",e["ﴱ"]="سه",e["ﴲ"]="شه",e["ﴳ"]="طم",e["ﴴ"]="سج",e["ﴵ"]="سح",e["ﴶ"]="سخ",e["ﴷ"]="شج",e["ﴸ"]="شح",e["ﴹ"]="شخ",e["ﴺ"]="طم",e["ﴻ"]="ظم",e["ﴼ"]="اً",e["ﴽ"]="اً",e["ﵐ"]="تجم",e["ﵑ"]="تحج",e["ﵒ"]="تحج",e["ﵓ"]="تحم",e["ﵔ"]="تخم",e["ﵕ"]="تمج",e["ﵖ"]="تمح",e["ﵗ"]="تمخ",e["ﵘ"]="جمح",e["ﵙ"]="جمح",e["ﵚ"]="حمي",e["ﵛ"]="حمى",e["ﵜ"]="سحج",e["ﵝ"]="سجح",e["ﵞ"]="سجى",e["ﵟ"]="سمح",e["ﵠ"]="سمح",e["ﵡ"]="سمج",e["ﵢ"]="سمم",e["ﵣ"]="سمم",e["ﵤ"]="صحح",e["ﵥ"]="صحح",e["ﵦ"]="صمم",e["ﵧ"]="شحم",e["ﵨ"]="شحم",e["ﵩ"]="شجي",e["ﵪ"]="شمخ",e["ﵫ"]="شمخ",e["ﵬ"]="شمم",e["ﵭ"]="شمم",e["ﵮ"]="ضحى",e["ﵯ"]="ضخم",e["ﵰ"]="ضخم",e["ﵱ"]="طمح",e["ﵲ"]="طمح",e["ﵳ"]="طمم",e["ﵴ"]="طمي",e["ﵵ"]="عجم",e["ﵶ"]="عمم",e["ﵷ"]="عمم",e["ﵸ"]="عمى",e["ﵹ"]="غمم",e["ﵺ"]="غمي",e["ﵻ"]="غمى",e["ﵼ"]="فخم",e["ﵽ"]="فخم",e["ﵾ"]="قمح",e["ﵿ"]="قمم",e["ﶀ"]="لحم",e["ﶁ"]="لحي",e["ﶂ"]="لحى",e["ﶃ"]="لجج",e["ﶄ"]="لجج",e["ﶅ"]="لخم",e["ﶆ"]="لخم",e["ﶇ"]="لمح",e["ﶈ"]="لمح",e["ﶉ"]="محج",e["ﶊ"]="محم",e["ﶋ"]="محي",e["ﶌ"]="مجح",e["ﶍ"]="مجم",e["ﶎ"]="مخج",e["ﶏ"]="مخم",e["ﶒ"]="مجخ",e["ﶓ"]="همج",e["ﶔ"]="همم",e["ﶕ"]="نحم",e["ﶖ"]="نحى",e["ﶗ"]="نجم",e["ﶘ"]="نجم",e["ﶙ"]="نجى",e["ﶚ"]="نمي",e["ﶛ"]="نمى",e["ﶜ"]="يمم",e["ﶝ"]="يمم",e["ﶞ"]="بخي",e["ﶟ"]="تجي",e["ﶠ"]="تجى",e["ﶡ"]="تخي",e["ﶢ"]="تخى",e["ﶣ"]="تمي",e["ﶤ"]="تمى",e["ﶥ"]="جمي",e["ﶦ"]="جحى",e["ﶧ"]="جمى",e["ﶨ"]="سخى",e["ﶩ"]="صحي",e["ﶪ"]="شحي",e["ﶫ"]="ضحي",e["ﶬ"]="لجي",e["ﶭ"]="لمي",e["ﶮ"]="يحي",e["ﶯ"]="يجي",e["ﶰ"]="يمي",e["ﶱ"]="ممي",e["ﶲ"]="قمي",e["ﶳ"]="نحي",e["ﶴ"]="قمح",e["ﶵ"]="لحم",e["ﶶ"]="عمي",e["ﶷ"]="كمي",e["ﶸ"]="نجح",e["ﶹ"]="مخي",e["ﶺ"]="لجم",e["ﶻ"]="كمم",e["ﶼ"]="لجم",e["ﶽ"]="نجح",e["ﶾ"]="جحي",e["ﶿ"]="حجي",e["ﷀ"]="مجي",e["ﷁ"]="فمي",e["ﷂ"]="بحي",e["ﷃ"]="كمم",e["ﷄ"]="عجم",e["ﷅ"]="صمم",e["ﷆ"]="سخي",e["ﷇ"]="نجي",e["﹉"]="‾",e["﹊"]="‾",e["﹋"]="‾",e["﹌"]="‾",e["﹍"]="_",e["﹎"]="_",e["﹏"]="_",e["ﺀ"]="ء",e["ﺁ"]="آ",e["ﺂ"]="آ",e["ﺃ"]="أ",e["ﺄ"]="أ",e["ﺅ"]="ؤ",e["ﺆ"]="ؤ",e["ﺇ"]="إ",e["ﺈ"]="إ",e["ﺉ"]="ئ",e["ﺊ"]="ئ",e["ﺋ"]="ئ",e["ﺌ"]="ئ",e["ﺍ"]="ا",e["ﺎ"]="ا",e["ﺏ"]="ب",e["ﺐ"]="ب",e["ﺑ"]="ب",e["ﺒ"]="ب",e["ﺓ"]="ة",e["ﺔ"]="ة",e["ﺕ"]="ت",e["ﺖ"]="ت",e["ﺗ"]="ت",e["ﺘ"]="ت",e["ﺙ"]="ث",e["ﺚ"]="ث",e["ﺛ"]="ث",e["ﺜ"]="ث",e["ﺝ"]="ج",e["ﺞ"]="ج",e["ﺟ"]="ج",e["ﺠ"]="ج",e["ﺡ"]="ح",e["ﺢ"]="ح",e["ﺣ"]="ح",e["ﺤ"]="ح",e["ﺥ"]="خ",e["ﺦ"]="خ",e["ﺧ"]="خ",e["ﺨ"]="خ",e["ﺩ"]="د",e["ﺪ"]="د",e["ﺫ"]="ذ",e["ﺬ"]="ذ",e["ﺭ"]="ر",e["ﺮ"]="ر",e["ﺯ"]="ز",e["ﺰ"]="ز",e["ﺱ"]="س",e["ﺲ"]="س",e["ﺳ"]="س",e["ﺴ"]="س",e["ﺵ"]="ش",e["ﺶ"]="ش",e["ﺷ"]="ش",e["ﺸ"]="ش",e["ﺹ"]="ص",e["ﺺ"]="ص",e["ﺻ"]="ص",e["ﺼ"]="ص",e["ﺽ"]="ض",e["ﺾ"]="ض",e["ﺿ"]="ض",e["ﻀ"]="ض",e["ﻁ"]="ط",e["ﻂ"]="ط",e["ﻃ"]="ط",e["ﻄ"]="ط",e["ﻅ"]="ظ",e["ﻆ"]="ظ",e["ﻇ"]="ظ",e["ﻈ"]="ظ",e["ﻉ"]="ع",e["ﻊ"]="ع",e["ﻋ"]="ع",e["ﻌ"]="ع",e["ﻍ"]="غ",e["ﻎ"]="غ",e["ﻏ"]="غ",e["ﻐ"]="غ",e["ﻑ"]="ف",e["ﻒ"]="ف",e["ﻓ"]="ف",e["ﻔ"]="ف",e["ﻕ"]="ق",e["ﻖ"]="ق",e["ﻗ"]="ق",e["ﻘ"]="ق",e["ﻙ"]="ك",e["ﻚ"]="ك",e["ﻛ"]="ك",e["ﻜ"]="ك",e["ﻝ"]="ل",e["ﻞ"]="ل",e["ﻟ"]="ل",e["ﻠ"]="ل",e["ﻡ"]="م",e["ﻢ"]="م",e["ﻣ"]="م",e["ﻤ"]="م",e["ﻥ"]="ن",e["ﻦ"]="ن",e["ﻧ"]="ن",e["ﻨ"]="ن",e["ﻩ"]="ه",e["ﻪ"]="ه",e["ﻫ"]="ه",e["ﻬ"]="ه",e["ﻭ"]="و",e["ﻮ"]="و",e["ﻯ"]="ى",e["ﻰ"]="ى",e["ﻱ"]="ي",e["ﻲ"]="ي",e["ﻳ"]="ي",e["ﻴ"]="ي",e["ﻵ"]="لآ",e["ﻶ"]="لآ",e["ﻷ"]="لأ",e["ﻸ"]="لأ",e["ﻹ"]="لإ",e["ﻺ"]="لإ",e["ﻻ"]="لا",e["ﻼ"]="لا"},function(){return G&&(J=Object.create(null),G(J),G=null),J});function ee(e){var t,n,i=e.length;if(i<=1||(t=e.charCodeAt(0),n=X[13],!(t>=n.begin&&t<n.end||t>=(n=X[11]).begin&&t<n.end)))return e;for(var a="",r=i-1;r>=0;r--)a+=e[r];return a}!function(e){e.ltr="ltr",e.rtl="rtl",e.ttb="ttb"}(Y||(Y={})),function(e){e[e.text=0]="text",e[e.email=1]="email",e[e.link=2]="link"}(Z||(Z={}));const te=/^(([^:\/?#]+):)?(\/\/([^\/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/,ne=/[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,63}/,ie=/(\s+)/;function ae(e){return"http"===e.substr(0,4)?e:"http://"+e}function re(e){return e.split(ie).map((e=>{if(ie.test(e))return{type:Z.text,text:e.replace("\t"," ")};let t;return ne.test(e)?{text:e,type:Z.email}:(t=e.match(te))&&t[2]&&t[4]?{href:ae(e),text:e,type:Z.link}:{type:Z.text,text:e}})).reduce(((e,t)=>{const n=e[e.length-1];return n&&n.type===Z.text&&t.type===Z.text?n.text+=t.text:e.push(t),e}),[])}function oe(e){const t=Q();let n="";for(let i=0;i<e.length;i++){let a=e.charAt(i);void 0!==t[a]&&(a=t[a]),a=ee(a),"\t"===a&&(a=" "),n+=a}const i=function(e,t,n){var i=!0,a=e.length;if(0===a||n)return W(e,i,n);j.length=a,$.length=a;var r,o,s=0;for(r=0;r<a;++r){j[r]=e.charAt(r);var l=e.charCodeAt(r),d="L";l<=255?d=O[l]:1424<=l&&l<=1524?d="R":1536<=l&&l<=1791?d=U[255&l]:1792<=l&&l<=2220&&(d="AL"),"R"!==d&&"AL"!==d&&"AN"!==d||s++,$[r]=d}if(0===s)return W(e,i=!0);-1===t&&(s/a<.3?(i=!0,t=0):(i=!1,t=1));var c=[];for(r=0;r<a;++r)c[r]=t;var u,g=V(t)?"R":"L",h=g,p=h,f=h;for(r=0;r<a;++r)"NSM"===$[r]?$[r]=f:f=$[r];for(f=h,r=0;r<a;++r)"EN"===(u=$[r])?$[r]="AL"===f?"AN":"EN":"R"!==u&&"L"!==u&&"AL"!==u||(f=u);for(r=0;r<a;++r)"AL"===(u=$[r])&&($[r]="R");for(r=1;r<a-1;++r)"ES"===$[r]&&"EN"===$[r-1]&&"EN"===$[r+1]&&($[r]="EN"),"CS"!==$[r]||"EN"!==$[r-1]&&"AN"!==$[r-1]||$[r+1]!==$[r-1]||($[r]=$[r-1]);for(r=0;r<a;++r)if("EN"===$[r]){var m;for(m=r-1;m>=0&&"ET"===$[m];--m)$[m]="EN";for(m=r+1;m<a&&"ET"===$[m];++m)$[m]="EN"}for(r=0;r<a;++r)"WS"!==(u=$[r])&&"ES"!==u&&"ET"!==u&&"CS"!==u||($[r]="ON");for(f=h,r=0;r<a;++r)"EN"===(u=$[r])?$[r]="L"===f?"L":"EN":"R"!==u&&"L"!==u||(f=u);for(r=0;r<a;++r)if("ON"===$[r]){var _=K($,r+1,"ON"),b=h;r>0&&(b=$[r-1]);var v=p;_+1<a&&(v=$[_+1]),"L"!==b&&(b="R"),"L"!==v&&(v="R"),b===v&&z($,r,_,b),r=_-1}for(r=0;r<a;++r)"ON"===$[r]&&($[r]=g);for(r=0;r<a;++r)u=$[r],H(c[r])?"R"===u?c[r]+=1:"AN"!==u&&"EN"!==u||(c[r]+=2):"L"!==u&&"AN"!==u&&"EN"!==u||(c[r]+=1);var w,x=-1,L=99;for(r=0,o=c.length;r<o;++r)x<(w=c[r])&&(x=w),L>w&&V(w)&&(L=w);for(w=x;w>=L;--w){var y=-1;for(r=0,o=c.length;r<o;++r)c[r]<w?y>=0&&(q(j,y,r),y=-1):y<0&&(y=r);y>=0&&q(j,y,c.length)}for(r=0,o=j.length;r<o;++r){var N=j[r];"<"!==N&&">"!==N||(j[r]="")}return W(j.join(""),i)}(n,-1,!1);return{dir:i.dir,str:re(i.str)}}function se(e){const t=[];return e.metadata&&Array.isArray(e.pages)?e.pages.map((e=>({...e,textboxes:e.textboxes.map((e=>{const t=oe(e.t);return{...e,transformedText:t.str,dir:t.dir}}))}))).filter((e=>e)):t}i.injectInternalStyle("/static/js/file_viewer/preview_doc/preview_doc.module.out-vflqI0j0n.css",(e=>":root{--page-margin:16px;--page-margin-top:24px;--page-margin-left:24px}._textbox_1ythq_15{fill:transparent;cursor:text;opacity:.4;pointer-events:auto;-webkit-user-select:text;-ms-user-select:text;user-select:text}._textLayer_1ythq_20{left:0;mix-blend-mode:multiply;pointer-events:none;position:absolute;top:0;transform-origin:top left}._textLayer_1ythq_20 ::selection{background:var(--color__inverse__attention__background)}._textLayer_1ythq_20 text::selection{color:transparent}._linksLayer_1ythq_40{bottom:0;height:0;left:0;position:absolute;transform-origin:top left;width:0}._linksLayer_1ythq_40 ._internalLink_1ythq_50,._linksLayer_1ythq_40 a{cursor:pointer;display:block}._linksLayer_1ythq_40 ._internalLink_1ythq_50:focus,._linksLayer_1ythq_40 a:focus,._textbox_1ythq_15 a:focus{outline:auto}._imgLayer_1ythq_61{height:100%;overflow:hidden;position:relative;width:100%}._imgLayer_1ythq_61>img{background:#fff;display:block;image-rendering:-webkit-optimize-contrast;image-rendering:crisp-edges;image-rendering:optimizeQuality;max-width:100%;pointer-events:auto;-webkit-user-select:none;-ms-user-select:none;user-select:none}.sc-annotation-conductor-layer ._imgLayer_1ythq_61>img{pointer-events:auto}._snackbar_1ythq_88{bottom:0;left:0;margin:auto;position:absolute;right:0;width:100%;z-index:1}._page_1ythq_98{margin:var(--page-margin)}._pdfViewport_1ythq_102 ._page_1ythq_98{margin:0;position:absolute;top:0}._pptViewport_1ythq_108 ._page_1ythq_98{background-color:#fff;box-sizing:border-box;flex-shrink:0;margin:auto;position:relative}._pptViewport_1ythq_108{-ms-overflow-style:-ms-autohiding-scrollbar;overflow:auto;position:relative}._pptSizer_1ythq_126,._pptViewport_1ythq_108{display:flex;height:100%;width:100%}._pdfViewport_1ythq_102{height:100%;overflow:auto;width:100%}._container_1ythq_138{align-items:stretch;display:flex;height:100%;justify-content:flex-start;overflow:hidden;width:100%}._container_1ythq_138 ol{list-style:none}._pdfViewport_1ythq_102 ol,._pptViewport_1ythq_108 ol{padding:0}._pdfViewport_1ythq_102 li{margin:var(--dig-spacing__micro__large) 0;position:absolute;top:0}._pdfViewport_1ythq_102 ol{align-items:center;display:flex;flex-direction:column;overflow:hidden;position:relative}._close_1ythq_170{right:16px}._app_1ythq_175{align-items:flex-end;display:flex;flex-grow:1;height:100%;justify-content:center;position:relative;width:100%}"));const le="_textbox_1ythq_15",de="_container_1ythq_138",ce="NFKC";class ue{constructor(e){this.addSyntheticSpaceBetweenTextboxes=({segments:e,segmentIndex:t,chunkIndex:n})=>{const i=e[t].chunks[n],a=e[t].chunks[n+1];return this.isNewlineTextbox(i,a)||this.isHorizontalSpaceTextbox(i,a)},this.args=e,this.kmpSearch=new u.KMPSearch((()=>this.args.retrievePages().map((({textboxes:e,...t})=>({...t,chunks:e})))),{shouldAddSyntheticSpace:this.addSyntheticSpaceBetweenTextboxes,parseText:this.parseText})}setRetrieveCurrentPageIndex(e){this.retrieveCurrentPageIndex=e}fetchTextForAllPages(){var e;(null===(e=this.args.rivieraData)||void 0===e?void 0:e.metadata)&&this.args.fetchNextPageChunk({pageParam:{continueArg:{apiArg:{batchFirstPage:0,batchLastPage:this.args.rivieraData.metadata.page_count},pkgArg:this.args.rivieraData}}})}onNext(e){this.searchResult&&0!==this.searchResult.hits.length&&(this.args.dispatch(o.logUserActionEvent({userAction:i.UserAction.FindInDocNext,fileViewerId:this.args.fileViewerId,actionContext:"keyboard"===e?i.UserActionContext.Keyboard:i.UserActionContext.FindInDocSearchbar,extra:{find_method:e}})),this.searchResult.currentHit++,this.searchResult.currentHit>=this.searchResult.hits.length&&(this.searchResult.currentHit=0),this.jumpTo(this.searchResult.hits[this.searchResult.currentHit]))}onPrevious(e){this.searchResult&&0!==this.searchResult.hits.length&&(this.args.dispatch(o.logUserActionEvent({userAction:i.UserAction.FindInDocPrev,fileViewerId:this.args.fileViewerId,actionContext:"keyboard"===e?i.UserActionContext.Keyboard:i.UserActionContext.FindInDocSearchbar,extra:{find_method:e}})),this.searchResult.currentHit--,this.searchResult.currentHit<0&&(this.searchResult.currentHit=this.searchResult.hits.length-1),this.jumpTo(this.searchResult.hits[this.searchResult.currentHit]))}jumpTo(e){var t,n;this.args.dispatch(o.logUserActionEvent({userAction:i.UserAction.PageJump,fileViewerId:this.args.fileViewerId,actionContext:i.UserActionContext.Keyboard})),this.args.dispatch(r.updateDocCurrentPageIndex({fileViewerId:this.args.fileViewerId,previewKey:this.args.previewKey,pageIndex:e.pageIndex,totalPageCount:null===(n=null===(t=this.args.rivieraData)||void 0===t?void 0:t.metadata)||void 0===n?void 0:n.page_count})),this.args.dispatch(r.pageNavigation({fileViewerId:this.args.fileViewerId,previewKey:this.args.previewKey,pageIndex:e.pageIndex,offset:{offsetType:"absolute",centerOnYOffset:e.pageYOffset}}))}onReset(){this.searchResult=void 0,this.currentSearchTerm=void 0,this.args.onSearchResult(void 0)}search(e){if(!e)return void this.onReset();if(this.currentSearchTerm===e||null==this.kmpSearch)return;this.currentSearchTerm=e;const t=[];e=e.toLowerCase().normalize(ce);this.kmpSearch.searchSegments(e,(({segments:e,segmentIndex:n,chunkIndex:i})=>{const a=e[n].dimension[1]-e[n].chunks[i].r[1];t.push({pageIndex:n,pageYOffset:a})}),(e=>{this.searchResult={highlights:e,hits:t,currentHit:this.findStartingHit(t)},this.args.onSearchResult(this.searchResult),t.length>0&&this.jumpTo(t[this.searchResult.currentHit])}))}parseText(e){return e.trimLeft().toLowerCase().normalize(ce)}isNewlineTextbox(e,t){return Math.abs(e.r[1]-t.r[1])>.8*e.r[3]}isHorizontalSpaceTextbox(e,t){return Math.abs(e.r[0]+e.r[2]-t.r[0])>.3*e.h}findStartingHit(e){if(this.retrieveCurrentPageIndex&&e.length>0){const t=this.retrieveCurrentPageIndex(),n=e.findIndex((e=>e.pageIndex>=t));if(n>=0)return n}return 0}}i.injectInternalStyle("/static/js/file_viewer/preview_doc/renderer/find_in_doc_searchbar.module.out-vfl4Eoy7E.css",(e=>"._findInDocSearchBar_sx8pj_1{align-items:center;background-color:var(--color__elevated__background);border:1px solid;border-color:var(--dig-color__border__subtle);box-shadow:var(--boxshadow__elevation1);color:var(--color__faint__text);display:flex;margin:0 var(--dig-spacing__micro__large);max-width:100%;padding:var(--dig-spacing__micro__small);position:absolute;right:0;top:0;width:400px}._findInDocSearchBar_sx8pj_1>button{margin-left:var(--dig-spacing__micro__small)}"));const ge=e=>{var t;const{onClose:a,controller:r}=e,o=n.useIntl(),s=B.useRef(null);B.useEffect((()=>{var e;null===(e=s.current)||void 0===e||e.focus()}),[]);const d=B.useCallback(g.lodashExports.debounce((e=>r.search(e)),200),[r.search]),c=B.createElement(B.Fragment,null,r.searchResult&&B.createElement(i.TextInputAffix,null,B.createElement("span",{role:"status"},o.formatMessage({id:"hK6Sbz",defaultMessage:"{currentResult} of {totalResults}"},{currentResult:r.searchResult.hits.length>0?r.searchResult.currentHit+1:0,totalResults:r.searchResult.hits.length})))),u=B.useMemo((()=>[l.getEscapeBinding((()=>a("keyboard"))),l.getFindInDocBinding((()=>{var e;null===(e=s.current)||void 0===e||e.focus()}))]),[a]),p=!r.searchResult||r.searchResult.hits.length<=1;return B.createElement("div",{className:"_findInDocSearchBar_sx8pj_1"},B.createElement(i.TextInput,{ref:s,withLeftAccessory:B.createElement(i.UIIcon,{src:h.SearchLine,role:"presentation"}),withRightAccessory:c,placeholder:o.formatMessage({id:"uDh1dX",defaultMessage:"Search in this document"}),"aria-label":o.formatMessage({id:"gddc5d",defaultMessage:"Search in this document"}),onKeyDown:e=>{e.shiftKey&&e.key===i.Key_enum.Key.Enter?(r.onPrevious("keyboard"),e.stopPropagation()):e.key===i.Key_enum.Key.Enter?(r.onNext("keyboard"),e.stopPropagation()):e.key===i.Key_enum.Key.Escape?(a("keyboard"),e.stopPropagation()):(e.ctrlKey||e.metaKey)&&"f"===e.key&&e.preventDefault()},onChange:e=>d(e.currentTarget.value),isInvalid:0===(null===(t=r.searchResult)||void 0===t?void 0:t.hits.length)}),B.createElement(he,{tooltipText:o.formatMessage({id:"zqVjrn",defaultMessage:"Find previous"}),icon:i.ChevronUpLine,onClick:()=>r.onPrevious("click"),isDisabled:p}),B.createElement(he,{tooltipText:o.formatMessage({id:"W4xtVb",defaultMessage:"Find next"}),icon:i.ChevronDownLine,onClick:()=>r.onNext("click"),isDisabled:p}),B.createElement(he,{tooltipText:o.formatMessage({id:"OQXRhL",defaultMessage:"Close search"}),icon:i.CloseLine,onClick:()=>a("click")}),B.createElement(l.KeyboardBindingConnector,{name:"find_in_doc",keyboardBindings:u}))};ge.displayName="FindInDocSearchbar";const he=e=>B.createElement(i.Tooltip,{placement:"bottom",title:e.tooltipText,shouldCloseOnClick:!0},B.createElement(i.IconButton,{variant:"transparent",size:"small","aria-label":e.tooltipText,onClick:e.onClick,disabled:e.isDisabled},B.createElement(i.UIIcon,{src:e.icon})));he.displayName="FindInDocSearchbarButton";i.injectInternalStyle("/static/js/file_viewer/preview_doc/renderer/highlights.module.out-vflWRerI8.css",(e=>"._highlight-layer_1cfda_1{height:100%;left:0;position:absolute;top:0;width:100%}._highlight-action-bar_1cfda_9{box-sizing:border-box;display:flex;flex-direction:row;opacity:0;padding:4px;position:absolute;transition:opacity .1s ease-in-out;z-index:1000}._highlight-action-bar__visible_1cfda_20{background-clip:content-box;background-color:var(--dig-color__background__base);opacity:1;transition:opacity .15s ease-in-out}"));const pe="_highlight-layer_1cfda_1";function fe({x:e,y:t}){return{left:`${e}px`,top:`${t}px`}}const me=({children:e,position:t})=>B.createElement(i.ThemeProvider,{mode:"dark"},B.createElement("div",{className:i.cx("_highlight-action-bar_1cfda_9","_highlight-action-bar__visible_1cfda_20"),style:fe(t),tabIndex:-1},e));me.displayName="HighlightActionBar";const _e=new DOMRect(0,0,0,0),be=(e,t)=>Math.abs(e.x+e.width-t.x)>.3*e.fontSize,ve=e=>{var t;const n=document.createRange();n.selectNode(e);const i=n.getBoundingClientRect(),a=e.nodeType===Node.ELEMENT_NODE?e:e.parentNode,r=a?window.getComputedStyle(a):void 0;return{x:i.left,y:i.top,width:i.width,height:i.height,text:null!==(t=e.nodeValue)&&void 0!==t?t:"",fontSize:r?parseFloat(r.fontSize):12}},we={x:-100,y:-100},xe=(e,t,n)=>{const{getPageForSelection:i}=a.usePreviewControls(),[r,o]=B.default.useState(null);return B.default.useEffect((()=>{requestAnimationFrame((()=>{var t;const a=window.getSelection();if(!a||0===a.rangeCount)return void o(null);const r=a.getRangeAt(0).getBoundingClientRect(),s=(e=>{var t;if(0===e.rangeCount)return"";const n=e.getRangeAt(0),i=document.createTreeWalker(n.commonAncestorContainer,NodeFilter.SHOW_TEXT,{acceptNode:function(e){return n.intersectsNode(e)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}});let a=null,r=ve(i.currentNode),o=null!==(t=r.text)&&void 0!==t?t:"";for(;i.nextNode();)a=r,r=ve(i.currentNode),s=a,l=r,(Math.abs(s.y-l.y)>.8*s.height||be(a,r))&&o&&!/\s/.test(o.at(-1))&&r.text&&!/\s/.test(r.text[0])&&(o+=" "),o+=r.text;var s,l;return((e,t)=>{const n=(e=>{if(!e||e.isCollapsed||0===e.rangeCount)return null;const t=e.toString().trim(),n=e.getRangeAt(0).getBoundingClientRect();return t.length>0&&n.width>0&&n.height>0?t:null})(t);if(!n)return"";const i=n.split("\n"),a=e.indexOf(i[0]);-1!==a&&(e=e.substring(a,e.length));const r=e.lastIndexOf(i[i.length-1]);return-1!==r&&(e=e.slice(0,r+i[i.length-1].length)),e})(o,e)})(a),l=(null!==(t=null==i?void 0:i(a))&&void 0!==t?t:-1)===e||function(e,t){if(null==e)return!1;const{focusNode:n,anchorNode:i}=e;return Boolean(t&&n&&t.contains(n)&&i&&t.contains(i))}(a,n.current);if(r&&s&&l&&function(e,t){var n;const i=null===(n=document.querySelector(`#pageContainer${t+1}`))||void 0===n?void 0:n.querySelector('[class*="textLayer"]');return!!(i&&(null==e?void 0:e.anchorNode)&&(null==i?void 0:i.contains(null==e?void 0:e.anchorNode)))}(a,e)){const t=(null==a?void 0:a.getRangeAt(0))?Array.from(a.getRangeAt(0).getClientRects()):[],i=document.querySelector("[data-preview-viewport]"),l=null==i?void 0:i.getBoundingClientRect();o({text:s,page:{bounds:n.current.getBoundingClientRect(),pageNumber:e},selectionAreas:t,selectionBounds:r,viewport:l?{width:l.width,height:l.height}:{width:0,height:0}})}else o(null)}))}),[e,t,n,i]),r},Le=e=>{var t,n,a;const[r,o]=B.default.useState(!1),[s,l]=B.default.useState(!1),[d,c]=B.default.useState(null),[u,g]=B.default.useState(0),h=B.default.useRef(null),m=p.useIsCommentsModeActive(),{pageIndex:_}=e.data;(e=>{B.default.useEffect((()=>{var t,n,i,a;if(0!==e)return;const r=Array.from(null!==(n=null===(t=document.querySelector("#pageContainer1"))||void 0===t?void 0:t.querySelectorAll("text"))&&void 0!==n?n:[]);for(const e of r)if((null!==(a=null===(i=e.textContent)||void 0===i?void 0:i.length)&&void 0!==a?a:0)>50){e.id="highlight-tooltip-target";break}}),[e])})(_);const b=xe(_,u,h),v=B.default.useCallback((()=>{g(u+1)}),[u]);B.default.useEffect((()=>{g(0)}),[m]);const w=B.default.useCallback((()=>{r?s||l(!0):v()}),[r,s,v]),x=B.default.useCallback((()=>{o(!0),l(!1)}),[]),L=B.default.useCallback((()=>{r&&s&&v(),o(!1)}),[r,s,v]);B.default.useEffect((()=>(document.addEventListener("selectionchange",w),document.addEventListener("mousedown",x),document.addEventListener("mouseup",L),()=>{document.removeEventListener("selectionchange",w),document.removeEventListener("mousedown",x),document.removeEventListener("mouseup",L)})),[w,x,L]);const y=B.default.useMemo((()=>{var t;return b?(null!==(t=e.textHighlighters)&&void 0!==t?t:[]).map(((e,t)=>{const n=e.highlightMenuOption;return B.default.createElement(n,{key:t,selectedText:b})})):[]}),[e.textHighlighters,b]),N=null!==(n=null===(t=e.textHighlighters)||void 0===t?void 0:t.length)&&void 0!==n?n:0;return B.default.useEffect((()=>{requestAnimationFrame((()=>{var e,t;let n=null;if(null!==b){const i=null!==(t=null===(e=h.current)||void 0===e?void 0:e.getBoundingClientRect())&&void 0!==t?t:_e;n=function(e,t,n,i,a,r){const o=f.createNormalizedRegion(e,n);let s,l;if(o.y*n.height>=i+r)s=(o.x+o.width/2)*n.width-i/2,l=o.y*n.height-i-r;else if((1-o.x-o.width)*n.width>=a)s=(o.x+o.width)*n.width+r,l=(o.y+o.height/2)*n.height-a/2;else if(o.x*n.width>=a)s=o.x*n.width-a-r,l=(o.y+o.height/2)*n.height-a/2;else if((1-o.y-o.height)*n.height>=i)s=(o.x+o.width/2)*n.width-i/2,l=(o.y+o.height)*n.height+r;else{const e=f.createNormalizedRegion(t,n);s=(e.x+e.width/2)*n.width-i/2,l=(e.y+e.height)*n.height+r}return{x:s,y:l}}(b.selectionBounds,b.selectionAreas[0],i,42,42*N,8)}c(n)}))}),[y,b,N]),B.default.createElement("div",{className:i.cx(pe),ref:h},d&&b&&B.default.createElement(me,{position:null!=d?d:we},(null!==(a=e.textHighlighters)&&void 0!==a?a:[]).map(((e,t)=>{if(m&&"translation_plugin"===e.textHighlighterId)return null;const n=e.highlightMenuOption;return B.default.createElement(n,{key:t,selectedText:b})}))))};Le.displayName="HighlightLayer";i.injectInternalStyle("/static/js/file_viewer/preview_doc/renderer/doc_sidebar.module.out-vflKeiZ5j.css",(e=>":root{--thumbnailWidth:112px;--imgZIndex:1;--border:4px;--sidebar-width:196px}._container_1gby7_14{background-color:var(--dig-color__background__raised);flex-shrink:0;font-size:var(--type__body__standard--fontsize);height:100%;outline:none;overflow:auto;transition:width 40ms;width:var(--sidebar-width);will-change:width}._container_1gby7_14._open_1gby7_26._containerBorder_1gby7_26{border-right:1px solid var(--dig-color__border__subtle)}._container_1gby7_14 ol{border:none;box-sizing:border-box;height:100%;list-style:none;margin:0;overflow:hidden;padding:var(--dig-spacing__macro__medium) 0 0 0;position:relative}._container_1gby7_14 li{position:absolute;top:0;transform:translateX(-50%)}._container_1gby7_14 li a:any-link{box-sizing:border-box;color:var(--dig-color__text__base);display:flex;margin-bottom:var(--dig-spacing__macro__small);outline:none;padding:0 0 0 34px;position:relative;text-decoration:none}._container_1gby7_14._isEditMode_1gby7_65 li a:any-link{color:var(--color__inverse__standard__text)}._thumbnail_1gby7_69{font-size:0;line-height:0;position:relative;width:var(--thumbnailWidth)}._thumbnailContainer_1gby7_76{align-items:center;display:flex;flex-direction:column;gap:var(--dig-spacing__micro__small);padding:var(--dig-spacing__micro__small) var(--dig-spacing__micro__medium)}._thumbnail_1gby7_69 img{border:1px solid var(--dig-color__border__subtle);border-radius:4px;box-sizing:border-box;margin:3px;position:absolute;width:calc(100% - var(--border)*2 + 2px);z-index:var(--imgZIndex)}._thumbnail_1gby7_69 ._loader_1gby7_96{bottom:0;left:0;margin:auto;position:absolute;right:0;top:0}._thumbnail_1gby7_69._selected_1gby7_105 img{border:4px solid var(--dig-color__border__subtle);border-radius:4px;margin:0;width:100%}._container_1gby7_14._focused_1gby7_112 ._thumbnail_1gby7_69._selected_1gby7_105 img{border:4px solid var(--dig-color__utility__focus-ring);border-radius:4px}._thumbnail_1gby7_69._isUnfocusedInEditMode_1gby7_117._selected_1gby7_105{border-color:var(--color__inverse__standard__border)}"));const ye=parseInt("16px",10),Ne=parseInt("24px",10),Ie=parseInt("24px",10),Ee=parseInt("196px",10),Ae=Ee+600,Se=1.75,Ce=[...i.PDF_EXTS,...i.WORDPROC_EXTS];function Me(e){return i.PRESENTATION_EXTS.includes(i.getFileExtension(e))}function De(e,t){return e>=Ae&&(t===i.PreviewType.SsrDoc||t===i.PreviewType.CloudDoc)}const Pe=[100,200,400,800,1600],ke=(e,t,n)=>{if(!n)return 2;return 16777216/(e*t)},Fe=(e,t,n)=>{if(!t)return 100;const i=Math.round(100*t),a=Math.round(100*e*(m.isMobileOrTablet()?4:1));if(a<=i){for(const e of Pe)if(i>.8*e&&i<=e)return e;return i}const r=Math.round(100*n);for(const e of Pe)if(a<=e||r<e)return Math.max(e,i);return Pe[Pe.length-1]},Re=({data:e,fitScaleFactor:n,scaleFactor:a,previewKey:r,fileMetadata:o,onImageLoad:s,onImageError:l})=>{const[d,c]=t.useState(0),[u,g]=t.useState(0),[h,p]=t.useState(void 0),[f,m]=B.useState(Date.now()),_=t.useRef(null),{pageIndex:b,imgUrls:{imageUrlTmpl:v}}=e,[w,x]=e.dimension,L=w*a,y=x*a,N=t.useCallback((({imageUrlTmpl:e,expectedWidth:t,page:n=0,scalePercent:a})=>{t>d&&(c(t),i.rivieraClient.fetchDocImage({page:n,imageUrlTmpl:e,scalePercent:a}).then((({data:e})=>{e&&t>u?(g(t),p(e)):l(n,"error_fetch")})).catch((()=>{l(n,"error_fetch")})))}),[d,u,l]),I=i.useStabilizedCallback((()=>{_.current&&_.current.complete&&(_.current.naturalHeight||_.current.naturalWidth?s(b,Date.now()-f):l(b,"error_load"))})),E=t.useCallback(((e,t,n,a,r,o)=>{if(!a)return;const s=ke(r,o,a),l=Fe(n,a,s),c=l/100*r;c>Math.ceil(Math.max(i.PDF_BASE_WIDTH,d)/.8)&&N({imageUrlTmpl:e,page:t,scalePercent:l,expectedWidth:c})}),[N,d]);t.useEffect((()=>{m(Date.now())}),[]);return t.useEffect((()=>{I(),d||(x>i.LARGE_PDF_CUTOFF_DIMENSIONS?N({imageUrlTmpl:v,expectedWidth:i.PDF_BASE_WIDTH,page:b,scalePercent:Fe(Se,Se,ke(w,x,Se))}):N({imageUrlTmpl:v,expectedWidth:i.PDF_BASE_WIDTH,page:b}))}),[r.serialized]),t.useEffect((()=>{a!==n&&E(v,b,a,n,w,x)}),[n,E,x,v,b,a,w]),B.createElement("div",{className:de},h&&B.createElement("img",{ref:_,alt:o?o.file_name:"",width:L,height:y,role:"tabpanel","aria-hidden":"true",draggable:!1,src:h,onLoad:({currentTarget:e})=>{const t=Date.now()-f;s(b,t);const n=e.naturalWidth,i=Math.max(n,d);c(i),g(n)},onError:()=>{l(b,"error_render")}}))};Re.displayName="ImgLayer";i.injectInternalStyle("/static/js/file_viewer/preview_doc/renderer/links_warning_modal.module.out-vflusevCS.css",(e=>"._warningModalMobile_1bpal_1{bottom:0;height:30%;top:unset}"));const Te=e=>{const t=b.useDispatch(),a=n.useIntl(),{optionalIOClients:{preferencesClient:o,reportExceptionClient:s},logUserAction:l}=i.useFileViewerContext(),{onDismiss:d,url:c,previewKey:u}=e,[g,h]=B.useState(!1),p=i.useCurrentPreviewMetadata(),f=i.useFileMetadata(u),_=i.getFileExtension(null==f?void 0:f.file_name),v=window.location&&encodeURIComponent(window.location.href);let w;try{w=new URL(c).hostname.replace("www.","")}catch(e){return e instanceof Error&&!e.message.includes("Invalid URL")&&(null==s||s.reportException(e,p.previewType,_,"critical")),t(r.openUrl({url:c})),null==d||d(),null}const x=a.formatMessage({id:"xuJw2w",defaultMessage:"Cancel"}),L=a.formatMessage({id:"8fMKNv",defaultMessage:"Continue"}),y=a.formatMessage({id:"xN06So",defaultMessage:"Continue to {url}?"},{url:w}),N=a.formatMessage({id:"qkEL8V",defaultMessage:"Before continuing, make sure you trust the link, file and person who shared it."}),I=a.formatMessage({id:"2hJURf",defaultMessage:"Report to Dropbox"}),E=a.formatMessage({id:"IqpVFQ",defaultMessage:"Don’t ask me again for links in this file"});return B.createElement(i.Modal,{className:m.isSupportedMobileBrowser()?"_warningModalMobile_1bpal_1":void 0,open:!0,isCentered:!0,withCloseButton:x,onRequestClose:d},B.createElement(i.Modal.Header,{hasBottomSpacing:"title-standard"},B.createElement(i.Modal.Title,null,y)),B.createElement(i.Modal.Body,null,B.createElement(i.FormRow,null,N),B.createElement(i.FormRow,{variant:"control"},B.createElement(i.Checkbox,{checked:g,onClick:()=>{h(!g)},id:"links_warning_checkbox"}),B.createElement(i.FormLabel,{className:"dig-FormLabel--control",htmlFor:"links_warning_checkbox"},E))),B.createElement(i.Modal.Footer,null,B.createElement(i.Button,{href:`/report_abuse?ssu=${v}`,target:"_blank",variant:"transparent",onClick:()=>{l(i.UserAction.ReportToDropbox,i.UserActionContext.Modal)}},I),B.createElement(i.Button,{variant:"opacity",onClick:()=>{l(i.UserAction.Cancel,i.UserActionContext.Modal),null==d||d()}},x),B.createElement(i.Button,{variant:"primary",onClick:()=>{var e;t(r.openUrl({url:c})),l(i.UserAction.Continue,i.UserActionContext.Modal,{dontAskAgainChecked:g.toString()}),null===(e=null==o?void 0:o.link)||void 0===e||e.setWarningHiddenState({isHidden:g}),null==d||d()}},L)))};Te.displayName="LinksWarningModal";const Be=e=>{var t;const{dispatch:a,scaleFactor:o,featureConfig:s,previewKey:l}=e,d=n.useIntl(),[c,u]=B.useState(""),g=i.useSharedLinkInfo(),{optionalIOClients:{preferencesClient:h},isLoggedIn:p,logUserAction:f}=i.useFileViewerContext(),m=null===(t=null==h?void 0:h.link)||void 0===t?void 0:t.getWarningHiddenState(),b=p&&!m&&void 0!==g&&!g.isSameTeam,v=s.mobile_web,w=_.isMobileRedesignEnabled(s);const x=e.data.links.map(((t,n)=>{const o=t.a;let[s,l,c,g]=t.r;g<0&&(l+=g,g=-g),c<0&&(s+=c,c=-c);const h={position:"absolute",bottom:l,left:s,width:c,height:g};if(o.ur){const{ur:e}=o,t=e.startsWith("mailto:")||e.startsWith("tel:");return B.createElement("a",{key:n,"data-testid":"external-link","aria-label":d.formatMessage({id:"+trcEI",defaultMessage:"External Link"}),href:t?e:ae(e),onClick:t=>function(e,t){e.preventDefault(),v&&w&&e.stopPropagation(),b?(f(i.UserAction.ShowLinkWarningModal,i.UserActionContext.PreviewContentMain),u(t)):a(r.openUrl({url:t}))}(t,e),rel:"noreferrer noopener",style:h,target:"_blank"})}return B.createElement("div",{key:n,className:"_internalLink_1ythq_50","data-testid":"internal-link",style:h,"aria-label":d.formatMessage({id:"UU1q+t",defaultMessage:"Internal Link"}),onClick:t=>function(t,n){t.preventDefault(),v&&w&&t.stopPropagation(),e.onInternalLinkClicked(n)}(t,o.pn)})}));return B.createElement("div",{className:"_linksLayer_1ythq_40",style:{transform:`scale(${o})`}},!!c&&B.createElement(Te,{onDismiss:()=>u(""),url:c,previewKey:l}),x)};Be.displayName="LinksLayer";const Oe=({text:e,x:t,y:n,width:i,height:a,dir:r,style:o,findInDocHighlights:s,findInDocCurrentHit:l,charOffset:d})=>{const c=s&&m.safari?"spacing":"spacingAndGlyphs",[u,g]=B.useState(),h=B.useCallback((t=>{const i=[];if(s&&null!=t&&t.getNumberOfChars()>0){let r=0;s.forEach((s=>{if(void 0!==d&&(s.startingCharIndex<d||s.startingCharIndex>d+e.trimStart().length))return;const c=null!=d?d:0,u=t.getStartPositionOfChar(Math.min(s.startingCharIndex-c,t.getNumberOfChars()-1)).x,g=t.getEndPositionOfChar(Math.min(s.endingCharIndex-c,t.getNumberOfChars()-1)).x;if(void 0===u||void 0===g)return;const h=s.hitNumber===l,p=a+3;i.push(B.createElement("rect",{x:u-1.5,y:n-a-1.5,width:g-u+3,height:p,opacity:1,fill:h?"var(--color__accent__lime)":"var(--color__accent__banana)",style:o,key:r})),r++}))}g(i)}),[e,n,a,o,s,l,d]);return B.createElement(B.Fragment,null,B.createElement("text",{className:le,direction:r,height:a,lengthAdjust:c,style:o,textLength:i,x:t,y:n,"data-test":"textbox",ref:s?h:void 0},e),s&&u)};Oe.displayName="HighlightedTextboxFragment";const Ue=({data:{r:[e,t,n,i],d:a,dir:r,transformedText:o,font:s,h:l},onClickLink:d,findInDocHighlights:c,findInDocCurrentHit:u})=>{t=-t;const g={fontSize:l};if(a&&(g.transform=`rotate(${-a}rad)`,g.transformOrigin=`${e}px ${t}px`),s&&(g.fontFamily=s.fontFamily,s.isBold&&(g.fontWeight="bold"),s.isItalic&&(g.fontStyle="italic")),1===o.length){const a=o[0];return B.createElement(Oe,{text:a.text,x:e,y:t,width:n,height:i,dir:r,style:g,findInDocCurrentHit:u,findInDocHighlights:c})}const h=o.reduce(((e,t)=>e+t.text.length),0);let p=0;const f=o.map(((a,r)=>{const o=p/h*n+e,s=a.text.length/h*n,l=B.createElement(Oe,{text:a.text,x:o,y:t,width:s,height:i,findInDocCurrentHit:u,findInDocHighlights:c,charOffset:p});switch(p+=a.text.length,a.type){case Z.email:const e=`mailto:${a.text}`;return B.createElement("a",{key:r,href:e,referrerPolicy:"no-referrer"},l);case Z.link:return B.createElement("a",{key:r,href:a.href,target:"_blank",rel:"noreferrer noopener",referrerPolicy:"no-referrer",onClick:e=>d(e,a.href)},l);default:return l}}));return B.createElement("g",{className:le,direction:r,style:g,"data-test":"textbox"},f)};Ue.displayName="TextBox";const Ve=({data:e,findInDocHighlights:n,findInDocCurrentHit:i,scaleFactor:a,onTextRendered:o})=>{const{textboxes:s,dimension:[l,d]}=e,c=b.useDispatch();t.useEffect((()=>{o(e.pageIndex)}),[e,o]);const u=t.useCallback(((e,t)=>{e.preventDefault(),t&&c(r.openUrl({url:t}))}),[c]),g=t.useMemo((()=>({transform:`scale(${a})`})),[a]),h=s.map(((e,t)=>B.default.createElement(Ue,{onClickLink:u,key:t,data:e,findInDocHighlights:null==n?void 0:n.get(t),findInDocCurrentHit:i})));return B.default.createElement("svg",{className:"_textLayer_1ythq_20",viewBox:`0 -${d} ${l} ${d}`,width:l,height:d,style:g,"data-test":"text-layer"},h)};Ve.displayName="TextLayer";const He=["imageLayer","highlightLayer","textLayer","linksLayer"],Ke=e=>t=>{const{activeOverlayPlugin:n,previewKey:a}=e,r=i.isNestedArchiveFilePreviewKey(a),o=c.useZoomScaleFactor(),s=c.useZoomFitScaleFactor(),l=B.useMemo((()=>({imageLayer:B.createElement(Re,{key:"image",fileMetadata:e.fileMetadata,previewKey:a,data:t.data,onImageError:e.onImageError,onImageLoad:e.onImageLoad,fitScaleFactor:null!=s?s:1,scaleFactor:null!=o?o:1}),highlightLayer:B.createElement(Le,{key:"highlights",data:t.data,textHighlighters:t.textHighlighters}),textLayer:B.createElement(Ve,{key:"text",data:t.data,scaleFactor:null!=o?o:1,onTextRendered:e.onTextRendered,findInDocHighlights:t.findInDocHighlights,findInDocCurrentHit:t.findInDocCurrentHit}),linksLayer:B.createElement(Be,{key:"links",data:t.data,scaleFactor:null!=o?o:1,dispatch:e.dispatch,featureConfig:e.featureConfig,onInternalLinkClicked:e.onInternalLinkClicked,previewKey:a})})),[s,t.data,t.findInDocCurrentHit,t.findInDocHighlights,t.textHighlighters,a,o]),d=He.map((e=>l[e]));if(r)return B.createElement(B.Fragment,null,d);const u=c.useCurrentDocPage(),g=B.useMemo((()=>({currentPageIndex:null!=u?u:0,scaleFactor:null!=o?o:1})),[u,o]);if(null!=n&&void 0!==g){const{data:{pageIndex:e,dimension:a}}=t,r={width:a[0],height:a[1]},o={previewType:i.PreviewType.SsrDoc,ui:g,layer:{dimensions:r,pageIndex:e,viewportRef:t.layerViewportRef},displayLayers:l},{layerUI:{Layer:s}}=n;if(null!=s){const e=B.createElement(s,{key:"plugin",...o});return l.pluginOverlay=e,n.shouldReplacePreview?e:n.allowLayers?B.createElement(B.Fragment,null,n.allowLayers.map((e=>l[e]))):B.createElement(B.Fragment,null,d,e)}}return B.createElement(B.Fragment,null,d)},ze=({passwordAttempt:e,onSubmit:t,onDismiss:a,fileName:r})=>{const o=n.useIntl(),[s,l]=B.useState("");B.useEffect((()=>l("")),[e]);const d=i.useStabilizedCallback((e=>{l(e.currentTarget.value)})),c=i.useStabilizedCallback((e=>{"Enter"===e.key&&t(s)})),u=i.useStabilizedCallback((()=>{t(s)})),g=e>0,h=o.formatMessage({id:"GKzMoF",defaultMessage:"Close"});return B.createElement(i.Modal,{open:!0,isCentered:!0,withCloseButton:h,onRequestClose:a},B.createElement(i.Modal.Header,{hasBottomSpacing:"title-standard"},B.createElement(i.Modal.Title,null,o.formatMessage({id:"jvUwnG",defaultMessage:"This file is password protected"}))),B.createElement(i.Modal.Body,null,!!r&&B.createElement(i.TextInput,{type:"text",value:r,style:{display:"none"},wrapperProps:{style:{display:"none"}}}),B.createElement("label",null,g?o.formatMessage({id:"qW3q74",defaultMessage:"The password you entered is incorrect, please try again."}):o.formatMessage({id:"qeA+3O",defaultMessage:"Enter password to continue."}),B.createElement(i.TextInput,{autoFocus:!0,type:"password",value:s,isInvalid:g,placeholder:o.formatMessage({id:"4RJ0I8",defaultMessage:"Password"}),onChange:d,wrapperProps:{style:{marginTop:"15px"}},onKeyDown:c}))),B.createElement(i.Modal.Footer,null,B.createElement(i.Button,{variant:"opacity",onClick:a},o.formatMessage({id:"xuJw2w",defaultMessage:"Cancel"})),B.createElement(i.Button,{variant:"primary",onClick:u},o.formatMessage({id:"RS9CyP",defaultMessage:"Submit"}))))};ze.displayName="PasswordModal";i.injectInternalStyle("/static/js/file_viewer/mobile_web/info_chip.module.out-vflFmS0Cd.css",(e=>"._infoChipLayer_87mrn_1{align-self:flex-start}._infoChip_87mrn_1{background-color:rgba(30,25,25,.6);border-radius:var(--dig-radius__small);margin-left:var(--dig-spacing__micro__small);margin-top:var(--dig-spacing__micro__small);min-width:-webkit-max-content;min-width:max-content;padding:var(--dig-spacing__micro__xsmall) var(--dig-spacing__micro__small);position:absolute}"));const qe=({content:e})=>B.default.createElement(i.Layer,{isPortaled:!1,className:"_infoChipLayer_87mrn_1"},B.default.createElement("div",{className:"_infoChip_87mrn_1"},B.default.createElement(i.ThemeProvider,{mode:"dark"},(({getThemeProps:t})=>B.default.createElement(i.Text,{size:"small",isBold:!0,...t()},e)))));qe.displayName="MobileInfoChip";const We=({currentPage:e,totalPages:t})=>{const i=n.useIntl().formatMessage({id:"ThxFth",defaultMessage:"{currentPage} of {totalPages}"},{currentPage:e,totalPages:t});return B.default.createElement(qe,{content:i})};We.displayName="MobilePageInfoChip";const je=({data:e={pageIndex:0,dimension:[0,0],thumbnailUrl:"",imgUrls:{"1x":"","4x":"",imageUrlTmpl:""},textboxes:[],links:[]},scaleFactor:t=0,children:i=(()=>null),onRef:a=(()=>{}),onMouseMove:r,onMouseUp:o,onMouseEnter:s,onMouseDown:l,isFocused:d,findInDocHighlights:c,findInDocCurrentHit:u,viewportElRef:g,textHighlighters:h})=>{const{pageIndex:p,dimension:[f,m]}=e,_=n.useIntl(),b=B.useRef(null);return B.useEffect((()=>(null!=a&&a(p,b.current),()=>{a(p,null)})),[a,p]),B.createElement("div",{id:`pageContainer${p+1}`,className:"_page_1ythq_98","data-index":p,style:{width:f*t,height:m*t},onMouseDown:l,onMouseMove:r,onMouseUp:o,onMouseEnter:s,ref:b,role:"presentation","aria-label":_.formatMessage({id:"tz5Q+M",defaultMessage:"Page {pageIndex}"},{pageIndex:p+1})},i({isFocused:d,data:e,findInDocHighlights:c,findInDocCurrentHit:u,layerViewportRef:g,textHighlighters:h}))};je.displayName="Page";const $e=B.memo((e=>{const{index:t,pageData:n,isFocused:i,onMouseDown:a,onMouseEnter:r,onMouseMove:o,onMouseUp:s,onRef:l,scaleFactor:d,children:c,top:u,findInDocHighlights:g,findInDocCurrentHit:h,viewportElRef:p,textHighlighters:f}=e,{dimension:[m,_]}=n,b=B.useMemo((()=>({width:m*d,height:_*d,transform:`translateY(${u}px)`})),[m,_,d,u]);return B.createElement("li",{"data-index":t,key:t,style:b},B.createElement(je,{data:n,onMouseDown:a,onMouseEnter:r,onMouseMove:o,onMouseUp:s,scaleFactor:d,isFocused:i,onRef:l,findInDocHighlights:g,findInDocCurrentHit:h,viewportElRef:p,textHighlighters:f},c))}));$e.displayName="PdfPage",$e.displayName="PdfPage";const Xe=(e,t)=>{const n=i.DOC_LI_MARGIN,a=[n];for(let i=1;i<e.length;++i){const r=e[i-1].dimension[1]*t+n;a.push(a[i-1]+r)}return a},Ge=(e,t)=>{if(0===e.length)return 0;const n=e.reduce(((e,n)=>e+n.dimension[1]*t),0);return n+(e.length+2)*i.DOC_LI_MARGIN},Je=(e,t)=>{let n=0;for(const t of e){const e=t.dimension[0];e>n&&(n=e)}return n*t},Ye=({pages:e,count:n,scaleFactor:r,children:o,className:s,onPageChange:d,onMouseDown:c,onMouseEnter:u,onMouseMove:h,onMouseUp:p,pageNavigation:f,onPageRef:m,dispatchResolvePageNavigation:_,previewKey:b,findInDocData:w,findInDocController:x,brandingInfo:L,sharedLinkInfo:y,isEditing:N,onKeyHome:I,onKeyEnd:E,isSidebarFocused:A,textHighlighters:S})=>{const[C,M]=t.useState(0),[D,P]=t.useState(0),[k,F]=t.useState(0),R=B.useRef(null),[T,O,U]=t.useMemo((()=>[Xe(e,r),Ge(e,r),Je(e,r)]),[e,r]),V=t.useCallback((t=>{const n=R.current;if(!n)return;const i=g.lodashExports.sortedIndex(t,n.scrollTop),a=(i>0?(t[i-1]+t[i])/2:-1)>n.scrollTop||t[i]>n.scrollTop+n.offsetHeight/2?i-1:Math.min(i,t.length-1),[r,o]=[a-1,a+1],s=Math.max(0,r-10),l=Math.min(e.length-1,o+10);P(s),F(l),C!==a&&(M(a),null==d||d(a))}),[C,d,e.length]),H=t.useCallback((()=>{R.current&&(f&&_(),V(T))}),[_,f,T,V]),K=t.useMemo((()=>g.lodashExports.throttle(H,50,{leading:!0})),[H]);B.useEffect((()=>{V(T)}),[T,V]);const z=t.useCallback(((e,t=null,a)=>{const o=R.current;if(e<0||e>=n||!o)return;const s=t?t[e]:T[e],l=a?a*r-o.clientHeight/2:0;o.scrollTop=Math.max(s+i.DOC_LI_MARGIN+l,i.DOC_LI_MARGIN)}),[n,T,r]);t.useEffect((()=>{x&&x.setRetrieveCurrentPageIndex((()=>C))}),[C,x]);const q=t.useCallback((()=>{z(Math.max(0,C-1))}),[C,z]),W=t.useCallback((()=>{n&&z(Math.min(n-1,C+1))}),[C,n,z]),j=i.useStabilizedCallback((()=>A?q():(()=>{const e=R.current;e&&e.scrollTo(0,e.scrollTop-60)})())),$=i.useStabilizedCallback((()=>A?W():(()=>{const e=R.current;e&&e.scrollTo(0,e.scrollTop+60)})())),X=t.useMemo((()=>[...l.getPageUpDownBindings({pageUp:q,pageDown:W}),...l.getUpDownBindings({up:j,down:$}),...l.getHomeEndBindings({home:I,end:E})]),[q,W,j,$,I,E]),G=a.usePrevious(f),J=a.usePrevious(b);t.useEffect((()=>{if(f&&G&&b.serialized!==(null==J?void 0:J.serialized))_();else if(f){const t=f.offset,n=t?"absolute"===t.offsetType?t.centerOnYOffset:t.centerOnYPercentageOffset*e[f.pageIndex].dimension[1]:void 0;z(f.pageIndex,T,n)}}),[_,T,f,G,J,b,z,e]);const Y={height:O,minWidth:`${U+50}px`};return B.createElement("div",{className:s,onScroll:K,ref:R,"data-preview-viewport":!0},B.createElement("ol",{style:Y},B.createElement(v.FilePreviewBrandingLogoAndSocials,{teamBranding:y,userBranding:L,isEditing:N}),e.slice(D,k+1).map(((t,n)=>(t=>{const n=e[t],i=T[t];return B.createElement($e,{key:n.pageIndex,index:t,pageData:n,isFocused:C===t,onMouseDown:c,onMouseEnter:u,onMouseMove:h,onMouseUp:p,onRef:m,scaleFactor:r,top:i,children:o,findInDocHighlights:null==w?void 0:w.highlights.get(t),findInDocCurrentHit:null==w?void 0:w.currentHit,viewportElRef:R,textHighlighters:S})})(D+n)))),B.createElement(l.KeyboardBindingConnector,{name:"preview_pdf",keyboardBindings:X}))};Ye.displayName="PdfPages";const Ze=parseInt("112px",10),Qe=parseInt("4px",10),et=Ze-2*Qe;const tt=({isSelected:e,onClick:t,index:n,intl:a,thumbnailUrl:r,aspectRatio:o,isVisible:s,isEditMode:l,isSidebarFocused:d,top:c})=>{const u=B.useRef(null),[g,h]=B.useState(!1),[p,f]=B.useState(!1),m=B.useCallback((()=>{f(!0)}),[]),_=B.useCallback((()=>{h(!0)}),[]),b=B.useRef(e);B.useEffect((()=>{var t;d&&e&&!b.current&&(null===(t=u.current)||void 0===t||t.focus())}),[d,e]),B.useEffect((()=>{b.current=e}),[e]);const v=n+1,w=a.formatMessage({id:"HL27OJ",defaultMessage:"Page {index}"},{index:v});return B.createElement("li",{"data-index":n,style:{transform:`translateY(${c}px`}},B.createElement("a",{href:"#",onClick:e=>{e.preventDefault(),t(n)},tabIndex:-1,"aria-current":e?"page":void 0,"aria-label":w,ref:u},B.createElement("div",{className:"_thumbnailContainer_1gby7_76"},B.createElement("div",{className:i.cx("_thumbnail_1gby7_69",{_selected_1gby7_105:e,_isUnfocusedInEditMode_1gby7_117:l&&!d}),style:{height:et*o+2*Qe}},!s||(g||p)&&r?void 0:B.createElement(i.Spinner,{className:"_loader_1gby7_96",size:"xsmall"}),s&&r&&!g?B.createElement("img",{src:r,onLoad:m,onError:_,alt:""}):void 0),B.createElement("span",{"aria-hidden":!0},v))))};tt.displayName="InternalSidebarItem";const nt=e=>{const{currentPageIndex:t,isFocused:n,onPageChange:r,onBlur:o,onFocus:s,pages:l,intl:d,style:c,isEditMode:u}=e,[h,p]=B.useState(0),[f,m]=B.useState(0),[_,b]=B.useState(0),[v,w]=B.useState(0),[x,L]=B.useState(0),[y,N]=B.useState([]),[I,E]=B.useState(0),A=B.useRef(null),S=B.useRef(null),C=B.useCallback((()=>{if(0===l.length)return[];const e=[32];let t=32;for(let n=0;n<l.length-1;++n){const i=l[n].dimension,a=et*i[1]/i[0]+2*Qe+24+20+24;e.push(t+a),t+=a}const n=l[l.length-1].dimension,i=et*n[1]/n[0]+2*Qe;return E(t+i+48),N(e),e}),[l]),M=B.useMemo((()=>g.lodashExports.throttle((e=>{S.current&&(S.current.scrollTop=y[e])}),50,{leading:!1,trailing:!0})),[y]),D=B.useCallback((e=>{e<0||e>=l.length||!S.current||(e<v||e>=x)&&M(e)}),[x,M,l.length,v]),P=B.useCallback((e=>{if(!S.current)return;const[t,n]=[g.lodashExports.sortedIndex(e,S.current.scrollTop),g.lodashExports.sortedIndex(e,S.current.scrollTop+S.current.offsetHeight)];w(t),L(n),m(Math.max(0,t-10)),b(Math.min(l.length-1,n+10))}),[l.length]),k=B.useCallback((()=>{A.current&&P(y)}),[y,P]),F=B.useMemo((()=>g.lodashExports.throttle(k,50,{leading:!0})),[k]);B.useEffect((()=>{P(C()),S.current&&p(S.current.offsetHeight)}),[C,P]);const R=a.usePrevious(t);B.useEffect((()=>{S.current&&S.current.offsetHeight!==h&&(P(y),p(S.current.offsetHeight)),t!==R&&D(t)}),[h,t,y,R,D,P]);const T=B.useMemo((()=>l.slice(f,_+1).map(((e,i)=>{const a=i+f;return B.createElement(tt,{key:a,isSelected:t===a,onClick:r,index:a,intl:d,thumbnailUrl:e.thumbnailUrl,isVisible:!0,aspectRatio:e.dimension[1]/e.dimension[0],isSidebarFocused:!0===n,isEditMode:u,top:y[a]})}))),[t,_,d,u,n,r,l,y,f]),O={height:I};return B.createElement("div",{className:i.cx("_container_1gby7_14",{_focused_1gby7_112:n,_isEditMode_1gby7_65:u}),"aria-label":d.formatMessage({id:"HzLiwF",defaultMessage:"Document Sidebar"}),style:c,ref:S,onScroll:F},B.createElement("ol",{"aria-label":d.formatMessage({id:"J/2gSB",defaultMessage:"Page list"}),ref:A,tabIndex:0,onFocus:s,onBlur:o,style:O},T))};nt.displayName="SidebarFC";const it=B.memo(nt,((e,t)=>{const{pages:n,...a}=e,{pages:r,...o}=t;return i.shallowEqual(a,o)&&function(e,t){return e.length===t.length&&!e.find(((e,n)=>e.thumbnailUrl!==t[n].thumbnailUrl))}(n,r)}));it.displayName="Sidebar";const at=({commentPlugin:e,activeOverlayEditor:a,activeTextHighlighter:o,textHighlightersInstances:s,brandingInfo:l,featureConfig:d,data:u,fileInfo:g,fileMetadata:h,filePreviewUiData:f,fileViewerId:m,fileViewerUiData:x,findInDocController:L,findInDocData:y,header:N,layerRenderFn:I,logSidebarPageClick:E,onMouseDown:A,onMouseEnter:S,onMouseMove:C,onMouseUp:M,onPageChange:D,onPageImageError:P,onPageRef:k,onRenderSucceeded:F,previewKey:R,previewMetadata:T,rivieraData:O,sharedLinkInfo:U,width:V,logDocPageload:H,isEditing:K})=>{const[z,q]=t.useState(!1),[W,j]=t.useState(!1),$=t.useRef({}),X=b.useDispatch(),G=n.useIntl(),{currentPageIndex:J}=f,Y=i.getScaleFactorFromFilePreviewUi(f),{isDocSidebarOpen:Z,isFullScreen:Q}=x,ee=De(V,i.PreviewType.SsrDoc),te=p.useIsCommentsModeActive(),ne=!!c.useActiveEditorId(),ie=_.isMobileRedesignEnabled(d),ae=t.useCallback((()=>{q(!0)}),[]),re=t.useCallback((()=>{q(!1)}),[]),oe=i.useStabilizedCallback((e=>{X(r.pageNavigation({fileViewerId:m,previewKey:R,pageIndex:e}))})),se=i.useStabilizedCallback((e=>{ae(),oe(e),null==E||E()})),le=i.useStabilizedCallback((()=>{X(r.resolvePageNavigation({fileViewerId:m,previewKey:R}))})),ce=i.useStabilizedCallback((()=>{!W&&Object.keys($.current).find((e=>3===$.current[+e]))&&(j(!0),null==F||F())})),ue=t.useCallback((e=>{oe(e)}),[oe]),ge=t.useCallback(((e,t)=>{$.current[e]|=2,ce(),i.PreviewsEventLogger.mark(i.PreviewsTimingEvents.FVSDK_FIRST_DOC_PAGE_ON_LOAD),null==H||H(i.DocPageLoadState.Loaded,{durationMs:t})}),[ce,H]),he=t.useCallback(((e,t)=>{null==P||P(),null==H||H(i.DocPageLoadState.Error,{error:t})}),[P,H]),pe=t.useCallback((e=>{$.current[e]|=1,ce()}),[ce]),fe=t.useCallback((()=>{oe(0)}),[oe]),me=t.useCallback((()=>{oe(O.pages.length-1)}),[oe,O.pages.length]),_e=t.useMemo((()=>(u||[]).slice(0,W?void 0:1)),[u,W]),be=B.useMemo((()=>a||o||(te?e:void 0)),[a,o,e,te]),ve=B.useMemo((()=>I({activeOverlayPlugin:be,featureConfig:d,fileViewerUiData:x,dispatch:X,fileInfo:g,fileMetadata:h,fileViewerId:m,intl:G,previewKey:R,previewMetadata:T,onImageError:he,onImageLoad:ge,onInternalLinkClicked:ue,onTextRendered:pe})),[be,X,d,g,h,m,x,he,ge,ue,pe,G,I,R,T]);return B.createElement(B.Fragment,null,B.createElement("div",{role:"document",className:i.cx(de)},Z&&ee&&!Q&&B.createElement(it,{isEditMode:ne,currentPageIndex:J,pages:u,intl:G,isFocused:z,onPageChange:se,onFocus:ae,onBlur:re}),B.createElement(w.ContentHeader,{header:N},d.mobile_web&&ie&&B.createElement(We,{currentPage:J+1,totalPages:O.pages.length}),B.createElement(v.FilePreviewBrandingBackground,{teamBranding:U,userBranding:l,isEditing:K},B.createElement(Ye,{className:i.cx("_pdfViewport_1ythq_102"),count:u?u.length:1,onMouseDown:A,onMouseEnter:S,onMouseMove:C,onMouseUp:M,onPageChange:D,pages:_e,scaleFactor:Y,pageNavigation:f.pageNavigation,dispatchResolvePageNavigation:le,onPageRef:k,previewKey:R,findInDocData:y,findInDocController:L,brandingInfo:l,sharedLinkInfo:U,isEditing:K,onKeyHome:fe,onKeyEnd:me,isSidebarFocused:z,textHighlighters:s},ve)))))};at.displayName="PreviewPDF";const rt=({commentPlugin:e,activeOverlayEditor:a,textHighlightersInstances:o,activeTextHighlighter:s,brandingInfo:d,featureConfig:c,data:u,fileInfo:h,fileMetadata:f,filePreviewUiData:m,fileViewerId:x,fileViewerUiData:L,findInDocController:y,findInDocData:N,header:I,height:E,layerRenderFn:A,logSidebarPageClick:S,onPageChange:C,onPageMouseDown:M,onPageMouseEnter:D,onPageMouseMove:P,onPageMouseUp:k,onPageRef:F,onRenderSucceeded:R,previewKey:T,previewMetadata:O,refCallback:U,rivieraData:V,sharedLinkInfo:H,width:K,logDocPageload:z,isEditing:q})=>{const[W,j]=t.useState(!0),[$,X]=t.useState(!1),G=t.useRef(new Set),J=t.useRef({}),Y=b.useDispatch(),Z=n.useIntl(),Q=m.currentPageIndex,ee=i.getScaleFactorFromFilePreviewUi(m),{isDocSidebarOpen:te,isFullScreen:ne}=L,ie=$&&De(K,i.PreviewType.SsrDoc)&&!ne,ae=_.isMobileRedesignEnabled(c),re=p.useIsCommentsModeActive(),oe=t.useRef(null),se=i.useSetLocalErrorCallback(T),le=t.useCallback(((e,t)=>{null==z||z(i.DocPageLoadState.Error,{error:t}),se(new i.FVError(i.FVErrorCode.RivieraDataFetchFailure,i.ErrorLifecycle.Render,t))}),[z,se]);t.useEffect((()=>{const e=Math.max(0,Q-10),t=Math.min(u.length-1,Q+10);u.slice(e,t+1).map((e=>{const{pageIndex:t,imgUrls:n}=e;G.current.has(t)||(i.rivieraClient.fetchDocImage({page:t,imageUrlTmpl:n.imageUrlTmpl}).then((({error:e})=>{e&&le(t,null==e?void 0:e.message)})),G.current.add(t))}))}),[Q,u,le]),t.useEffect((()=>{y&&y.setRetrieveCurrentPageIndex((()=>m.currentPageIndex))}),[]),t.useEffect((()=>{var e,t;(null===(e=m.pageNavigation)||void 0===e?void 0:e.pageIndex)&&(C(null===(t=m.pageNavigation)||void 0===t?void 0:t.pageIndex,i.UserActionContext.Default),Y(r.resolvePageNavigation({fileViewerId:x,previewKey:T})))}),[m.pageNavigation,C,Y,x,T]);const ce=i.useStabilizedCallback((e=>{ge(),null==S||S(),C&&C(e,i.UserActionContext.DocSidebar)})),ue=i.useStabilizedCallback(g.lodashExports.debounce((e=>{if(!u.length)return;const t=i.getScaleFactorFromFilePreviewUi(m),{currentPageIndex:n}=m,a=(r=u[n].dimension,o=[K,E],i.calculateFitBox(o[0],o[1],r[0]/r[1])[0]/r[0]);var r,o;t.toFixed(2)<=a.toFixed(2)&&C&&C(n+(e.deltaY>0?1:-1),i.UserActionContext.MouseWheel)}),40,{leading:!0,trailing:!1})),ge=t.useCallback((()=>{j(!0)}),[]),he=t.useCallback((()=>{j(!1)}),[]),pe=i.useStabilizedCallback((()=>{!$&&Object.keys(J.current).find((e=>3===J.current[+e]))&&(X(!0),null==R||R())})),fe=t.useCallback((()=>{}),[]),me=t.useCallback(((e,t)=>(J.current[e]|=2,i.PreviewsEventLogger.mark(i.PreviewsTimingEvents.FVSDK_FIRST_DOC_PAGE_ON_LOAD),t&&(null==z||z(i.DocPageLoadState.Loaded,{durationMs:t})),pe())),[pe,z]),_e=t.useCallback((e=>{J.current[e]|=1,pe()}),[pe]),be=i.useStabilizedCallback((()=>C(m.currentPageIndex-1,i.UserActionContext.Keyboard))),ve=i.useStabilizedCallback((()=>C(m.currentPageIndex+1,i.UserActionContext.Keyboard))),we=i.useStabilizedCallback((()=>C(0,i.UserActionContext.Keyboard))),xe=i.useStabilizedCallback((()=>C(V.pages.length-1,i.UserActionContext.Keyboard))),Le=t.useMemo((()=>[...l.getPageUpDownBindings({pageUp:be,pageDown:ve}),...l.getUpDownBindings({up:be,down:ve}),...l.getHomeEndBindings({home:we,end:xe})]),[ve,we,xe,be]);return B.createElement(B.Fragment,null,B.createElement("div",{role:"document",ref:U,className:de,style:{height:E,width:K}},ie&&te?B.createElement(it,{currentPageIndex:Q,pages:u,intl:Z,isFocused:W,onPageChange:ce,onFocus:ge,onBlur:he}):null,B.createElement(w.ContentHeader,{header:I,"data-preview-viewport":!0},c.mobile_web&&ae&&B.createElement(We,{currentPage:Q+1,totalPages:V.pages.length}),B.createElement(v.FilePreviewBrandingBackground,{teamBranding:H,userBranding:d,isEditing:q},B.createElement("div",{className:"_pptViewport_1ythq_108",onWheel:ue,ref:oe},B.createElement("div",{className:"_pptSizer_1ythq_126"},B.createElement(v.FilePreviewBrandingLogoAndSocials,{teamBranding:H,userBranding:d,isEditing:q}),B.createElement(je,{key:Q,onMouseDown:M,onMouseEnter:D,onMouseMove:P,onMouseUp:k,onRef:F,data:u?u[Q]:void 0,scaleFactor:ee,findInDocHighlights:null==N?void 0:N.highlights.get(Q),findInDocCurrentHit:null==N?void 0:N.currentHit,viewportElRef:oe,textHighlighters:o},A({activeOverlayPlugin:a||s||(re?e:void 0),featureConfig:c,fileViewerUiData:L,dispatch:Y,fileInfo:h,fileMetadata:f,fileViewerId:x,intl:Z,previewKey:T,previewMetadata:O,onImageError:le,onImageLoad:me,onInternalLinkClicked:fe,onTextRendered:_e}))))))),B.createElement(l.KeyboardBindingConnector,{name:"preview_ppt",keyboardBindings:Le}))};rt.displayName="PreviewPPT";const ot=async(e,t,n,a,r,o,s,l)=>{var d;const c=i.prepareArchiveQueryFileInfo(a,r),u=await i.rivieraClient.refreshDocBlob(o,s);if((null===(d=u.error)||void 0===d?void 0:d.statusCode)===i.RivieraStatus.PasswordProtected)return;if(u.error)return void n(new i.FVError(i.FVErrorCode.RivieraDataFetchFailure,i.ErrorLifecycle.Download,u.error.message));const g=u.data,h={content:{...null==t?void 0:t.content,text_url_tmpl:g.text,image_url_tmpl:g.image,refresh_url:g.refresh,".tag":"ssr_doc"},preview_url:null==t?void 0:t.preview_url};if(n(void 0),i.isNestedArchiveFilePreviewKey(e)){if(!l)throw new Error("subpath must be defined when updating doc metadata in an archive");((e,t,n,a)=>{var r,o,s;const l=x.queryClient,d=i.createNestedArchivePreviewMetadataQueryKey(e,n),c=l.getQueryData(d),u=null!==(s=null===(o=null===(r=null==c?void 0:c.apiData)||void 0===r?void 0:r.archive_files)||void 0===o?void 0:o.map((e=>e.subpath===a?{...e,preview:t}:e)))&&void 0!==s?s:[];c&&l.setQueryData(d,{apiData:{...c.apiData,archive_files:u},pkgData:null})})(c,{...h,previewType:i.PreviewType.SsrDoc},l,e.subpath)}else f.setPreviewMetadata(h,c,r)};class st extends B.PureComponent{constructor(e){super(e),this.state={transformedData:this.props.rivieraData&&se(this.props.rivieraData)},this.pageRefs={},this.capturePageRef=(e,t)=>{null==t?delete this.pageRefs[e]:this.pageRefs[e]={el:t,pageIndex:e}},this.handlePageChange=(e,t)=>{var n,a;this.props.dispatch(o.logUserActionEvent({userAction:i.UserAction.PageJump,fileViewerId:this.props.fileViewerId,actionContext:t})),this.props.dispatch(r.updateDocCurrentPageIndex({fileViewerId:this.props.fileViewerId,previewKey:this.props.previewKey,pageIndex:e,totalPageCount:null===(a=null===(n=this.props.rivieraData)||void 0===n?void 0:n.metadata)||void 0===a?void 0:a.page_count}))},this.handlePdfPageChange=e=>{this.handlePageChange(e,i.UserActionContext.MouseWheel)},this.getPageForSelection=e=>{if(null!=e)for(const{pageIndex:t,el:n}of Object.values(this.pageRefs))if(null!=n&&null!=e.anchorNode&&e.anchorNode.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINS&&null!=e.focusNode&&e.focusNode.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINS)return t},this.handlePasswordSubmit=e=>{const{fileViewerId:t,fileInfo:n,sharedLinkInfo:a,previewKey:o,previewMetadata:s,dispatch:l,subpaths:d,setLocalError:c}=this.props;if(!s||!s.content)return;l(r.incrementDocPasswordAttempts({fileViewerId:t,previewKey:o}));const{refresh_url:u}=s.content;!function(e,t=i.FVErrorCode.Unknown,n,a){if(!e){let e;throw e=void 0===a?new i.FVError(t,n,"An error occurred for unknown reason"):new i.FVError(t,n,a),e}}(!!u,i.FVErrorCode.MalformedRivieraData,i.ErrorLifecycle.Render,"Cannot send password! Missing refresh_url from preview metadata"),ot(o,s,c,n,a,u,e,d)},this.showPasswordProtectedError=()=>{var e;const{setLocalError:t}=this.props;L.isMSOfficeFile(null===(e=this.props.fileMetadata)||void 0===e?void 0:e.file_name)?t(new i.FVError(i.FVErrorCode.OfficeFilePasswordProtected,i.ErrorLifecycle.Download)):t(new i.FVError(i.FVErrorCode.PasswordProtected,i.ErrorLifecycle.Download))},this.hasFetchedPageData=e=>this.metadataBatchPageRanges.some((t=>e[0]>=t[0]&&e[1]<=t[1])),this.fetchPageRange=e=>{this.metadataBatchPageRanges.push(e),this.props.fetchNextPageBatch({pageParam:{continueArg:{apiArg:{batchFirstPage:e[0],batchLastPage:e[1]},pkgArg:this.props.rivieraData}}})},this.maybeFetchPageDataWithMetadata=e=>{const t=i.calculatePageRange(e);this.hasFetchedPageData(t)||this.fetchPageRange(t);const n=i.getNextPageRange(t);!this.hasFetchedPageData(n)&&i.shouldFetchNextBatch(e,t)&&this.props.rivieraData.metadata&&n[0]<this.props.rivieraData.metadata.page_count&&this.hasFetchedPageData(n)},this.onRenderSucceeded=()=>{this.props.onRenderSucceeded(),this.maybeFetchPageDataWithMetadata(this.props.filePreviewUiData.currentPageIndex)},this.zoomIn=()=>{const{dispatch:e,fileViewerId:t,previewKey:n}=this.props;e(r.zoomIn({fileViewerId:t,previewKey:n})),e(o.logUserActionEvent({userAction:i.UserAction.ZoomIn,fileViewerId:t,actionContext:i.UserActionContext.Keyboard}))},this.zoomOut=()=>{const{dispatch:e,fileViewerId:t,previewKey:n}=this.props;e(r.zoomOut({fileViewerId:t,previewKey:n})),e(o.logUserActionEvent({userAction:i.UserAction.ZoomOut,fileViewerId:t,actionContext:i.UserActionContext.Keyboard}))},this.logSidebarPageClick=()=>{this.props.dispatch(o.logUserActionEvent({userAction:i.UserAction.SelectSidebarPage,fileViewerId:this.props.fileViewerId,actionContext:i.UserActionContext.LeftRail}))},this.logDocPageload=(e,t)=>{const n=null==t?void 0:t.durationMs,a=null==t?void 0:t.error;this.props.dispatch(o.logBackgroundEvent({event:i.BackgroundEvent.DocPageLoad,fileViewerId:this.props.fileViewerId,extra:{status:e,...n?{durationMs:null==n?void 0:n.toString()}:{},...a?{error:a}:{}}}))},this.logFindAction=(e,t,n)=>{this.props.dispatch(o.logUserActionEvent({userAction:e,fileViewerId:this.props.fileViewerId,actionContext:t,extra:{find_method:n}}))},this.findInDoc=e=>{if(this.state.findInDoc){if(this.logFindAction(i.UserAction.FindInDocStart,"keyboard"===e?i.UserActionContext.Keyboard:i.UserActionContext.Toolbar,e),"click"===e&&this.props.dispatch(o.logUserActionEvent({userAction:i.UserAction.Search,fileViewerId:this.props.fileViewerId,actionContext:i.UserActionContext.PreviewToolbar})),this.props.rivieraData.metadata){const e=[0,this.props.rivieraData.metadata.page_count];this.hasFetchedPageData(e)||(this.metadataBatchPageRanges.push(e),this.state.findInDoc.controller.fetchTextForAllPages())}this.setState({findInDoc:{...this.state.findInDoc,searchbarShown:!0}})}},this.closeFindInDoc=e=>{this.state.findInDoc&&(this.logFindAction(i.UserAction.FindInDocEnd,"keyboard"===e?i.UserActionContext.Keyboard:i.UserActionContext.FindInDocSearchbar,e),this.state.findInDoc.controller.onReset(),this.setState({findInDoc:{...this.state.findInDoc,searchbarShown:!1,searchResult:void 0}}))},this.keyboardBindings=[...l.getZoomInOutBindings({zoomIn:this.zoomIn,zoomOut:this.zoomOut}),l.getBrowserFindBinding((()=>this.logFindAction(i.UserAction.FindInDocStart,i.UserActionContext.Keyboard,"keyboard"))),l.getFindInDocBinding((()=>this.findInDoc("keyboard")))],this.metadataBatchPageRanges=[[0,i.TEXT_BATCH_SIZE]],i.PreviewsEventLogger.mark(i.PreviewsTimingEvents.FVSDK_DOC_CONTAINER_START),this.state.findInDoc={searchbarShown:!1,controller:new ue({fileViewerId:e.fileViewerId,previewKey:e.previewKey,dispatch:e.dispatch,retrievePages:()=>{var e,t;return null!==(t=null===(e=this.props.rivieraData)||void 0===e?void 0:e.pages)&&void 0!==t?t:[]},previewMetadata:e.previewMetadata,rivieraData:e.rivieraData,onSearchResult:e=>{this.state.findInDoc&&this.setState({findInDoc:{...this.state.findInDoc,searchResult:e}})},fetchNextPageChunk:e.fetchNextPageBatch})}}recalculateFitScaleFactor(e=this.props){var t;const{rivieraData:n,fileViewerId:a,previewKey:o,width:s,height:l,dispatch:d,featureConfig:c}=e;if(!n||!n.metadata)return;const u=De(s,i.PreviewType.SsrDoc)&&e.fileViewerUiData.isDocSidebarOpen,g=null===(t=this.props.fileMetadata)||void 0===t?void 0:t.file_name,{scaleToFit:h,maxWidth:p}=c.preview_types[i.PreviewType.SsrDoc],f=function(e){const{width:t,height:n,dimensions:a,isDocSidebarVisible:r,scaleToFit:o,fileName:s,maxWidth:l}=e;if(0===a.length)return 1;const d=Math.max(0,t-ye-Ie-(r?Ee:0)-i.DOC_EXTRA_HORIZONTAL_MARGIN),c=Me(s)?Math.max(0,n-2*Ne):Math.max(0,n-Ne),u=null!=l?Math.min(d,l):d,g=c,h=Ce.includes(i.getFileExtension(s)),p="width_and_height"===o&&!h,f=a.reduce(((e,[t,n])=>Math.min(e,u/t,p?g/n:Number.POSITIVE_INFINITY)),Number.POSITIVE_INFINITY);return Math.min(f,p?Number.POSITIVE_INFINITY:Se)}({width:s,height:l,dimensions:n.metadata.dimensions,isDocSidebarVisible:u,scaleToFit:h,fileName:g,maxWidth:p});d(r.updateFitScaleFactor({fileViewerId:a,previewKey:o,fitScaleFactor:f}));const m=function(e){const{width:t,dimensions:n,isDocSidebarVisible:a,maxWidth:r}=e;if(0===n.length)return 1;const o=Math.max(0,t-ye-Ie-(a?Ee:0)-i.DOC_EXTRA_HORIZONTAL_MARGIN),s=r?Math.min(o,r):o;return n.reduce(((e,[t])=>Math.min(e,s/t)),Number.POSITIVE_INFINITY)}({width:s,dimensions:n.metadata.dimensions,isDocSidebarVisible:u,maxWidth:p});d(r.updateFitToWidthScaleFactor({fileViewerId:a,previewKey:o,storedFitToWidthScaleFactor:m}))}componentDidUpdate(){this.props.filePreviewUiData.passwordAttempts>=3&&this.showPasswordProtectedError()}componentDidMount(){this.recalculateFitScaleFactor(),i.PreviewsEventLogger.mark(i.PreviewsTimingEvents.FVSDK_DOC_CONTAINER_MOUNT)}UNSAFE_componentWillReceiveProps(e){const{rivieraData:t,previewMetadata:n}=e;t!==this.props.rivieraData&&this.setState({transformedData:t&&se(t)});const{currentPageIndex:a}=e.filePreviewUiData;i.canPreviewInPreviewDoc(n)&&this.maybeFetchPageDataWithMetadata(a),this.recalculateFitScaleFactor(e)}render(){const{featureConfig:e,fileMetadata:t,filePreviewUiData:n,width:r,brandingInfo:o,sharedLinkInfo:s}=this.props,{transformedData:d,findInDoc:c}=this.state,u=t?t.file_name:"";if(u&&".pdf"!==i.getFileExtension(u)&&this.props.rivieraData.needsPassword)return this.showPasswordProtectedError(),null;if(this.props.rivieraData.needsPassword)return B.createElement(ze,{passwordAttempt:n.passwordAttempts,onSubmit:this.handlePasswordSubmit,onDismiss:this.showPasswordProtectedError,fileName:u});const g=ye+Ie,h=Math.round(100*(r-g-Ee)/window.innerWidth/window.devicePixelRatio),p={...n,viewportWidth:h},f={...this.props,onRenderSucceeded:this.onRenderSucceeded,filePreviewUiData:p,data:d||[],onPageChange:this.handlePdfPageChange,layerRenderFn:Ke,findInDocData:null==c?void 0:c.searchResult,findInDocController:null==c?void 0:c.controller,brandingInfo:o,sharedLinkInfo:s,logSidebarPageClick:this.logSidebarPageClick,logDocPageload:this.logDocPageload};return B.createElement("div",{className:"_app_1ythq_175"},B.createElement(a.PreviewControlWrapper,{onFindInDoc:()=>this.findInDoc("click"),getPageForSelection:this.getPageForSelection}),Me(u)&&!e.mobile_web?B.createElement(rt,{...f,onPageChange:this.handlePageChange,onPageRef:this.capturePageRef}):B.createElement(at,{...f,onPageRef:this.capturePageRef}),c&&c.searchbarShown&&B.createElement(ge,{onClose:this.closeFindInDoc,controller:c.controller}),B.createElement(l.KeyboardBindingConnector,{name:"preview_doc",keyboardBindings:this.keyboardBindings}))}}st.displayName="UnconnectedPreviewDoc";const lt=e=>{const{fileViewerId:t,previewKey:a,rivieraDataResult:o,onRenderSucceeded:l,previewSessionId:u,brandingInfo:g}=e,h=n.useIntl(),p=b.useDispatch(),{isLoggedIn:f}=i.useFileViewerContext(),m=i.useSharedLinkInfo(),_=i.usePreviewState(t,a,i.filterDocFilePreviewUiState),v=i.useCurrentPreviewMetadata(),w=i.useCurrentSubpaths(),x=i.useFileViewerSelector(i.getRootFile,t),L=!!i.useFileViewerSelector(c.getSelectedEditPluginId,t),y=s.useRenderSucceededWithLogging(u,l);(()=>{const{fileViewerId:e,optionalIOClients:{preferencesClient:t}}=i.useFileViewerContext(),n=b.useDispatch();B.useEffect((()=>{if(!(null==t?void 0:t.docSidebar))return;const i=t.docSidebar.getCollapsedState();n(i?r.closeDocSidebar({fileViewerId:e}):r.openDocSidebar({fileViewerId:e}))}),[n,e,null==t?void 0:t.docSidebar])})();const N=i.useSsrDocDataPreparedForDisplay(null==v?void 0:v.content,o);return!_||o.isLoading?B.createElement(d.LoadingIndicator,null):N&&o.fetchNextPage?B.createElement(st,{...e,..._,onRenderSucceeded:y,intl:h,dispatch:p,isLoggedIn:f,sharedLinkInfo:m,brandingInfo:g,rivieraData:N,isEditing:L,fetchNextPageBatch:o.fetchNextPage,previewMetadata:v,subpaths:w,fileInfo:x}):null};lt.displayName="PreviewDoc",e.PreviewDoc=lt,e.UnconnectedPreviewDoc=st}));
//# sourceMappingURL=c_file_viewer_preview_doc.js-vflREYhPH.map

//# debugId=9bbb9cbe-4f4e-38ae-b7de-0874cef34d3b